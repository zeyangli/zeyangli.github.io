[
{
	"uri": "/cont/pages/",
	"title": "Pages organization",
	"tags": [],
	"description": "",
	"content": " In Hugo, pages are the core of your site. Once it is configured, pages are definitely the added value to your documentation site.\nFolders Organize your site like any other Hugo project. Typically, you will have a content folder with all your pages.\ncontent â”œâ”€â”€ level-one â”‚ â”œâ”€â”€ level-two â”‚ â”‚ â”œâ”€â”€ level-three â”‚ â”‚ â”‚ â”œâ”€â”€ level-four â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ _index.md \u0026lt;-- /level-one/level-two/level-three/level-four â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ page-4-a.md \u0026lt;-- /level-one/level-two/level-three/level-four/page-4-a â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ page-4-b.md \u0026lt;-- /level-one/level-two/level-three/level-four/page-4-b â”‚ â”‚ â”‚ â”‚ â””â”€â”€ page-4-c.md \u0026lt;-- /level-one/level-two/level-three/level-four/page-4-c â”‚ â”‚ â”‚ â”œâ”€â”€ _index.md \u0026lt;-- /level-one/level-two/level-three â”‚ â”‚ â”‚ â”œâ”€â”€ page-3-a.md \u0026lt;-- /level-one/level-two/level-three/page-3-a â”‚ â”‚ â”‚ â”œâ”€â”€ page-3-b.md \u0026lt;-- /level-one/level-two/level-three/page-3-b â”‚ â”‚ â”‚ â””â”€â”€ page-3-c.md \u0026lt;-- /level-one/level-two/level-three/page-3-c â”‚ â”‚ â”œâ”€â”€ _index.md \u0026lt;-- /level-one/level-two â”‚ â”‚ â”œâ”€â”€ page-2-a.md \u0026lt;-- /level-one/level-two/page-2-a â”‚ â”‚ â”œâ”€â”€ page-2-b.md \u0026lt;-- /level-one/level-two/page-2-b â”‚ â”‚ â””â”€â”€ page-2-c.md \u0026lt;-- /level-one/level-two/page-2-c â”‚ â”œâ”€â”€ _index.md \u0026lt;-- /level-one â”‚ â”œâ”€â”€ page-1-a.md \u0026lt;-- /level-one/page-1-a â”‚ â”œâ”€â”€ page-1-b.md \u0026lt;-- /level-one/page-1-b â”‚ â””â”€â”€ page-1-c.md \u0026lt;-- /level-one/page-1-c â”œâ”€â”€ _index.md \u0026lt;-- / â””â”€â”€ page-top.md \u0026lt;-- /page-top  _index.md is required in each folder, itâ€™s your â€œfolder home pageâ€\n Types Hugo-theme-learn defines two types of pages. Default and Chapter. Both can be used at any level of the documentation, the only difference being layout display.\nA Chapter displays a page meant to be used as introduction for a set of child pages. Commonly, it contains a simple title and a catch line to define content that can be found under it. You can define any HTML as prefix for the menu. In the example below, it\u0026rsquo;s just a number but that could be an icon.\n+++ title = \u0026quot;Basics\u0026quot; chapter = true weight = 5 pre = \u0026quot;\u0026lt;b\u0026gt;1. \u0026lt;/b\u0026gt;\u0026quot; +++ ### Chapter 1 # Basics Discover what this Hugo theme is all about and the core-concepts behind it.  To tell Hugo-theme-learn to consider a page as a chapter, set chapter=true in the Front Matter of the page.\nA Default page is any other content page.\n+++ title = \u0026quot;Installation\u0026quot; weight = 15 +++  The following steps are here to help you initialize your new website. If you don\u0026rsquo;t know Hugo at all, we strongly suggest you to train by following this great documentation for beginners.\nCreate your project Hugo provides a new command to create a new website.\nhugo new site \u0026lt;new_project\u0026gt;  Hugo-theme-learn provides archetypes to help you create this kind of pages.\nFront Matter configuration Each Hugo page has to define a Front Matter in yaml, toml or json.\nHugo-theme-learn uses the following parameters on top of Hugo ones :\n+++ # Table of content (toc) is enabled by default. Set this parameter to true to disable it. # Note: Toc is always disabled for chapter pages disableToc = \u0026quot;false\u0026quot; # If set, this will be used for the page's menu entry (instead of the `title` attribute) menuTitle = \u0026quot;\u0026quot; # The title of the page in menu will be prefixed by this HTML content pre = \u0026quot;\u0026quot; # The title of the page in menu will be postfixed by this HTML content post = \u0026quot;\u0026quot; # Set the page as a chapter, changing the way it's displayed chapter = false # Hide a menu entry by setting this to true hidden = false # Display name of this page modifier. If set, it will be displayed in the footer. LastModifierDisplayName = \u0026quot;\u0026quot; # Email of this page modifier. If set with LastModifierDisplayName, it will be displayed in the footer LastModifierEmail = \u0026quot;\u0026quot; +++  Add icon to a menu entry In the page frontmatter, add a pre param to insert any HTML code before the menu label. The example below uses the Github icon.\n+++ title = \u0026quot;Github repo\u0026quot; pre = \u0026quot;\u0026lt;i class='fab fa-github'\u0026gt;\u0026lt;/i\u0026gt; \u0026quot; +++  Ordering sibling menu/page entries Hugo provides a flexible way to handle order for your pages.\nThe simplest way is to set weight parameter to a number.\n+++ title = \u0026quot;My page\u0026quot; weight = 5 +++  Using a custom title for menu entries By default, Hugo-theme-learn will use a page\u0026rsquo;s title attribute for the menu item (or linkTitle if defined).\nBut a page\u0026rsquo;s title has to be descriptive on its own while the menu is a hierarchy. We\u0026rsquo;ve added the menuTitle parameter for that purpose:\nFor example (for a page named content/install/linux.md):\n+++ title = \u0026quot;Install on Linux\u0026quot; menuTitle = \u0026quot;Linux\u0026quot; +++  Homepage To configure your home page, you basically have three choices:\n Create an _index.md document in content folder and fill the file with Markdown content Create an index.html file in the static folder and fill the file with HTML content Configure your server to automatically redirect home page to one your documentation page  "
},
{
	"uri": "/basics/",
	"title": "JenkinsåŸºç¡€ç®¡ç†",
	"tags": [],
	"description": "",
	"content": " Chapter 1 JenkinsåŸºç¡€ç®¡ç† ğŸ˜ºæ‚¨å¥½ï¼Œæœ¬æ¨¡å—ä¸»è¦è®²è§£Jenkinsçš„åŸºæœ¬åŠŸèƒ½ï¼Œå±äºåŸºç¡€çŸ¥è¯†è‡ªç”±é€‰æ‹©è·³è¿‡ï¼\n    ç« èŠ‚åç§° ç« èŠ‚å†…å®¹     1-1 JENKINSç®€ä»‹ä¸åº”ç”¨ æœ¬ç« æˆ‘ä»¬å°†ä»‹ç»Jenkinsï¼Œè®©å¤§å®¶è®¤è¯†Jenkinsï¼Œå®ƒèƒ½åšä»€ä¹ˆï¼Ÿ   1-2 JENKINSå®‰è£…éƒ¨ç½² æœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶å¦‚ä½•å®‰è£…Jenkinsï¼Œå¾ˆç®€å•ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥å®‰è£…å§ï¼   1-3 JENKINSç”¨æˆ·ä¸æƒé™ç®¡ç† æœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶åœ¨Jenkinsä¸­å¦‚ä½•ç®¡ç†ç”¨æˆ·åŠç”¨æˆ·æƒé™   1-4 JENKINSå‡­æ®ç®¡ç† æœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶å¦‚ä½•ç®¡ç†Jenkinsçš„å‡­æ®   1-5 JENKINSé¡¹ç›®ä¸è§†å›¾ç®¡ç† æœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶Jenkinsä¸­çš„é¡¹ç›®ç±»å‹ï¼Œé€šè¿‡è§†å›¾å¯¹é¡¹ç›®è¿›è¡Œç®¡ç†    "
},
{
	"uri": "/cont/",
	"title": "",
	"tags": [],
	"description": "",
	"content": " Chapter 2 Content Find out how to create and organize your content quickly and intuitively.\n"
},
{
	"uri": "/cont/archetypes/",
	"title": "Archetypes",
	"tags": [],
	"description": "",
	"content": " Using the command: hugo new [relative new content path], you can start a content file with the date and title automatically set. While this is a welcome feature, active writers need more : archetypes.\nIt is pre-configured skeleton pages with default front matter. Please refer to the documentation for types of page to understand the differences.\nChapter To create a Chapter page, run the following commands\nhugo new --kind chapter \u0026lt;name\u0026gt;/_index.md  It will create a page with predefined Front-Matter:\n+++ title = \u0026quot;{{ replace .Name \u0026quot;-\u0026quot; \u0026quot; \u0026quot; | title }}\u0026quot; date = {{ .Date }} weight = 5 chapter = true pre = \u0026quot;\u0026lt;b\u0026gt;X. \u0026lt;/b\u0026gt;\u0026quot; +++ ### Chapter X # Some Chapter title Lorem Ipsum.  Default To create a default page, run either one of the following commands\n# Either hugo new \u0026lt;chapter\u0026gt;/\u0026lt;name\u0026gt;/_index.md # Or hugo new \u0026lt;chapter\u0026gt;/\u0026lt;name\u0026gt;.md  It will create a page with predefined Front-Matter:\n+++ title = \u0026quot;{{ replace .Name \u0026quot;-\u0026quot; \u0026quot; \u0026quot; | title }}\u0026quot; date = {{ .Date }} weight = 5 +++ Lorem Ipsum.  "
},
{
	"uri": "/cont/archetypes.fr/",
	"title": "ArchÃ©types",
	"tags": [],
	"description": "",
	"content": " En utilisant la commande: hugo new [chemin vers nouveau contenu], vous pouvez crÃ©er un nouveau fichier avec la date et le title automatiquement initialisÃ©. MÃªme si c\u0026rsquo;est une fonctionnalitÃ© intÃ©ressante, elle reste limitÃ©e pour les auteurs actifs qui ont besoin de mieux : les archetypes.\nLes archÃ©types sont des squelettes de pages prÃ©configurÃ©es avec un Front Matter par dÃ©faut. Merci de vous rÃ©fÃ©rer Ã  la documentation pour connaitre les diffÃ©rents types de page.\nChapitre Pour crÃ©er un chapitre, lancez les commandes suivantes\nhugo new --kind chapter \u0026lt;name\u0026gt;/_index.md  Cela crÃ©Ã©ra une page avec le Front Matter suivant:\n+++ title = \u0026quot;{{ replace .Name \u0026quot;-\u0026quot; \u0026quot; \u0026quot; | title }}\u0026quot; date = {{ .Date }} weight = 5 chapter = true pre = \u0026quot;\u0026lt;b\u0026gt;X. \u0026lt;/b\u0026gt;\u0026quot; +++ ### Chapter X # Some Chapter title Lorem Ipsum.  DÃ©faut Pour crÃ©er une page classique, lancer l\u0026rsquo;une des deux commandes suivantes\n# Soit hugo new \u0026lt;chapter\u0026gt;/\u0026lt;name\u0026gt;/_index.md # Ou hugo new \u0026lt;chapter\u0026gt;/\u0026lt;name\u0026gt;.md  Cela crÃ©Ã©ra une page avec le Front Matter suivant:\n+++ title = \u0026quot;{{ replace .Name \u0026quot;-\u0026quot; \u0026quot; \u0026quot; | title }}\u0026quot; date = {{ .Date }} weight = 5 +++ Lorem Ipsum.  "
},
{
	"uri": "/basics/introduction/",
	"title": "Jenkinsç®€ä»‹ä¸åº”ç”¨",
	"tags": [],
	"description": "",
	"content": " å¤§å®¶å¥½ï¼Œæœ¬ç« æˆ‘ä»¬å°†ä»‹ç»Jenkinsï¼Œè®©å¤§å®¶è®¤è¯†Jenkinsï¼å‘Šè¯‰å¤§å®¶Jenkinsæ˜¯ä»€ä¹ˆï¼Ÿ å®ƒèƒ½åšä»€ä¹ˆï¼Ÿ\n ç›®å½•  ç®€å•ä»‹ç» å‘å±•å†å² åŠŸèƒ½ç‰¹ç‚¹ åº”ç”¨åœºæ™¯ webé¡µé¢å±•ç¤º  ç®€å•ä»‹ç» Jenkinså‰èº«æ˜¯Hudsonï¼Œä½¿ç”¨javaè¯­è¨€å¼€å‘çš„è‡ªåŠ¨åŒ–å‘å¸ƒå·¥å…·ã€‚åœ¨ä¸­å¤§å‹é‡‘èç­‰ä¼ä¸šä¸­æ™®éä½¿ç”¨Jenkinsæ¥ä½œä¸ºé¡¹ç›®å‘å¸ƒå·¥å…·ã€‚ Jenkinså®˜æ–¹æä¾›çš„æ’ä»¶ä½¿Jenkinsæ›´ä¸ºå¼ºå¤§ã€‚Jenkinsæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æœåŠ¡å™¨ï¼Œç›®å‰å‘å±•è¶…è¿‡15å¹´ï¼Œæ¯”è¾ƒæˆç†Ÿçš„CIå·¥å…·ï¼ˆä¹Ÿå¯ä»¥CDï¼‰èƒ½å¤Ÿå®ç°è‡ªåŠ¨åŒ–é›†æˆå‘å¸ƒã€‚å»ºç«‹å¥½æµæ°´çº¿åï¼ŒæœŸé—´æ— éœ€ä¸“ä¸šè¿ç»´äººå‘˜ä»‹å…¥ï¼Œå¼€å‘äººå‘˜éšæ—¶å‘å¸ƒéƒ¨ç½²ï¼Œä»»æ€§!ã€‚\nå‘å±•å†å²  Jenkinsçš„å‰èº«æ˜¯Hudsonï¼Œé‡‡ç”¨JAVAç¼–å†™çš„æŒç»­é›†æˆå¼€æºå·¥å…·ã€‚ Hudsonç”±Sunå…¬å¸åœ¨2004å¹´å¯åŠ¨ï¼Œç¬¬ä¸€ä¸ªç‰ˆæœ¬äº2005å¹´åœ¨java.netå‘å¸ƒã€‚ 2007å¹´å¼€å§‹Hudsoné€æ¸å–ä»£CruiseControlå’Œå…¶ä»–çš„å¼€æºæ„å»ºå·¥å…·çš„æ±Ÿæ¹–åœ°ä½ã€‚ åœ¨2008å¹´çš„JavaOneå¤§ä¼šä¸Šåœ¨å¼€å‘è€…è§£å†³æ–¹æ¡ˆä¸­è·å¾—æœå…‹é€‰æ‹©å¤§å¥–ï¼ˆDukeâ€™s Choice Awardï¼‰ã€‚\n åœ¨2010å¹´11æœˆæœŸé—´ï¼Œå› ä¸ºOracleå¯¹Sunçš„æ”¶è´­å¸¦æ¥äº†Hudsonçš„æ‰€æœ‰æƒé—®é¢˜ã€‚ä¸»è¦çš„é¡¹ç›®è´¡çŒ®è€…å’ŒOracleä¹‹é—´ï¼Œ å°½ç®¡è¾¾æˆäº†å¾ˆå¤šåè®®ï¼Œä½†æœ‰ä¸ªå…³é”®é—®é¢˜å°±æ˜¯å•†æ ‡åç§°â€œHudsonâ€ã€‚\n ç”²éª¨æ–‡åœ¨2010å¹´12æœˆå£°æ˜æ‹¥æœ‰è¯¥åç§°å¹¶ç”³è¯·å•†æ ‡çš„æƒåˆ©ã€‚å› æ­¤ï¼Œ2011å¹´1æœˆ11æ—¥ï¼Œæœ‰äººè¦æ±‚æŠ•ç¥¨å°†é¡¹ç›®åç§°ä»â€œHudsonâ€æ”¹ä¸ºâ€œJenkinsâ€ã€‚\n 2011å¹´1æœˆ29æ—¥ï¼Œè¯¥å»ºè®®å¾—åˆ°ç¤¾åŒºæŠ•ç¥¨çš„æ‰¹å‡†ï¼Œåˆ›å»ºäº†Jenkinsé¡¹ç›®ã€‚\n 2011å¹´2æœˆ1æ—¥ï¼Œç”²éª¨æ–‡è¡¨ç¤ºï¼Œä»–ä»¬æ‰“ç®—ç»§ç»­å¼€å‘Hudsonï¼Œå¹¶è®¤ä¸ºJenkinsåªæ˜¯ä¸€ä¸ªåˆ†æ”¯ï¼Œè€Œä¸æ˜¯é‡å‘½åã€‚å› æ­¤ï¼ŒJenkinså’ŒHudsonç»§ç»­ä½œä¸ºä¸¤ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œæ¯ä¸ªéƒ½è®¤ä¸ºå¯¹æ–¹æ˜¯è‡ªå·±çš„åˆ†æ”¯ã€‚\n åˆ°2013å¹´12æœˆï¼ŒGitHubä¸Šçš„Jenkinsæ‹¥æœ‰567ä¸ªé¡¹ç›®æˆå‘˜å’Œçº¦1,100ä¸ªå…¬å…±ä»“åº“ï¼Œä¸æ­¤ç›¸å¯¹çš„Hudsonæœ‰32ä¸ªé¡¹ç›®æˆå‘˜å’Œ17ä¸ªå…¬å…±ä»“åº“ã€‚åˆ°ç°åœ¨ä¸¤è€…çš„å·®å¼‚æ›´å¤šï¼Œåº”è¯¥è¯´Jenkinså·²ç»å…¨é¢è¶…è¶Šäº†Hudsonã€‚æ­¤å¤–ï¼Œå¤§å®¶å¯èƒ½æ˜¯å‡ºäºè®¨åŒOracleçš„æƒ…ç»ªï¼Œä½œä¸ºJavaå¼€å‘è€…å¤©ç„¶åœ°åº”è¯¥æ”¯æŒå’Œä½¿ç”¨Jenkinsã€‚\n  åŠŸèƒ½ç‰¹ç‚¹  å¼€æºå…è´¹ å¤šå¹³å°æ”¯æŒï¼ˆwindows/linux/macosï¼‰ ä¸»ä»åˆ†å¸ƒå¼æ¶æ„ æä¾›webå¯è§†åŒ–é…ç½®ç®¡ç†é¡µé¢ å®‰è£…é…ç½®ç®€å• æ’ä»¶èµ„æºä¸°å¯Œ  åº”ç”¨åœºæ™¯  é›†æˆsvn/gitå®¢æˆ·ç«¯å®ç°æºä»£ç ä¸‹è½½æ£€å‡º é›†æˆmaven/ant/gradle/npmç­‰æ„å»ºå·¥å…·å®ç°æºç ç¼–è¯‘æ‰“åŒ…å•å…ƒæµ‹è¯• é›†æˆsonarqubeå¯¹æºä»£ç è¿›è¡Œè´¨é‡æ£€æŸ¥ï¼ˆåå‘³é“ã€å¤æ‚åº¦ã€æ–°å¢bugç­‰ï¼‰ é›†æˆSaltStack/Ansibleå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²å‘å¸ƒ é›†æˆJmeter/Soar/Kubernetes/\u0026hellip;.. å¯ä»¥è‡ªå®šä¹‰æ’ä»¶æˆ–è€…è„šæœ¬é€šè¿‡jenkinsä¼ å‚è¿è¡Œ å¯ä»¥è¯´Jenkinsæ¯”è¾ƒçµæ´»æ’ä»¶èµ„æºä¸°å¯Œï¼Œæ—¥å¸¸è¿ç»´å·¥ä½œéƒ½å¯ä»¥è‡ªåŠ¨åŒ–ã€‚  webé¡µé¢å±•ç¤º  ç®¡ç†é¡µé¢: ç³»ç»Ÿç®¡ç†é¡µé¢åŒ…å«ç³»ç»Ÿç®¡ç†ã€å…¨å±€å®‰å…¨ç®¡ç†ã€å…¨å±€å·¥å…·é…ç½®ã€èŠ‚ç‚¹ç®¡ç†ã€æˆæƒç®¡ç†ã€æ’ä»¶ç®¡ç†ã€ç³»ç»Ÿå¤‡ä»½ç®¡ç†ã€æ—¥å¿—ç›‘æ§ç®¡ç†   é¡¹ç›®ç®¡ç†é¡µé¢: é¡¹ç›®ã€é¡¹ç›®çŠ¶æ€ã€é¡¹ç›®è§†å›¾ã€æ„å»ºé˜Ÿåˆ—ç­‰ä¿¡æ¯   æ„å»ºè¾“å‡ºé¡µé¢: ç”¨äºæŸ¥çœ‹é¡¹ç›®çš„æ„å»ºè¯¦æƒ…ï¼Œèƒ½å¤Ÿçœ‹åˆ°é¡¹ç›®çš„æ„å»ºè¿‡ç¨‹åŠè¯¦ç»†æ—¥å¿—ã€‚  "
},
{
	"uri": "/pipelinesyntax/",
	"title": "æµæ°´çº¿æ ¸å¿ƒè¯­æ³•",
	"tags": [],
	"description": "",
	"content": " Chapter 2 æµæ°´çº¿æ ¸å¿ƒè¯­æ³• ğŸ˜ºæ‚¨å¥½ï¼Œæœ¬æ¨¡å—ä¸»è¦è®²è§£Jenkins æµæ°´çº¿æ ¸å¿ƒè¯­æ³•ï¼\n    ç« èŠ‚åç§° ç« èŠ‚å†…å®¹     2-1 ç¼–å†™jenkinsfile æœ¬ç« æˆ‘ä»¬å°†ä»‹ç»Jenkinsfileçš„è¯­æ³• è®©å¤§å®¶è®¤è¯†æµæ°´çº¿ç¼–å†™   2-2 Jenkinsæµæ°´çº¿è¯­æ³• æœ¬ç« æˆ‘ä»¬å°†ä¸ºå¤§å®¶è¯¦ç»†è®²è¿°æµæ°´çº¿è¯­æ³•   2-3 Jenkinså…±äº«åº“åº”ç”¨ æœ¬ç« æˆ‘ä»¬å°†ä¸»è¦å­¦ä¹ Jenkinså…±äº«åº“çš„é…ç½®   2-4 GroovyåŸºç¡€è¯­æ³• æœ¬ç« ä¸»è¦è®²è¿°Groovyç¼–ç¨‹åŸºç¡€è¯­æ³•   2-5 æµæ°´çº¿å¼€å‘å·¥å…· æœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°å¸¸ç”¨çš„æµæ°´çº¿å¼€å‘å·¥å…·    "
},
{
	"uri": "/shortcodes/",
	"title": "",
	"tags": [],
	"description": "",
	"content": "title: Shortcodes pre: \u0026ldquo;3. \u0026ldquo;\nHugo uses Markdown for its simple content format. However, there are a lot of things that Markdown doesnâ€™t support well. You could use pure HTML to expand possibilities.\nBut this happens to be a bad idea. Everyone uses Markdown because it\u0026rsquo;s pure and simple to read even non-rendered. You should avoid HTML to keep it as simple as possible.\nTo avoid this limitations, Hugo created shortcodes. A shortcode is a simple snippet inside a page.\nHugo-theme-learn provides multiple shortcodes on top of existing ones.\n Attachments  The Attachments shortcode displays a list of files attached to a page.\n Attachments (PiÃ¨ces jointes)  The Attachments shortcode displays a list of files attached to a page.\n Button  Nice buttons on your page.\n Button (Bouton)  De beaux boutons sur votre page.\n Children  List the child pages of a page\n Expand  Displays an expandable/collapsible section of text on your page\n Expand  Affiche une section de texte qui se plie et se dÃ©plie\n Mermaid  Generation of diagram and flowchart from text in a similar manner as markdown\n Mermaid  GÃ©nÃ©ration de diagrammes Ã  partir de texte, dans le mÃªme style que Markdown\n Notice  Disclaimers to help you structure your page\n Notice  Message pour vous aider Ã  structurer votre contenu\n Site param  Get value of site params variables in your page.\n Site param  Afficher la valeur d\u0026#39;un paramÃ¨tre global du site dans votre page\n "
},
{
	"uri": "/cont/markdown/",
	"title": "Markdown syntax",
	"tags": [],
	"description": "",
	"content": " This page is a shameful copy of the great Grav original page. Only difference is information about image customization (resizing, add CSS classes\u0026hellip;)\n Let\u0026rsquo;s face it: Writing content for the Web is tiresome. WYSIWYG editors help alleviate this task, but they generally result in horrible code, or worse yet, ugly web pages.\nMarkdown is a better way to write HTML, without all the complexities and ugliness that usually accompanies it.\nSome of the key benefits are:\n Markdown is simple to learn, with minimal extra characters so it\u0026rsquo;s also quicker to write content. Less chance of errors when writing in markdown. Produces valid XHTML output. Keeps the content and the visual display separate, so you cannot mess up the look of your site. Write in any text editor or Markdown application you like. Markdown is a joy to use!  John Gruber, the author of Markdown, puts it like this:\n The overriding design goal for Markdownâ€™s formatting syntax is to make it as readable as possible. The idea is that a Markdown-formatted document should be publishable as-is, as plain text, without looking like itâ€™s been marked up with tags or formatting instructions. While Markdownâ€™s syntax has been influenced by several existing text-to-HTML filters, the single biggest source of inspiration for Markdownâ€™s syntax is the format of plain text email. \u0026ndash; John Gruber\n Grav ships with built-in support for Markdown and Markdown Extra. You must enable Markdown Extra in your system.yaml configuration file\nWithout further delay, let us go over the main elements of Markdown and what the resulting HTML looks like:\n Bookmark this page for easy future reference!\n Headings Headings from h1 through h6 are constructed with a # for each level:\n# h1 Heading ## h2 Heading ### h3 Heading #### h4 Heading ##### h5 Heading ###### h6 Heading  Renders to:\nh1 Heading h2 Heading h3 Heading h4 Heading h5 Heading h6 Heading HTML:\n\u0026lt;h1\u0026gt;h1 Heading\u0026lt;/h1\u0026gt; \u0026lt;h2\u0026gt;h2 Heading\u0026lt;/h2\u0026gt; \u0026lt;h3\u0026gt;h3 Heading\u0026lt;/h3\u0026gt; \u0026lt;h4\u0026gt;h4 Heading\u0026lt;/h4\u0026gt; \u0026lt;h5\u0026gt;h5 Heading\u0026lt;/h5\u0026gt; \u0026lt;h6\u0026gt;h6 Heading\u0026lt;/h6\u0026gt;  Comments Comments should be HTML compatible\n\u0026lt;!-- This is a comment --\u0026gt;  Comment below should NOT be seen:\nHorizontal Rules The HTML \u0026lt;hr\u0026gt; element is for creating a \u0026ldquo;thematic break\u0026rdquo; between paragraph-level elements. In markdown, you can create a \u0026lt;hr\u0026gt; with any of the following:\n ___: three consecutive underscores ---: three consecutive dashes ***: three consecutive asterisks  renders to:\nBody Copy Body copy written as normal, plain text will be wrapped with \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; tags in the rendered HTML.\nSo this body copy:\nLorem ipsum dolor sit amet, graecis denique ei vel, at duo primis mandamus. Et legere ocurreret pri, animal tacimates complectitur ad cum. Cu eum inermis inimicus efficiendi. Labore officiis his ex, soluta officiis concludaturque ei qui, vide sensibus vim ad.  renders to this HTML:\n\u0026lt;p\u0026gt;Lorem ipsum dolor sit amet, graecis denique ei vel, at duo primis mandamus. Et legere ocurreret pri, animal tacimates complectitur ad cum. Cu eum inermis inimicus efficiendi. Labore officiis his ex, soluta officiis concludaturque ei qui, vide sensibus vim ad.\u0026lt;/p\u0026gt;  Emphasis Bold For emphasizing a snippet of text with a heavier font-weight.\nThe following snippet of text is rendered as bold text.\n**rendered as bold text**  renders to:\nrendered as bold text\nand this HTML\n\u0026lt;strong\u0026gt;rendered as bold text\u0026lt;/strong\u0026gt;  Italics For emphasizing a snippet of text with italics.\nThe following snippet of text is rendered as italicized text.\n_rendered as italicized text_  renders to:\nrendered as italicized text\nand this HTML:\n\u0026lt;em\u0026gt;rendered as italicized text\u0026lt;/em\u0026gt;  strikethrough In GFM (GitHub flavored Markdown) you can do strikethroughs.\n~~Strike through this text.~~  Which renders to:\nStrike through this text.\nHTML:\n\u0026lt;del\u0026gt;Strike through this text.\u0026lt;/del\u0026gt;  Blockquotes For quoting blocks of content from another source within your document.\nAdd \u0026gt; before any text you want to quote.\n\u0026gt; **Fusion Drive** combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined.  Renders to:\n Fusion Drive combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined.\n and this HTML:\n\u0026lt;blockquote\u0026gt; \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Fusion Drive\u0026lt;/strong\u0026gt; combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined.\u0026lt;/p\u0026gt; \u0026lt;/blockquote\u0026gt;  Blockquotes can also be nested:\n\u0026gt; Donec massa lacus, ultricies a ullamcorper in, fermentum sed augue. Nunc augue augue, aliquam non hendrerit ac, commodo vel nisi. \u0026gt; \u0026gt; \u0026gt; Sed adipiscing elit vitae augue consectetur a gravida nunc vehicula. Donec auctor odio non est accumsan facilisis. Aliquam id turpis in dolor tincidunt mollis ac eu diam. \u0026gt; \u0026gt; Mauris sit amet ligula egestas, feugiat metus tincidunt, luctus libero. Donec congue finibus tempor. Vestibulum aliquet sollicitudin erat, ut aliquet purus posuere luctus.  Renders to:\n Donec massa lacus, ultricies a ullamcorper in, fermentum sed augue. Nunc augue augue, aliquam non hendrerit ac, commodo vel nisi.\n Sed adipiscing elit vitae augue consectetur a gravida nunc vehicula. Donec auctor odio non est accumsan facilisis. Aliquam id turpis in dolor tincidunt mollis ac eu diam.\n Mauris sit amet ligula egestas, feugiat metus tincidunt, luctus libero. Donec congue finibus tempor. Vestibulum aliquet sollicitudin erat, ut aliquet purus posuere luctus.\n Notices The old mechanism for notices overriding the block quote syntax (\u0026gt;\u0026gt;\u0026gt;) has been deprecated. Notices are now handled via a dedicated plugin called Markdown Notices\n Lists Unordered A list of items in which the order of the items does not explicitly matter.\nYou may use any of the following symbols to denote bullets for each list item:\n* valid bullet - valid bullet + valid bullet  For example\n+ Lorem ipsum dolor sit amet + Consectetur adipiscing elit + Integer molestie lorem at massa + Facilisis in pretium nisl aliquet + Nulla volutpat aliquam velit - Phasellus iaculis neque - Purus sodales ultricies - Vestibulum laoreet porttitor sem - Ac tristique libero volutpat at + Faucibus porta lacus fringilla vel + Aenean sit amet erat nunc + Eget porttitor lorem  Renders to:\n Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit  Phasellus iaculis neque Purus sodales ultricies Vestibulum laoreet porttitor sem Ac tristique libero volutpat at  Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem  And this HTML\n\u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;Lorem ipsum dolor sit amet\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Consectetur adipiscing elit\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Integer molestie lorem at massa\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Facilisis in pretium nisl aliquet\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Nulla volutpat aliquam velit \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;Phasellus iaculis neque\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Purus sodales ultricies\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Vestibulum laoreet porttitor sem\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Ac tristique libero volutpat at\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Faucibus porta lacus fringilla vel\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Aenean sit amet erat nunc\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Eget porttitor lorem\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;  Ordered A list of items in which the order of items does explicitly matter.\n1. Lorem ipsum dolor sit amet 2. Consectetur adipiscing elit 3. Integer molestie lorem at massa 4. Facilisis in pretium nisl aliquet 5. Nulla volutpat aliquam velit 6. Faucibus porta lacus fringilla vel 7. Aenean sit amet erat nunc 8. Eget porttitor lorem  Renders to:\n Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem  And this HTML:\n\u0026lt;ol\u0026gt; \u0026lt;li\u0026gt;Lorem ipsum dolor sit amet\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Consectetur adipiscing elit\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Integer molestie lorem at massa\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Facilisis in pretium nisl aliquet\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Nulla volutpat aliquam velit\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Faucibus porta lacus fringilla vel\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Aenean sit amet erat nunc\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Eget porttitor lorem\u0026lt;/li\u0026gt; \u0026lt;/ol\u0026gt;  TIP: If you just use 1. for each number, Markdown will automatically number each item. For example:\n1. Lorem ipsum dolor sit amet 1. Consectetur adipiscing elit 1. Integer molestie lorem at massa 1. Facilisis in pretium nisl aliquet 1. Nulla volutpat aliquam velit 1. Faucibus porta lacus fringilla vel 1. Aenean sit amet erat nunc 1. Eget porttitor lorem  Renders to:\n Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem  Code Inline code Wrap inline snippets of code with `.\nIn this example, `\u0026lt;section\u0026gt;\u0026lt;/section\u0026gt;` should be wrapped as **code**.  Renders to:\nIn this example, \u0026lt;section\u0026gt;\u0026lt;/section\u0026gt; should be wrapped as code.\nHTML:\n\u0026lt;p\u0026gt;In this example, \u0026lt;code\u0026gt;\u0026amp;lt;section\u0026amp;gt;\u0026amp;lt;/section\u0026amp;gt;\u0026lt;/code\u0026gt; should be wrapped as \u0026lt;strong\u0026gt;code\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;  Indented code Or indent several lines of code by at least four spaces, as in:\n // Some comments line 1 of code line 2 of code line 3 of code  Renders to:\n// Some comments line 1 of code line 2 of code line 3 of code  HTML:\n\u0026lt;pre\u0026gt; \u0026lt;code\u0026gt; // Some comments line 1 of code line 2 of code line 3 of code \u0026lt;/code\u0026gt; \u0026lt;/pre\u0026gt;  Block code \u0026ldquo;fences\u0026rdquo; Use \u0026ldquo;fences\u0026rdquo; ``` to block in multiple lines of code.\n ``` markup Sample text here... ```  Sample text here...  HTML:\n\u0026lt;pre\u0026gt; \u0026lt;code\u0026gt;Sample text here...\u0026lt;/code\u0026gt; \u0026lt;/pre\u0026gt;  Syntax highlighting GFM, or \u0026ldquo;GitHub Flavored Markdown\u0026rdquo; also supports syntax highlighting. To activate it, simply add the file extension of the language you want to use directly after the first code \u0026ldquo;fence\u0026rdquo;, `js, and syntax highlighting will automatically be applied in the rendered HTML. For example, to apply syntax highlighting to JavaScript code:\n ```js grunt.initConfig({ assemble: { options: { assets: 'docs/assets', data: 'src/data/*.{json,yml}', helpers: 'src/custom-helpers.js', partials: ['src/partials/**/*.{hbs,md}'] }, pages: { options: { layout: 'default.hbs' }, files: { './': ['src/templates/pages/index.hbs'] } } } }; ```  Renders to:\ngrunt.initConfig({ assemble: { options: { assets: 'docs/assets', data: 'src/data/*.{json,yml}', helpers: 'src/custom-helpers.js', partials: ['src/partials/**/*.{hbs,md}'] }, pages: { options: { layout: 'default.hbs' }, files: { './': ['src/templates/pages/index.hbs'] } } } };  Tables Tables are created by adding pipes as dividers between each cell, and by adding a line of dashes (also separated by bars) beneath the header. Note that the pipes do not need to be vertically aligned.\n| Option | Description | | ------ | ----------- | | data | path to data files to supply the data that will be passed into templates. | | engine | engine to be used for processing templates. Handlebars is the default. | | ext | extension to be used for dest files. |  Renders to:\n   Option Description     data path to data files to supply the data that will be passed into templates.   engine engine to be used for processing templates. Handlebars is the default.   ext extension to be used for dest files.    And this HTML:\n\u0026lt;table\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;Option\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;Description\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;data\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;path to data files to supply the data that will be passed into templates.\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;engine\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;engine to be used for processing templates. Handlebars is the default.\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;ext\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;extension to be used for dest files.\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt;  Right aligned text Adding a colon on the right side of the dashes below any heading will right align text for that column.\n| Option | Description | | ------:| -----------:| | data | path to data files to supply the data that will be passed into templates. | | engine | engine to be used for processing templates. Handlebars is the default. | | ext | extension to be used for dest files. |     Option Description     data path to data files to supply the data that will be passed into templates.   engine engine to be used for processing templates. Handlebars is the default.   ext extension to be used for dest files.    Links Basic link [Assemble](http://assemble.io)  Renders to (hover over the link, there is no tooltip):\nAssemble\nHTML:\n\u0026lt;a href=\u0026quot;http://assemble.io\u0026quot;\u0026gt;Assemble\u0026lt;/a\u0026gt;  Add a title [Upstage](https://github.com/upstage/ \u0026quot;Visit Upstage!\u0026quot;)  Renders to (hover over the link, there should be a tooltip):\nUpstage\nHTML:\n\u0026lt;a href=\u0026quot;https://github.com/upstage/\u0026quot; title=\u0026quot;Visit Upstage!\u0026quot;\u0026gt;Upstage\u0026lt;/a\u0026gt;  Named Anchors Named anchors enable you to jump to the specified anchor point on the same page. For example, each of these chapters:\n# Table of Contents * [Chapter 1](#chapter-1) * [Chapter 2](#chapter-2) * [Chapter 3](#chapter-3)  will jump to these sections:\n## Chapter 1 \u0026lt;a id=\u0026quot;chapter-1\u0026quot;\u0026gt;\u0026lt;/a\u0026gt; Content for chapter one. ## Chapter 2 \u0026lt;a id=\u0026quot;chapter-2\u0026quot;\u0026gt;\u0026lt;/a\u0026gt; Content for chapter one. ## Chapter 3 \u0026lt;a id=\u0026quot;chapter-3\u0026quot;\u0026gt;\u0026lt;/a\u0026gt; Content for chapter one.  NOTE that specific placement of the anchor tag seems to be arbitrary. They are placed inline here since it seems to be unobtrusive, and it works.\nImages Images have a similar syntax to links but include a preceding exclamation point.\n![Minion](https://octodex.github.com/images/minion.png)  or\n![Alt text](https://octodex.github.com/images/stormtroopocat.jpg \u0026quot;The Stormtroopocat\u0026quot;)  Like links, Images also have a footnote style syntax\nAlternative usage : note images ![Alt text][id]  With a reference later in the document defining the URL location:\n[id]: https://octodex.github.com/images/dojocat.jpg \u0026quot;The Dojocat\u0026quot;  Resizing image Add HTTP parameters width and/or height to the link image to resize the image. Values are CSS values (default is auto).\n![Minion](https://octodex.github.com/images/minion.png?width=20pc)  ![Minion](https://octodex.github.com/images/minion.png?height=50px)  ![Minion](https://octodex.github.com/images/minion.png?height=50px\u0026amp;width=300px)  Add CSS classes Add a HTTP classes parameter to the link image to add CSS classes. shadowand border are available but you could define other ones.\n![stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg?classes=shadow)  ![stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg?classes=border)  ![stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg?classes=border,shadow)  "
},
{
	"uri": "/cont/markdown.fr/",
	"title": "Syntaxe Markdown",
	"tags": [],
	"description": "",
	"content": " Cette page est une copie de la doc de Grav. La seule diffÃ©rence porte sur la personalisation des images (taille, ajout de classes CSS\u0026hellip;) Pour des raisons Ã©videntes, cette page n\u0026rsquo;a pas Ã©tÃ© traduites en franÃ§ais ğŸ˜\n Let\u0026rsquo;s face it: Writing content for the Web is tiresome. WYSIWYG editors help alleviate this task, but they generally result in horrible code, or worse yet, ugly web pages.\nMarkdown is a better way to write HTML, without all the complexities and ugliness that usually accompanies it.\nSome of the key benefits are:\n Markdown is simple to learn, with minimal extra characters so it\u0026rsquo;s also quicker to write content. Less chance of errors when writing in markdown. Produces valid XHTML output. Keeps the content and the visual display separate, so you cannot mess up the look of your site. Write in any text editor or Markdown application you like. Markdown is a joy to use!  John Gruber, the author of Markdown, puts it like this:\n The overriding design goal for Markdownâ€™s formatting syntax is to make it as readable as possible. The idea is that a Markdown-formatted document should be publishable as-is, as plain text, without looking like itâ€™s been marked up with tags or formatting instructions. While Markdownâ€™s syntax has been influenced by several existing text-to-HTML filters, the single biggest source of inspiration for Markdownâ€™s syntax is the format of plain text email. \u0026ndash; John Gruber\n Grav ships with built-in support for Markdown and Markdown Extra. You must enable Markdown Extra in your system.yaml configuration file\nWithout further delay, let us go over the main elements of Markdown and what the resulting HTML looks like:\n Bookmark this page for easy future reference!\n Headings Headings from h1 through h6 are constructed with a # for each level:\n# h1 Heading ## h2 Heading ### h3 Heading #### h4 Heading ##### h5 Heading ###### h6 Heading  Renders to:\nh1 Heading h2 Heading h3 Heading h4 Heading h5 Heading h6 Heading HTML:\n\u0026lt;h1\u0026gt;h1 Heading\u0026lt;/h1\u0026gt; \u0026lt;h2\u0026gt;h2 Heading\u0026lt;/h2\u0026gt; \u0026lt;h3\u0026gt;h3 Heading\u0026lt;/h3\u0026gt; \u0026lt;h4\u0026gt;h4 Heading\u0026lt;/h4\u0026gt; \u0026lt;h5\u0026gt;h5 Heading\u0026lt;/h5\u0026gt; \u0026lt;h6\u0026gt;h6 Heading\u0026lt;/h6\u0026gt;  Comments Comments should be HTML compatible\n\u0026lt;!-- This is a comment --\u0026gt;  Comment below should NOT be seen:\nHorizontal Rules The HTML \u0026lt;hr\u0026gt; element is for creating a \u0026ldquo;thematic break\u0026rdquo; between paragraph-level elements. In markdown, you can create a \u0026lt;hr\u0026gt; with any of the following:\n ___: three consecutive underscores ---: three consecutive dashes ***: three consecutive asterisks  renders to:\nBody Copy Body copy written as normal, plain text will be wrapped with \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; tags in the rendered HTML.\nSo this body copy:\nLorem ipsum dolor sit amet, graecis denique ei vel, at duo primis mandamus. Et legere ocurreret pri, animal tacimates complectitur ad cum. Cu eum inermis inimicus efficiendi. Labore officiis his ex, soluta officiis concludaturque ei qui, vide sensibus vim ad.  renders to this HTML:\n\u0026lt;p\u0026gt;Lorem ipsum dolor sit amet, graecis denique ei vel, at duo primis mandamus. Et legere ocurreret pri, animal tacimates complectitur ad cum. Cu eum inermis inimicus efficiendi. Labore officiis his ex, soluta officiis concludaturque ei qui, vide sensibus vim ad.\u0026lt;/p\u0026gt;  Emphasis Bold For emphasizing a snippet of text with a heavier font-weight.\nThe following snippet of text is rendered as bold text.\n**rendered as bold text**  renders to:\nrendered as bold text\nand this HTML\n\u0026lt;strong\u0026gt;rendered as bold text\u0026lt;/strong\u0026gt;  Italics For emphasizing a snippet of text with italics.\nThe following snippet of text is rendered as italicized text.\n_rendered as italicized text_  renders to:\nrendered as italicized text\nand this HTML:\n\u0026lt;em\u0026gt;rendered as italicized text\u0026lt;/em\u0026gt;  strikethrough In GFM (GitHub flavored Markdown) you can do strikethroughs.\n~~Strike through this text.~~  Which renders to:\nStrike through this text.\nHTML:\n\u0026lt;del\u0026gt;Strike through this text.\u0026lt;/del\u0026gt;  Blockquotes For quoting blocks of content from another source within your document.\nAdd \u0026gt; before any text you want to quote.\n\u0026gt; **Fusion Drive** combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined.  Renders to:\n Fusion Drive combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined.\n and this HTML:\n\u0026lt;blockquote\u0026gt; \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Fusion Drive\u0026lt;/strong\u0026gt; combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined.\u0026lt;/p\u0026gt; \u0026lt;/blockquote\u0026gt;  Blockquotes can also be nested:\n\u0026gt; Donec massa lacus, ultricies a ullamcorper in, fermentum sed augue. Nunc augue augue, aliquam non hendrerit ac, commodo vel nisi. \u0026gt; \u0026gt; \u0026gt; Sed adipiscing elit vitae augue consectetur a gravida nunc vehicula. Donec auctor odio non est accumsan facilisis. Aliquam id turpis in dolor tincidunt mollis ac eu diam. \u0026gt; \u0026gt; Mauris sit amet ligula egestas, feugiat metus tincidunt, luctus libero. Donec congue finibus tempor. Vestibulum aliquet sollicitudin erat, ut aliquet purus posuere luctus.  Renders to:\n Donec massa lacus, ultricies a ullamcorper in, fermentum sed augue. Nunc augue augue, aliquam non hendrerit ac, commodo vel nisi.\n Sed adipiscing elit vitae augue consectetur a gravida nunc vehicula. Donec auctor odio non est accumsan facilisis. Aliquam id turpis in dolor tincidunt mollis ac eu diam.\n Mauris sit amet ligula egestas, feugiat metus tincidunt, luctus libero. Donec congue finibus tempor. Vestibulum aliquet sollicitudin erat, ut aliquet purus posuere luctus.\n Notices The old mechanism for notices overriding the block quote syntax (\u0026gt;\u0026gt;\u0026gt;) has been deprecated. Notices are now handled via a dedicated plugin called Markdown Notices\n Lists Unordered A list of items in which the order of the items does not explicitly matter.\nYou may use any of the following symbols to denote bullets for each list item:\n* valid bullet - valid bullet + valid bullet  For example\n+ Lorem ipsum dolor sit amet + Consectetur adipiscing elit + Integer molestie lorem at massa + Facilisis in pretium nisl aliquet + Nulla volutpat aliquam velit - Phasellus iaculis neque - Purus sodales ultricies - Vestibulum laoreet porttitor sem - Ac tristique libero volutpat at + Faucibus porta lacus fringilla vel + Aenean sit amet erat nunc + Eget porttitor lorem  Renders to:\n Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit  Phasellus iaculis neque Purus sodales ultricies Vestibulum laoreet porttitor sem Ac tristique libero volutpat at  Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem  And this HTML\n\u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;Lorem ipsum dolor sit amet\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Consectetur adipiscing elit\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Integer molestie lorem at massa\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Facilisis in pretium nisl aliquet\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Nulla volutpat aliquam velit \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;Phasellus iaculis neque\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Purus sodales ultricies\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Vestibulum laoreet porttitor sem\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Ac tristique libero volutpat at\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Faucibus porta lacus fringilla vel\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Aenean sit amet erat nunc\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Eget porttitor lorem\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;  Ordered A list of items in which the order of items does explicitly matter.\n1. Lorem ipsum dolor sit amet 2. Consectetur adipiscing elit 3. Integer molestie lorem at massa 4. Facilisis in pretium nisl aliquet 5. Nulla volutpat aliquam velit 6. Faucibus porta lacus fringilla vel 7. Aenean sit amet erat nunc 8. Eget porttitor lorem  Renders to:\n Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem  And this HTML:\n\u0026lt;ol\u0026gt; \u0026lt;li\u0026gt;Lorem ipsum dolor sit amet\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Consectetur adipiscing elit\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Integer molestie lorem at massa\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Facilisis in pretium nisl aliquet\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Nulla volutpat aliquam velit\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Faucibus porta lacus fringilla vel\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Aenean sit amet erat nunc\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Eget porttitor lorem\u0026lt;/li\u0026gt; \u0026lt;/ol\u0026gt;  TIP: If you just use 1. for each number, Markdown will automatically number each item. For example:\n1. Lorem ipsum dolor sit amet 1. Consectetur adipiscing elit 1. Integer molestie lorem at massa 1. Facilisis in pretium nisl aliquet 1. Nulla volutpat aliquam velit 1. Faucibus porta lacus fringilla vel 1. Aenean sit amet erat nunc 1. Eget porttitor lorem  Renders to:\n Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem  Code Inline code Wrap inline snippets of code with `.\nIn this example, `\u0026lt;section\u0026gt;\u0026lt;/section\u0026gt;` should be wrapped as **code**.  Renders to:\nIn this example, \u0026lt;section\u0026gt;\u0026lt;/section\u0026gt; should be wrapped with code.\nHTML:\n\u0026lt;p\u0026gt;In this example, \u0026lt;code\u0026gt;\u0026amp;lt;section\u0026amp;gt;\u0026amp;lt;/section\u0026amp;gt;\u0026lt;/code\u0026gt; should be wrapped with \u0026lt;strong\u0026gt;code\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;  Indented code Or indent several lines of code by at least four spaces, as in:\n // Some comments line 1 of code line 2 of code line 3 of code  Renders to:\n// Some comments line 1 of code line 2 of code line 3 of code  HTML:\n\u0026lt;pre\u0026gt; \u0026lt;code\u0026gt; // Some comments line 1 of code line 2 of code line 3 of code \u0026lt;/code\u0026gt; \u0026lt;/pre\u0026gt;  Block code \u0026ldquo;fences\u0026rdquo; Use \u0026ldquo;fences\u0026rdquo; ``` to block in multiple lines of code.\n ``` markup Sample text here... ```  Sample text here...  HTML:\n\u0026lt;pre\u0026gt; \u0026lt;code\u0026gt;Sample text here...\u0026lt;/code\u0026gt; \u0026lt;/pre\u0026gt;  Syntax highlighting GFM, or \u0026ldquo;GitHub Flavored Markdown\u0026rdquo; also supports syntax highlighting. To activate it, simply add the file extension of the language you want to use directly after the first code \u0026ldquo;fence\u0026rdquo;, `js, and syntax highlighting will automatically be applied in the rendered HTML. For example, to apply syntax highlighting to JavaScript code:\n ```js grunt.initConfig({ assemble: { options: { assets: 'docs/assets', data: 'src/data/*.{json,yml}', helpers: 'src/custom-helpers.js', partials: ['src/partials/**/*.{hbs,md}'] }, pages: { options: { layout: 'default.hbs' }, files: { './': ['src/templates/pages/index.hbs'] } } } }; ```  Renders to:\ngrunt.initConfig({ assemble: { options: { assets: 'docs/assets', data: 'src/data/*.{json,yml}', helpers: 'src/custom-helpers.js', partials: ['src/partials/**/*.{hbs,md}'] }, pages: { options: { layout: 'default.hbs' }, files: { './': ['src/templates/pages/index.hbs'] } } } };  Tables Tables are created by adding pipes as dividers between each cell, and by adding a line of dashes (also separated by bars) beneath the header. Note that the pipes do not need to be vertically aligned.\n| Option | Description | | ------ | ----------- | | data | path to data files to supply the data that will be passed into templates. | | engine | engine to be used for processing templates. Handlebars is the default. | | ext | extension to be used for dest files. |  Renders to:\n   Option Description     data path to data files to supply the data that will be passed into templates.   engine engine to be used for processing templates. Handlebars is the default.   ext extension to be used for dest files.    And this HTML:\n\u0026lt;table\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;Option\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;Description\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;data\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;path to data files to supply the data that will be passed into templates.\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;engine\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;engine to be used for processing templates. Handlebars is the default.\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;ext\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;extension to be used for dest files.\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt;  Right aligned text Adding a colon on the right side of the dashes below any heading will right align text for that column.\n| Option | Description | | ------:| -----------:| | data | path to data files to supply the data that will be passed into templates. | | engine | engine to be used for processing templates. Handlebars is the default. | | ext | extension to be used for dest files. |     Option Description     data path to data files to supply the data that will be passed into templates.   engine engine to be used for processing templates. Handlebars is the default.   ext extension to be used for dest files.    Links Basic link [Assemble](http://assemble.io)  Renders to (hover over the link, there is no tooltip):\nAssemble\nHTML:\n\u0026lt;a href=\u0026quot;http://assemble.io\u0026quot;\u0026gt;Assemble\u0026lt;/a\u0026gt;  Add a title [Upstage](https://github.com/upstage/ \u0026quot;Visit Upstage!\u0026quot;)  Renders to (hover over the link, there should be a tooltip):\nUpstage\nHTML:\n\u0026lt;a href=\u0026quot;https://github.com/upstage/\u0026quot; title=\u0026quot;Visit Upstage!\u0026quot;\u0026gt;Upstage\u0026lt;/a\u0026gt;  Named Anchors Named anchors enable you to jump to the specified anchor point on the same page. For example, each of these chapters:\n# Table of Contents * [Chapter 1](#chapter-1) * [Chapter 2](#chapter-2) * [Chapter 3](#chapter-3)  will jump to these sections:\n## Chapter 1 \u0026lt;a id=\u0026quot;chapter-1\u0026quot;\u0026gt;\u0026lt;/a\u0026gt; Content for chapter one. ## Chapter 2 \u0026lt;a id=\u0026quot;chapter-2\u0026quot;\u0026gt;\u0026lt;/a\u0026gt; Content for chapter one. ## Chapter 3 \u0026lt;a id=\u0026quot;chapter-3\u0026quot;\u0026gt;\u0026lt;/a\u0026gt; Content for chapter one.  NOTE that specific placement of the anchor tag seems to be arbitrary. They are placed inline here since it seems to be unobtrusive, and it works.\nImages Images have a similar syntax to links but include a preceding exclamation point.\n![Minion](https://octodex.github.com/images/minion.png)  or\n![Alt text](https://octodex.github.com/images/stormtroopocat.jpg \u0026quot;The Stormtroopocat\u0026quot;)  Like links, Images also have a footnote style syntax\nAlternative usage : note images ![Alt text][id]  With a reference later in the document defining the URL location:\n[id]: https://octodex.github.com/images/dojocat.jpg \u0026quot;The Dojocat\u0026quot;  Resizing image Add HTTP parameters width and/or height to the link image to resize the image. Values are CSS values (default is auto).\n![Minion](https://octodex.github.com/images/minion.png?width=20pc)  ![Minion](https://octodex.github.com/images/minion.png?height=50px)  ![Minion](https://octodex.github.com/images/minion.png?height=50px\u0026amp;width=300px)  Add CSS classes Add a HTTP classes parameter to the link image to add CSS classes. shadowand border are available but you could define other ones.\n![stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg?classes=shadow)  ![stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg?classes=border)  ![stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg?classes=border,shadow)  "
},
{
	"uri": "/pipelineintegrated/chapter01/",
	"title": "3-1 æ„å»ºå‘å¸ƒå·¥å…·é›†æˆ",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« ä¸»è¦è®²è§£ä¸æ„å»ºå·¥å…·å’Œå‘å¸ƒéƒ¨ç½²å·¥å…·çš„é›†æˆï¼ä¾‹å¦‚ï¼š Mavenã€Antã€Gradleã€Npmã€Saltstackã€Ansible ğŸ˜€\n ç›®å½•  æ„å»ºå·¥å…·å®‰è£…  è½¯ä»¶åŒ…ä¸‹è½½ é…ç½®ç¯å¢ƒ  æ„å»ºå·¥å…·é›†æˆ  é€šè¿‡Jenkinsé…ç½® é€šè¿‡Jenkinsfileé…ç½®  å‘å¸ƒå·¥å…·å®‰è£…  å®‰è£…saltstck å®‰è£…ansible  å‘å¸ƒå·¥å…·é›†æˆ  æ„å»ºå·¥å…·å®‰è£… æ„å»ºå·¥å…·æ˜¯å®‰è£…åˆ°masterè¿˜æ˜¯nodeèŠ‚ç‚¹å‘¢ï¼Ÿ å¾ˆæ˜¾ç„¶å®‰è£…åœ¨masterèŠ‚ç‚¹å¹¶ä¸å‹å¥½ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šè®©masterèŠ‚ç‚¹æ‰§è¡Œæ„å»ºä»»åŠ¡çš„ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨nodeèŠ‚ç‚¹å®Œæˆæ„å»ºä»»åŠ¡ã€‚æ‰€ä»¥æˆ‘ä»¬è¦éƒ¨ç½²åœ¨nodeèŠ‚ç‚¹ä¸­å“¦ã€‚ï¼ˆå½“ç„¶æˆ‘åªæ˜¯åšå®éªŒæ‰€ä»¥éƒ¨ç½²åˆ°äº†masterèŠ‚ç‚¹ï¼Œç”Ÿäº§ç¯å¢ƒä¸è¦è¿™ä¹ˆåšå“¦ï¼ï¼‰\n è¿™äº›æ„å»ºå·¥å…·çš„å®‰è£…å¾ˆç®€å•çš„ï¼Œåªéœ€è¦åœ¨æ¯ä¸ªæ„å»ºå·¥å…·çš„å®˜ç½‘æ‰¾åˆ°è½¯ä»¶åŒ…ï¼Œç„¶åä¸‹è½½åˆ°æœ¬åœ°è§£å‹å¹¶é…ç½®ç¯å¢ƒå˜é‡å°±å¥½äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å®è·µä¸€ä¸‹ï¼\nè½¯ä»¶åŒ…ä¸‹è½½  mavenè½¯ä»¶åŒ…ä¸‹è½½ gradleè½¯ä»¶åŒ…ä¸‹è½½ antè½¯ä»¶åŒ…ä¸‹è½½ nodeè½¯ä»¶åŒ…ä¸‹è½½  é…ç½®ç¯å¢ƒ #è§£å‹ tar zxf apache-maven-xxxx.tar.gz -C /usr/local tar zxf gradle-xxxx.tar.gz -C /usr/local tar zxf node-xxxxx.tar.gz -C /usr/local tar zxf apache-ant-xxxx.tar.gz -C /usr/local #æ·»åŠ ç¯å¢ƒå˜é‡ vim /etc/profile export MAVEN_HOME=/usr/local/apache-maven-3.6.0 export ANT_HOME=/usr/local/apache-ant-1.10.5 export GRADLE_HOME=/usr/local/gradle-5.3 export NODE_HOME=/usr/local/node-v10.15.3-linux-x64 export JAVA_HOME=/usr/local/jdk1.8.0_201 export PATH=$PATH:$MAVEN_HOME/bin:$ANT_HOME/bin:$GRADLE_HOME/bin:$NODE_HOME/bin export PATH=$PATH:$JAVA_HOME/bin # ç”Ÿæ•ˆå…¨å±€ç¯å¢ƒå˜é‡ source /etc/profile  æ„å»ºå·¥å…·é›†æˆ åœ¨è¿™é‡Œéœ€è¦å¼ºè°ƒä¸€ä¸‹ï¼ŒJenkinsè°ƒç”¨è¿™äº›å·¥å…·çš„æ–¹å¼æ˜¯é€šè¿‡ç¯å¢ƒå˜é‡è°ƒç”¨ã€‚æœ‰ä¸¤ç§æ–¹å¼ ä¸€ç§æ˜¯åœ¨Jenkinsç³»ç»Ÿé…ç½®ä¸­æ·»åŠ æ„å»ºå·¥å…·çš„ç¯å¢ƒå˜é‡ï¼Œä¸€ç§æ˜¯ç›´æ¥åœ¨Jenkinsfileä¸­å®šä¹‰ã€‚å®ç°çš„æ•ˆæœæ²¡æœ‰åŒºåˆ«ï¼Œè€Œåè€…æ›´åŠ çµæ´»å¯¹äºé…ç½®Jenkinsæ— çŠ¶æ€åŒ–æœ‰å¥½å¤„ã€‚\né€šè¿‡Jenkinsé…ç½® æˆ‘ä»¬æ‰“å¼€ç³»ç»Ÿç®¡ç†-\u0026gt; å…¨å±€å·¥å…·é…ç½®é¡µé¢ï¼Œè¿™é‡Œå°±æ˜¯é…ç½®æˆ‘ä»¬åœ¨è¿è¡Œæµæ°´çº¿è¿‡ç¨‹ä¸­ä½¿ç”¨çš„æ„å»ºå·¥å…·çš„åœ°æ–¹ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°mavenéœ€è¦å®‰è£…æ’ä»¶Maven Integrationæ‰èƒ½æœ‰å“¦ã€‚\n åœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡å˜é‡åå’Œå˜é‡å€¼çš„æ–¹å¼å®šä¹‰å¥½æ„å»ºå·¥å…·ï¼Œå˜é‡åç§°ä¸èƒ½å†²çªï¼Œå¯ä»¥å¤§å°å†™ã€‚å…³äºå˜é‡çš„å€¼ä¿å®ˆç‚¹å¯ä»¥å®šä¹‰æˆMAVE_HOME/usr/local/apache-maven-3.6.0/ï¼Œä¹Ÿå¯ä»¥å†™æˆç»å¯¹è·¯å¾„/usr/local/apache-maven-3.6.0/bin/mvnã€‚ å®šä¹‰å¥½å·¥å…·ä¹‹åæˆ‘ä»¬å¦‚ä½•åœ¨Jenkinsfileä¸­ä½¿ç”¨å·¥å…·å‘¢ï¼Ÿ\nåœ¨Jenkinsfileä¸­ä½¿ç”¨: å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘å®šä¹‰çš„mavenå˜é‡åç§°ä¸ºM3,æ¥ä¸‹æ¥åœ¨Jenkinsfileä¸­ä½¿ç”¨toolè·å–å˜é‡å€¼ã€‚å¦‚ä¸‹ï¼š\nstage(\u0026quot;mavenBuild\u0026quot;){ steps{ script{ def mvnHome = tool 'M3' sh \u0026quot;${mvnHome}/bin/mvn clean package \u0026quot; } } }  é€šè¿‡Jenkinsfileé…ç½® åœ¨Jenkinsfileä¸­å®šä¹‰å…¶å®è·Ÿæˆ‘ä»¬åœ¨ä¸Šé¢çš„ç³»ç»Ÿä¸­å®šä¹‰æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å˜é‡åå’Œå€¼ç›´æ¥å®šä¹‰åœ¨æ–‡ä»¶ä¸­ã€‚ç„¶åç›´æ¥è°ƒç”¨ã€‚\nstage(\u0026quot;mavenBuild\u0026quot;){ steps{ script{ def mvnHome = '/usr/local/apache-maven-3.6.0' sh \u0026quot;${mvnHome}/bin/mvn clean package \u0026quot; } } }  ç°åœ¨ä½ æ˜¯å¦æ¸…æ¥šäº†å…³äºæ„å»ºå·¥å…·çš„é›†æˆå‘¢ï¼Ÿç±»ä¼¼çš„ä¾‹å¦‚æ‚¨å½“å‰ç”¨çš„æ„å»ºå·¥å…·ä¸åœ¨æˆ‘çš„ä¸¾ä¾‹èŒƒå›´å†…ï¼Œç›¸ä¿¡ä½ é€šè¿‡è¿™ç¯‡æ–‡ç« ä¹ŸçŸ¥é“äº†å¦‚ä½•æ¥è¿›è¡Œé›†æˆäº†ã€‚å¯¹çš„æ²¡é”™ï¼šåœ¨ç³»ç»Ÿä¸­å®‰è£…å¥½æ„å»ºå·¥å…·ï¼Œåœ¨jenkinsfileä¸­å®šä¹‰å¥½ç¯å¢ƒå˜é‡å³å¯ã€‚ç‰¹æ®Šå·¥å…·ç‰¹æ®Šå¯¹å¾…å“¦ï¼\nå‘å¸ƒå·¥å…·å®‰è£… å…³äºå‘å¸ƒå·¥å…·æˆ‘ä»¬å¸¸ç”¨çš„æ˜¯saltstackå’Œansibleè¿™ä¸ªä¸¤ä¸ªå·¥å…·ï¼Œè¿™é‡Œç®€å•è¯´ä¸‹å¦‚ä½•é›†æˆã€‚\nå®‰è£…saltstck saltstackä¹Ÿæ˜¯C/Sæ¶æ„ï¼Œéœ€è¦åœ¨åº”ç”¨æœåŠ¡å™¨å®‰è£…salt-minionå®¢æˆ·ç«¯ã€‚\nyumæºï¼šhttps://mirrors.tuna.tsinghua.edu.cn/saltstack/#rhel\n#install yum â€“y install salt-master salt-minion #start service salt-master start service salt-minion start #enable chkconfig salt-master on chkconfig salt-minion on  å®‰è£…ansible ansibleä¸éœ€è¦å®‰è£…å®¢æˆ·ç«¯ï¼Œæ˜¯é€šè¿‡SSHåè®®é€šä¿¡çš„ã€‚ä½¿ç”¨/etc/ansible/hostsæ–‡ä»¶æ§åˆ¶ä¸»æœºã€‚\nyum install epel-release ansbile service ansible start  å‘å¸ƒå·¥å…·é›†æˆ stage(\u0026quot;SlatDeploy\u0026quot;){ steps{ script{ //saltstack sh \u0026quot; salt ${host} test.ping \u0026quot; //ansible sh \u0026quot; ansible -m ping ${host} \u0026quot; } } }  å…³äºå‘å¸ƒå·¥å…·æš‚ä¸”å°±è¿™äº›äº†ï¼Œæœ‰å…³å‘å¸ƒå·¥å…·çš„è¯¦ç»†å†…å®¹è¿˜éœ€è¦å„ä½è‡ªè¡Œåœ¨å®˜æ–¹é˜…è¯»å“¦ã€‚saltstackæœ‰APIæœåŠ¡å¯ä»¥åœ¨jenkinsfileä¸­å°è£…HTTP APIã€‚\n"
},
{
	"uri": "/basics/installation/",
	"title": "Jenkinså®‰è£…éƒ¨ç½²",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶å¦‚ä½•å®‰è£…Jenkinsï¼Œå¾ˆç®€å•ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥å®‰è£…å§ï¼ ğŸ˜€\n ç›®å½•  å…ˆå†³æ¡ä»¶\n è½¯ä»¶è¦æ±‚ ç¡¬ä»¶è¦æ±‚  è½¯ä»¶åŒ…ä¸‹è½½\n waråŒ…éƒ¨ç½² linuxç³»ç»Ÿéƒ¨ç½² macç³»ç»Ÿéƒ¨ç½² windowsç³»ç»Ÿéƒ¨ç½²  å®‰è£…ååŸºæœ¬é…ç½®\n è§£é” è‡ªå®šä¹‰jenkinsæ’ä»¶ åˆ›å»ºç”¨æˆ· é…ç½®æ›´æ–°ç«™ç‚¹ å®‰è£…slaveèŠ‚ç‚¹ jenkinsé…ç½®æ–‡ä»¶   å…ˆå†³æ¡ä»¶ è½¯ä»¶è¦æ±‚  Java8 æ— è®ºæ˜¯Javaè¿è¡Œæ—¶ç¯å¢ƒï¼ˆJREï¼‰è¿˜æ˜¯Javaå¼€å‘å·¥å…·åŒ…ï¼ˆJDKï¼‰éƒ½å¯ä»¥ã€‚  ç¡¬ä»¶è¦æ±‚  æœ€ä½é…ç½®ï¼š 256MBå¯ç”¨å†…å­˜ï¼Œ1GBå¯ç”¨ç£ç›˜ç©ºé—´ï¼ˆDockeræ¨è10GBï¼‰ã€‚ å°å›¢é˜Ÿé…ç½®ï¼š 1GB+å¯ç”¨å†…å­˜ï¼Œ 50GB+å¯ç”¨ç£ç›˜ç©ºé—´ã€‚  è½¯ä»¶åŒ…ä¸‹è½½  æœ€æ–°waråŒ… æœ€æ–°pkgåŒ… æœ€æ–°exeåŒ… æœ€æ–°rpmåŒ…  waråŒ…éƒ¨ç½² Jenkinsçš„webåº”ç”¨ç¨‹åºarchiveï¼ˆwarï¼‰åŒ…æ˜¯å¯ä»¥åœ¨ä»»ä½•æ”¯æŒJavaçš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚\n å°†ä¸‹è½½çš„waråŒ…æ”¾åˆ°jenkinsçš„ç›®å½•ä¸­ï¼ˆå¯ä»¥è‡ªå®šä¹‰)ã€‚ è¿è¡Œå‘½ä»¤ java -jar jenkins.warå¯åŠ¨ã€‚ æ­¤æ—¶å¯ä»¥çœ‹åˆ°Jenkinsçš„å¯åŠ¨æ—¥å¿—ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¼‚å¸¸ã€‚ é€šè¿‡æµè§ˆå™¨è®¿é—®http://localhost:8080ã€‚  æ³¨æ„ï¼šå¯ä»¥é€šè¿‡ â€“httpPortæ–¹å¼æŒ‡å®šç«¯å£ï¼Œ java -jar jenkins.war -httpPort=9090ã€‚\n linuxç³»ç»Ÿéƒ¨ç½²  é¦–å…ˆä¸‹è½½rpmè½¯ä»¶åŒ…,å®‰è£…rpm â€“ivh jenkins-2.150.3-1.1.noarch.rpm systemctl start jenkins #å¯åŠ¨æœåŠ¡ systemctl enable jenkins #å¼€æœºè‡ªå¯  macç³»ç»Ÿéƒ¨ç½² ä¸‹è½½è½¯ä»¶åŒ…æ‰‹åŠ¨å®‰è£…\n brew install jenkins å®‰è£…jenkinsæœ€æ–°ç‰ˆæœ¬ brew install jenkins-lts å®‰è£…jenkinsLTSç‰ˆæœ¬  windowsç³»ç»Ÿéƒ¨ç½² ä¸‹è½½è½¯ä»¶åŒ…é€šè¿‡å‘å¯¼å®‰è£…å³å¯ã€‚\nå®‰è£…ååŸºæœ¬é…ç½® è§£é” å½“æ‚¨ç¬¬ä¸€æ¬¡è®¿é—®Jenkinsçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè¦æ±‚æ‚¨ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„å¯†ç å¯¹å…¶è¿›è¡Œè§£é”ã€‚è§£é”ç§˜é’¥å¯ä»¥é€šè¿‡$JENKINS_HOME/secrets/initialAdminPasswordæ–‡ä»¶è·å–ã€‚è¿˜å¯ä»¥é€šè¿‡åœ¨å¯åŠ¨æ—¥å¿—ä¸­è·å–ã€‚\n è‡ªå®šä¹‰jenkinsæ’ä»¶  è§£é”Jenkinsä¹‹åå†è‡ªå®šä¹‰Jenkinsé¡µé¢ï¼Œæ‚¨å¯ä»¥å®‰è£…ä»»ä½•æ•°é‡çš„æ’ä»¶ä½œä¸ºåˆå§‹åŒ–çš„ä¸€éƒ¨åˆ†ã€‚ åˆ†åˆ«æ˜¯å®‰è£…å»ºè®®çš„æ’ä»¶å’Œé€‰æ‹©è¦å®‰è£…çš„æ’ä»¶ï¼ˆå¦‚æœä¸ç¡®å®šè¦å®‰è£…é‚£äº›çš„æ—¶å€™å¯ä»¥é€‰æ‹©æ­¤é€‰é¡¹ï¼Œçµæ´»çš„è‡ªå®šä¹‰å®‰è£…ï¼‰ã€‚ æ’ä»¶å®‰è£…å¤šäº†ä¹Ÿæ²¡å…³ç³»ï¼Œå¯ä»¥åé¢å†jenkinsæ’ä»¶ç®¡ç†é¡µé¢åˆ é™¤å“¦(ä¼šå¾ˆç¹ç)ã€‚  åˆ›å»ºç”¨æˆ· åœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜è´¦å·ï¼Œåˆ°æ­¤jenkinsçš„åˆå§‹åŒ–é…ç½®å·²å®Œæˆã€‚ é…ç½®æ›´æ–°ç«™ç‚¹ å½“æ”¹å®Œåï¼Œå…¶å®è¿˜æ˜¯å¾ˆæ…¢ ğŸ¤·â€â™€ï¸ å»ºè®®é…ç½®nginxåšåŸŸåä»£ç† ğŸ˜œ\n ç”±äºä½¿ç”¨å®˜æ–¹çš„ç«™ç‚¹é€Ÿåº¦ç›¸å¯¹å¾ˆæ…¢ï¼Œè¿™é‡Œé‡‡ç”¨æ¸…åå¤§å­¦çš„jenkinsæ›´æ–°ç«™ç‚¹ã€‚\nå®‰è£…slaveèŠ‚ç‚¹ ğŸ˜œ æ³¨æ„éœ€è¦å¼€å¯jnlpåè®®æ‰èƒ½ä½¿ç”¨java webå¯åŠ¨ï¼Œå…·ä½“æ“ä½œï¼š ç³»ç»Ÿè®¾ç½®-\u0026gt; å…¨å±€å®‰å…¨ -\u0026gt; ä»£ç†é…ç½®\n ç³»ç»Ÿç®¡ç†-\u0026gt;èŠ‚ç‚¹ç®¡ç†\nåˆ›å»ºå®Œæˆåä¼šå‡ºç°slaveèŠ‚ç‚¹å¯åŠ¨çš„å‘½ä»¤ï¼Œä¸‹è½½agent.jarï¼Œç„¶åå¯åŠ¨æœåŠ¡ã€‚\nå¯åŠ¨å‘½ä»¤\nwget http://192.168.0.41/jnlpJars/agent.jar java -jar agent.jar -jnlpUrl http://192.168.0.41/computer/test1/slave-agent.jnlp -secret 807b0135fb5b071d99930166ac4fc5dd0cf355e670a66da73120dfa2e8cebc5f -workDir \u0026quot;/var/lib/jenkins\u0026quot;  å¯åŠ¨æˆåŠŸ jenkinsé…ç½®æ–‡ä»¶ ä»¥rpmæ–¹å¼éƒ¨ç½²çš„é…ç½®æ–‡ä»¶åœ¨/etc/sysconfig/jenkinsï¼Œå¯ä»¥å®šä¹‰Jenkinså¯åŠ¨å‚æ•°å’Œç«¯å£ã€‚\n"
},
{
	"uri": "/pipelinesyntax/chapter01/",
	"title": "å¼€å§‹ç¼–å†™Jenkinsfile",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œè¿˜åœ¨ç–‘æƒ‘ä»€ä¹ˆæ˜¯æµæ°´çº¿å—ï¼Ÿ æœ¬ç« æˆ‘ä»¬å°†å‘Šè¯‰æ‚¨å¦‚ä½•è¿è¡Œä¸€æ¡æµæ°´çº¿ èµ¶å¿«å­¦ä¹ å§ï¼ ğŸ˜€\n ç›®å½•  ä¸ºä»€ä¹ˆä½¿ç”¨pipeline? pipelineå®šä¹‰ pipelineæ¼”ç¤º éªŒè¯æµæ°´çº¿æ•ˆæœ  ä¸ºä»€ä¹ˆä½¿ç”¨pipeline? æœ¬è´¨ä¸Šï¼Œjenkinsæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–å¼•æ“ï¼Œå®ƒæ”¯æŒè®¸å¤šè‡ªåŠ¨æ¨¡å¼ã€‚æµæ°´çº¿å‘Jenkinsæ·»åŠ äº†ä¸€ç»„å¼ºå¤§çš„å·¥å…·ï¼Œæ”¯æŒç”¨ä¾‹ã€ç®€å•çš„æŒç»­é›†æˆåˆ°å…¨é¢çš„æŒç»­äº¤ä»˜æµæ°´çº¿ã€‚ é€šè¿‡å¯¹ä¸€ç³»åˆ—çš„å‘å¸ƒä»»åŠ¡å»ºç«‹æ ‡å‡†çš„æ¨¡æ¿ï¼Œç”¨æˆ·å¯ä»¥åˆ©ç”¨æ›´å¤šæµæ°´çº¿çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼š\n ä»£ç åŒ–: æµæ°´çº¿æ˜¯åœ¨ä»£ç ä¸­å®ç°çš„ï¼Œé€šå¸¸ä¼šå­˜æ”¾åˆ°æºä»£ç æ§åˆ¶ï¼Œä½¿å›¢é˜Ÿå…·æœ‰ç¼–è¾‘ã€å®¡æŸ¥å’Œæ›´æ–°ä»–ä»¬é¡¹ç›®çš„äº¤ä»˜æµæ°´çº¿çš„èƒ½åŠ›ã€‚\n è€ç”¨æ€§ï¼šæµæ°´çº¿å¯ä»¥ä»Jenkinsçš„masterèŠ‚ç‚¹é‡å¯åç»§ç»­è¿è¡Œã€‚\n å¯æš‚åœçš„ï¼šæµæ°´çº¿å¯ä»¥ç”±äººåŠŸè¾“å…¥æˆ–æ‰¹å‡†ç»§ç»­æ‰§è¡Œæµæ°´çº¿ã€‚\n è§£å†³å¤æ‚å‘å¸ƒï¼š æ”¯æŒå¤æ‚çš„äº¤ä»˜æµç¨‹ã€‚ä¾‹å¦‚å¾ªç¯ã€å¹¶è¡Œæ‰§è¡Œã€‚\n å¯æ‰©å±•æ€§ï¼š æ”¯æŒæ‰©å±•DSLå’Œå…¶ä»–æ’ä»¶é›†æˆã€‚\n  æ„å»ºä¸€ä¸ªå¯æ‰©å±•æ˜¯Jenkinsçš„æ ¸å¿ƒä»·å€¼ï¼Œæµæ°´çº¿å¯ä»¥é€šè¿‡ShareLibraryçš„æ–¹å¼æ¥æ‰©å±•ã€‚\npipelineå®šä¹‰ å…³äºJenkinsæµæ°´çº¿çš„è¿è¡Œæˆ‘ä»¬å¯ä»¥æŠ½è±¡ä¸€ä¸‹ï¼Œä¾‹å¦‚ï¼šå¯ä»¥æŠŠæµæ°´çº¿(pipeline)æƒ³è±¡æˆ13å·çº¿åœ°é“ï¼ŒæŠŠæµæ°´çº¿çš„é˜¶æ®µ(stage)æƒ³è±¡æˆåœ°é“çš„æ¯ä¸€ä¸ªç«™ç‚¹ï¼ŒæŠŠæµæ°´çº¿è„šæœ¬(jenkinsfile)æƒ³è±¡æˆåœ°é“çº¿è·¯å›¾ã€‚è¿™å°±æ˜¯æµæ°´çº¿çš„å¤šæ ·æ€§ï¼Œæ¯æ¡çº¿è·¯éƒ½æœ‰ä¸åŒçš„ç«™ç‚¹ã€‚\nç°åœ¨åœ°é“ï¼ˆJenkinsï¼‰å·²ç»æœ‰äº†ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡åœ°é“çš„è¿è¡Œçº¿è·¯å›¾ï¼ˆJenkinsfileï¼‰ï¼Œåœ¨çº¿è·¯å›¾ä¸­æŒ‡å®šè¦ç»è¿‡çš„ç«™ç‚¹ï¼ˆstagesï¼‰ã€‚è¿™ä¸‹ä½ æ˜¯å¦å·²ç»çŸ¥é“æˆ‘ä»¬è¦è¿è¡Œä¸€æ¡æµæ°´çº¿ï¼Œéœ€è¦å…ˆåšä»€ä¹ˆå‘¢ï¼Ÿ \u0026ndash;ç¼–å†™jenkinsfile\nPipeline\n Jenkinsçš„Pipelineé€šè¿‡Jenkinsfileè¿›è¡Œæè¿°ï¼ˆç±»ä¼¼äºDockerfileï¼‰ Jenkinsfileæ˜¯Jenkinsçš„ç‰¹æ€§ï¼ˆpipeline as codeï¼‰ Pipelineæ˜¯Jenkinsçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæä¾›ä¸€ç»„å¯æ‰©å±•çš„å·¥å…·ã€‚ é€šè¿‡Pipeline çš„DSLè¯­æ³•å¯ä»¥å®Œæˆä»ç®€å•åˆ°å¤æ‚çš„äº¤ä»˜æµæ°´çº¿å®ç°ã€‚  Jenkinsfile\n Jenkinsfileä½¿ç”¨ä¸¤ç§è¯­æ³•è¿›è¡Œç¼–å†™ï¼Œåˆ†åˆ«æ˜¯å£°æ˜å¼å’Œè„šæœ¬å¼ã€‚ å£°æ˜å¼å’Œè„šæœ¬å¼çš„æµæ°´çº¿ä»æ ¹æœ¬ä¸Šæ˜¯ä¸åŒçš„ã€‚ å£°æ˜å¼æ˜¯jenkinsæµæ°´çº¿æ›´å‹å¥½çš„ç‰¹æ€§ã€‚ è„šæœ¬å¼çš„æµæ°´çº¿è¯­æ³•ï¼Œæä¾›æ›´ä¸°å¯Œçš„è¯­æ³•ç‰¹æ€§ã€‚ å£°æ˜å¼æµæ°´çº¿ä½¿ç¼–å†™å’Œè¯»å–æµæ°´çº¿ä»£ç æ›´å®¹æ˜“è®¾è®¡ã€‚  pipelineæ¼”ç¤º æ¥æˆ‘ä»¬ä¸€èµ·çœ‹ä¸‹è¿™é‡Œçš„é…ç½®ï¼Œçœ‹ä¸‹Jenkinsfileçš„ç»„æˆåŠæ¯ä¸ªéƒ¨åˆ†çš„åŠŸèƒ½å«ä¹‰ã€‚\n ä½¿ç”¨agent{}ï¼ŒæŒ‡å®šnodeèŠ‚ç‚¹/workspaceï¼ˆå®šä¹‰å¥½æ­¤æµæ°´çº¿åœ¨æŸèŠ‚ç‚¹è¿è¡Œï¼‰ æŒ‡å®šoptions{}è¿è¡Œé€‰é¡¹ï¼ˆå®šä¹‰å¥½æ­¤æµæ°´çº¿è¿è¡Œæ—¶çš„ä¸€äº›é€‰é¡¹ï¼Œä¾‹å¦‚è¾“å‡ºæ—¥å¿—çš„æ—¶é—´ï¼‰ æŒ‡å®šstages{}ï¼ˆstagesåŒ…å«å¤šä¸ªstageï¼ŒstageåŒ…å«stepsã€‚æ˜¯æµæ°´çº¿çš„æ¯ä¸ªæ­¥éª¤) æŒ‡å®špost{}ï¼ˆå®šä¹‰å¥½æ­¤æµæ°´çº¿è¿è¡ŒæˆåŠŸæˆ–è€…å¤±è´¥åï¼Œæ ¹æ®çŠ¶æ€åšä¸€äº›ä»»åŠ¡ï¼‰\npipeline{ //æŒ‡å®šè¿è¡Œæ­¤æµæ°´çº¿çš„èŠ‚ç‚¹ agent { node { label \u0026quot;build\u0026quot;}} //æµæ°´çº¿çš„é˜¶æ®µ stages{ //é˜¶æ®µ1 è·å–ä»£ç  stage(\u0026quot;CheckOut\u0026quot;){ steps{ script{ println(\u0026quot;è·å–ä»£ç \u0026quot;) } } } stage(\u0026quot;Build\u0026quot;){ steps{ script{ println(\u0026quot;è¿è¡Œæ„å»º\u0026quot;) } } } } post { always{ script{ println(\u0026quot;æµæ°´çº¿ç»“æŸåï¼Œç»å¸¸åšçš„äº‹æƒ…\u0026quot;) } } success{ script{ println(\u0026quot;æµæ°´çº¿æˆåŠŸåï¼Œè¦åšçš„äº‹æƒ…\u0026quot;) } } failure{ script{ println(\u0026quot;æµæ°´çº¿å¤±è´¥åï¼Œè¦åšçš„äº‹æƒ…\u0026quot;) } } aborted{ script{ println(\u0026quot;æµæ°´çº¿å–æ¶ˆåï¼Œè¦åšçš„äº‹æƒ…\u0026quot;) } } } }   éªŒè¯æµæ°´çº¿æ•ˆæœ æŸ¥çœ‹Jenkinsæ„å»ºæ—¥å¿—ï¼ˆæ­£ç¡®æ•ˆæœï¼‰ é€šè¿‡BlueOceanæŸ¥çœ‹ï¼ˆå¦‚æœæ²¡æœ‰BlueOceanå›¾æ ‡ï¼Œéœ€è¦è‡ªè¡Œåœ¨æ’ä»¶ä¸­å¿ƒå®‰è£…æ’ä»¶ï¼‰ åˆ°æ­¤ä¸€ä¸ªç®€å•çš„Jenkinfileå®Œæˆäº†ï¼ åé¢æˆ‘ä»¬æ¥è¯¦ç»†åˆ†ææ¯ä¸ªæ­¥éª¤çš„ä½œç”¨ã€‚\n"
},
{
	"uri": "/pipelineintegrated/",
	"title": "æµæ°´çº¿é›†æˆç¯‡",
	"tags": [],
	"description": "",
	"content": " Chapter 3 æµæ°´çº¿é›†æˆç¯‡ ğŸ˜ºæ‚¨å¥½ï¼Œæœ¬æ¨¡å—ä¸»è¦è®²è§£Jenkinså¦‚ä½•ä¸å…¶ä»–å·¥å…·é“¾ç³»ç»Ÿé›†æˆï¼Œ æ³¨æ„ä¸ä¼šè®²è§£å¤ªå¤šå…³äºå¤–å›´ç³»ç»Ÿçš„çŸ¥è¯†ï¼Œå¦‚éœ€äº†è§£æ›´å¤šå¯ä»¥æŸ¥é˜…å¤–å›´ç³»ç»Ÿçš„å®˜æ–¹æ–‡æ¡£ï¼\n    ç« èŠ‚åç§° ç« èŠ‚å†…å®¹     3-1 æ„å»ºå‘å¸ƒå·¥å…·é›†æˆ æœ¬ç« æˆ‘ä»¬å°†å­¦ä¹ Jenkinsä¸å¸¸ç”¨çš„æ„å»ºå‘å¸ƒå·¥å…·é›†æˆ   3-2 ç”¨æˆ·è®¤è¯ç³»ç»Ÿé›†æˆ æœ¬ç« æˆ‘ä»¬å°†ä¸ºå¤§å®¶è®²è¿°ç”¨ç”¨æˆ·è®¤è¯ç³»ç»Ÿé›†æˆ   3-3 ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé›†æˆ æœ¬ç« æˆ‘ä»¬å°†å­¦ä¹ Jenkinsä¸ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé›†æˆ   3-4 è´¨é‡ç®¡ç†å¹³å°é›†æˆ æœ¬ç« ä¸»è¦è®²è¿°Jenkinsä¸è´¨é‡ç®¡ç†å¹³å°é›†æˆ   3-5 åˆ¶å“ä»“åº“é›†æˆ æœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°Jenkinsä¸åˆ¶å“åº“é›†æˆ   3-6 éœ€æ±‚ç®¡ç†å¹³å°é›†æˆ æœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°Jenkinsä¸éœ€æ±‚ç®¡ç†å¹³å°é›†æˆ   3-7 å®¹å™¨PaaSå¹³å°é›†æˆ æœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°Jenkinsä¸ä¸å®¹å™¨PaaSå¹³å°é›†æˆ   3-8 è‡ªåŠ¨åŒ–æ¥å£æµ‹è¯• æœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°Jenkinså®Œæˆè‡ªåŠ¨åŒ–æ¥å£æµ‹è¯•    FAQ Q1ä»€ä¹ˆæ˜¯é›†æˆï¼Ÿ æ‰€è°“çš„é›†æˆæ˜¯é€šè¿‡Jenkinsä¸å¤–éƒ¨ç³»ç»Ÿæˆ–å·¥å…·ä¹‹é—´çš„è°ƒç”¨ï¼Œè€Œä¸æ˜¯Jenkinsæœ¬èº«å…·å¤‡å…¶ä»–å¤–å›´ç³»ç»Ÿçš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼šä¸mavené›†æˆï¼Œæˆ‘ä»¬ä¸èƒ½å»è®¤ä¸ºJenkinsè‡ªèº«å·²ç»å…·æœ‰mavenæ‰“åŒ…æ„å»ºçš„åŠŸèƒ½ï¼Œè€Œæ˜¯jenkinsè°ƒç”¨mavenå»è¿›è¡Œæ‰“åŒ…æ„å»ºï¼ æ‰€ä»¥æ‰“åŒ…å‡ºç°çš„é—®é¢˜æœªå¿…ä¸€å®šæ˜¯Jenkinsçš„é—®é¢˜ï¼Œ80%å› ä¸ºä»£ç æ— æ³•å®Œæˆç¼–è¯‘ç­‰æ­¥éª¤å¯¼è‡´çš„ã€‚\n"
},
{
	"uri": "/basics/userandpermissions/",
	"title": "Jenkinsç”¨æˆ·ä¸æƒé™ç®¡ç†",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶åœ¨Jenkinsä¸­å¦‚ä½•ç®¡ç†ç”¨æˆ·åŠç”¨æˆ·æƒé™ ğŸ˜€\n ç›®å½•  ç”¨æˆ·ç®¡ç†\n æŸ¥çœ‹ç”¨æˆ· æ–°å»ºç”¨æˆ· åˆ é™¤ç”¨æˆ· æ›´æ–°ç”¨æˆ·  æƒé™ç®¡ç†\n ç®¡ç†æƒé™ å…¨å±€æƒé™ é¡¹ç›®æƒé™ æƒé™æˆæƒ   Jenkinsé»˜è®¤ä½¿ç”¨çš„æ˜¯è‡ªå¸¦çš„æ•°æ®åº“ç®¡ç†ç”¨æˆ·ï¼Œæ”¯æŒåŒæ­¥LDAPã€Githubç­‰è®¤è¯é›†æˆã€‚å…³äºç”¨æˆ·ä¸æƒé™ç®¡ç†æ˜¯Jenkinsæ¯”è¾ƒå¼±çš„ä¸€ç‚¹ï¼Œå½“å¤§è§„æ¨¡æˆæƒçš„æ—¶å€™å»ºè®®ä½¿ç”¨APIæ¥å£æˆæƒï¼Œå¦åˆ™å½“ä½ æ‰“å¼€webé¡µé¢æˆæƒæ—¶ï¼Œä¼šå¾ˆä¹±åŠ è½½ç¼“æ…¢ï¼Œæœ€ç»ˆå¯¼è‡´ä¿å­˜å¤±è´¥æƒé™ä¸¢å¤±ã€‚\nç”¨æˆ·ç®¡ç†  é…ç½®ç”¨æˆ·æ¥å…¥å…¥å£: ç³»ç»Ÿç®¡ç†-\u0026gt;å…¨å±€å®‰å…¨é…ç½®ã€‚ é»˜è®¤ä½¿ç”¨çš„æ˜¯Jenkinsæ•°æ®åº“å­˜å‚¨ã€‚ å¯ä»¥é€‰æ‹©é›†æˆLDAPæœåŠ¡æˆ–è€…æ˜¯GItlabæœåŠ¡ï¼ˆéœ€è¦å®‰è£…æ’ä»¶åæ‰èƒ½ä½¿ç”¨ï¼Œåé¢ä¼šè®²è§£ï¼‰ã€‚  æŸ¥çœ‹ç”¨æˆ· ä»¥ä½¿ç”¨Jenkinsä¸“æœ‰æ•°æ®åº“ä¸ºä¾‹ï¼Œç”¨æˆ·ç®¡ç†å…¥å£: ç³»ç»Ÿç®¡ç†-\u0026gt; ç®¡ç†ç”¨æˆ·\næ–°å»ºç”¨æˆ· åˆ é™¤ç”¨æˆ· æ›´æ–°ç”¨æˆ· æƒé™ç®¡ç†  æ³¨æ„å®‰è£…æ’ä»¶: æƒé™é»˜è®¤ä½¿ç”¨ Role-Based Strategy,å…¶ä»–æ–¹å¼å¦‚å›¾æ‰€ç¤ºã€‚\n ç®¡ç†æƒé™  ç³»ç»Ÿè®¾ç½®-\u0026gt;Manage and Assign Roles-\u0026gt;Manage Roles Global rolesï¼šæ·»åŠ ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼Œåˆ†é…æŸä¸ªç”¨æˆ·å±äºå“ªä¸ªç”¨æˆ·ç»„ã€‚ Project rolesï¼šæ·»åŠ æŸä¸ªå·¥ç¨‹æˆ–æŸä¸€ç»„å·¥ç¨‹çš„ç”¨æˆ·æˆ–ç”¨æˆ·ç»„ Slave rolesï¼šæ·»åŠ æŸä¸ªèŠ‚ç‚¹æˆ–æŸä¸€ç»„èŠ‚ç‚¹çš„ç”¨æˆ·æˆ–ç”¨æˆ·ç»„  å…¨å±€æƒé™ é¡¹ç›®æƒé™ æƒé™æˆæƒ "
},
{
	"uri": "/pipelineintegrated/chapter02/",
	"title": "3-2 ç”¨æˆ·è®¤è¯ç³»ç»Ÿé›†æˆ",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« ä¸»è¦è®²è§£ä¸jenkinsä¸ç”¨æˆ·è®¤è¯ç³»ç»Ÿé›†æˆ ä¾‹å¦‚ï¼šLDAP Gitlab GitHub ã€‚æˆ‘ä»¬åšå®éªŒçš„è¿‡ç¨‹ä¸­å»ºè®®å…ˆå¼€å¯åŒ¿åæ¨¡å¼ï¼Œé˜²æ­¢é…ç½®é”™è¯¯å¯¼è‡´æ— æ³•ç›´æ¥ç™»å½•ã€‚ ğŸ˜€\n ç›®å½•  ldapç³»ç»Ÿé›†æˆ gitlabå•ç‚¹ç™»å½•  gitlabé…ç½® jenkinsé…ç½®  githubå•ç‚¹ç™»å½•  githubé…ç½® é…ç½®jenkins   Jenkinsé»˜è®¤ä½¿ç”¨è‡ªå¸¦æ•°æ®åº“æ¨¡å¼å­˜å‚¨ç”¨æˆ·ï¼Œåœ¨ä¼ä¸šä¸­ä¸€èˆ¬éƒ½ä¼šæœ‰ç»Ÿä¸€çš„è®¤è¯ä¸­å¿ƒï¼Œä¾‹å¦‚ LDAPã€ActiveDirectoryä¸­ç®¡ç†ç”¨æˆ·ã€‚å¯ä»¥é…ç½®Jenkinsé›†æˆå®ç°ç»Ÿä¸€ç”¨æˆ·ç®¡ç†ã€‚\nldapç³»ç»Ÿé›†æˆ LDAPç³»ç»Ÿæ˜¯ç”¨äºç”¨æˆ·ç®¡ç†ï¼Œåœ¨é…ç½®é›†æˆçš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦ä»¥ä¸‹ä¿¡æ¯ï¼š\n æœåŠ¡å™¨åœ°å€ï¼š ldap://192.168.1.200 æœåŠ¡å™¨ç«¯å£: 389 ç»„ç»‡OU: ou=jenkins,dc=devops,dc=com ç®¡ç†å‘˜è´¦å·å’Œå¯†ç : cn=admin,dc=devops,dc=com  é¦–å…ˆï¼Œæˆ‘éœ€è¦åœ¨Jenkinsç³»ç»Ÿä¸­å®‰è£…LDAPæ’ä»¶ï¼Œç„¶åè¿›å…¥ ç³»ç»Ÿç®¡ç† -\u0026gt; å…¨å±€å®‰å…¨é…ç½®é¡µé¢ä¸­ã€‚\nå¡«å†™å¥½ä¿¡æ¯ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»æµ‹è¯•æŒ‰é’®è¿›è¡Œæµ‹è¯•ã€‚ä¼šæ¨¡æ‹Ÿç”¨æˆ·ç™»å½•ï¼ŒæˆåŠŸåå†ä¿å­˜é…ç½®å³å¯ã€‚\ngitlabå•ç‚¹ç™»å½• ä¸€èˆ¬æˆ‘ä»¬ä¼šé…ç½®Gitlabç³»ç»Ÿä¸LDAPç³»ç»Ÿåšç”¨æˆ·è®¤è¯é›†æˆï¼Œå¼€å‘äººå‘˜ç™»å½•gitlabç³»ç»Ÿçš„é¢‘ç‡è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä»Šå¤©æˆ‘ä»¬çš„é…ç½®æ•ˆæœæ˜¯ï¼šå½“ç”¨æˆ·å·²ç»ç™»å½•äº†gitlabï¼Œå†æ¬¡æ‰“å¼€Jenkinsä¼šè‡ªåŠ¨ç™»å…¥ã€‚\ngitlabé…ç½® é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨Gitlabä¸­æ·»åŠ ä¸€ä¸ªåº”ç”¨ã€‚ç³»ç»Ÿè®¾ç½® -\u0026gt; åº”ç”¨ç®¡ç†\nå¡«å†™Jenkinså›è°ƒåœ°å€http://jenkinsserver:8080/securityRealm/finishLogin,å‹¾é€‰æƒé™é»˜è®¤å…·æœ‰read_useræƒé™å³å¯ã€‚\nä¿å­˜é…ç½®ï¼Œä¼šæç¤ºä»¥ä¸‹ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯éœ€è¦å¡«å†™åˆ°Jenkinsä¸­ã€‚ApplicationId secret jenkinsé…ç½® æˆ‘ä»¬éœ€è¦åœ¨Jenkinsç³»ç»Ÿä¸­å®‰è£…æ’ä»¶Gitlab Authenticationï¼Œ ç„¶åå¯¼èˆªåˆ°å…¨å±€å®‰å…¨é…ç½®ã€‚ å¡«å†™Gitlabç³»ç»Ÿåœ°å€å’Œä¸Šé¢åœ¨Gitlabåˆ›å»ºçš„åº”ç”¨çš„ApplicationId secretã€‚  æ³¨æ„ï¼šå½“Jenkinså‰é¢æœ‰ä»£ç†çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°è·³è½¬é”™è¯¯çš„é—®é¢˜ã€‚è¿™æ—¶å€™éœ€è¦çœ‹ä¸‹æç¤ºé”™è¯¯çš„redirect URLåœ°å€,æ£€æŸ¥ä¸‹å›¾é…ç½®ã€‚ å¦‚æœä¸‹å›¾é…ç½®æ²¡æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ä»£ç†çš„é…ç½®é—®é¢˜ã€‚å¦å¤–è¦æ³¨æ„æ˜¯httpæ¨¡å¼å“¦\n githubå•ç‚¹ç™»å½• å¦‚æœä½ ç”¨è¿‡GitLabï¼Œä½ ä¼šå‘ç°ä¸GitHubå¾ˆç±»ä¼¼ã€‚è¿™é‡Œæˆ‘ä»¬è¦é…ç½®çš„GitHubé›†æˆä¸GitLabé…ç½®å¾ˆç±»ä¼¼ã€‚\ngithubé…ç½® é¦–å…ˆç™»å½•GitHub, settings -\u0026gt; Developer Settings -\u0026gt; Oauth Appsã€‚ æ–°å»ºåº”ç”¨ï¼šå¡«å†™Jenkinså›è°ƒåœ°å€http://jenkinsserver:8080/securityRealm/finishLoginã€‚ ä¿å­˜ï¼Œè·å–åº”ç”¨IDå’Œsecret é…ç½®jenkins æˆ‘ä»¬éœ€è¦åœ¨Jenkinsç³»ç»Ÿä¸­å®‰è£…æ’ä»¶Github Authenticationï¼Œ ç„¶åå¯¼èˆªåˆ°å…¨å±€å®‰å…¨é…ç½®ã€‚ å¡«å†™Gitlabç³»ç»Ÿåœ°å€å’Œä¸Šé¢åœ¨Gitlabåˆ›å»ºçš„åº”ç”¨çš„ApplicationId secretã€‚\næ•ˆæœï¼š "
},
{
	"uri": "/pipelinesyntax/chapter02/",
	"title": "Jenkinsæµæ°´çº¿è¯­æ³•",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬æ¨¡å—ä¸»è¦å­¦ä¹ å£°æ˜å¼æµæ°´çº¿çš„æ ¸å¿ƒè¯­æ³•ï¼ŒæŒæ¡æ ¸å¿ƒè¯­æ³•ä¾¿äºç¼–å†™Jenkinsfile ğŸ˜€\n ç›®å½•  å£°æ˜å¼æµæ°´çº¿ agentä»£ç† postè¿è¡Œåå¤„ç† stagesé˜¶æ®µ environmentç¯å¢ƒå˜é‡ optionsè¿è¡Œé€‰é¡¹ parameterså‚æ•° triggerè§¦å‘å™¨ toolæ„å»ºå·¥å…· inputäº¤äº’è¾“å…¥ whenæ¡ä»¶åˆ¤æ–­ parallelå¹¶è¡Œ scriptè„šæœ¬æ ‡ç­¾  å£°æ˜å¼æµæ°´çº¿ å£°æ˜å¼Pipleineæ˜¯å®˜æ–¹æ¨èçš„è¯­æ³•ï¼Œå£°æ˜å¼è¯­æ³•æ›´åŠ ç®€æ´ã€‚æ‰€æœ‰çš„å£°æ˜å¼Pipelineéƒ½å¿…é¡»åŒ…å«ä¸€ä¸ª pipelineå—ä¸­ï¼Œæ¯”å¦‚ï¼š\npipeline { //run }  åœ¨å£°æ˜å¼Pipelineä¸­çš„åŸºæœ¬è¯­å¥å’Œè¡¨è¾¾å¼éµå¾ªGroovyçš„è¯­æ³•ã€‚ä½†æ˜¯æœ‰ä»¥ä¸‹ä¾‹å¤–ï¼š\n æµæ°´çº¿é¡¶å±‚å¿…é¡»æ˜¯ä¸€ä¸ªå—ï¼Œç‰¹åˆ«æ˜¯pipeline{}ã€‚ ä¸éœ€è¦åˆ†å·ä½œä¸ºåˆ†å‰²ç¬¦ï¼Œæ˜¯æŒ‰ç…§è¡Œåˆ†å‰²çš„ã€‚ è¯­å¥å—åªèƒ½ç”±é˜¶æ®µã€æŒ‡ä»¤ã€æ­¥éª¤ã€èµ‹å€¼è¯­å¥ç»„æˆã€‚ä¾‹å¦‚: inputè¢«è§†ä¸ºinput()ã€‚  agentä»£ç† agentæŒ‡å®šäº†æµæ°´çº¿çš„æ‰§è¡ŒèŠ‚ç‚¹ã€‚\nagent { node { label 'labelname' }} aget { label ' labelname '}  å‚æ•°ï¼š\n any åœ¨ä»»ä½•å¯ç”¨çš„èŠ‚ç‚¹ä¸Šæ‰§è¡Œpipelineã€‚none æ²¡æœ‰æŒ‡å®šagentçš„æ—¶å€™é»˜è®¤ã€‚ label åœ¨æŒ‡å®šæ ‡ç­¾ä¸Šçš„èŠ‚ç‚¹ä¸Šè¿è¡ŒPipelineã€‚ node å…è®¸é¢å¤–çš„é€‰é¡¹(è‡ªå®šä¹‰workspace)ã€‚  postè¿è¡Œåå¤„ç† å½“æµæ°´çº¿å®Œæˆåæ ¹æ®å®Œæˆçš„çŠ¶æ€åšä¸€äº›ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼šæ„å»ºå¤±è´¥åé‚®ä»¶é€šçŸ¥\npost { always { echo 'I will always say Hello again!' } failure{ email : xxxx@dxx.com } }  å¸¸ç”¨çš„çŠ¶æ€ï¼š\n always æ— è®ºæµæ°´çº¿æˆ–è€…é˜¶æ®µçš„å®ŒæˆçŠ¶æ€ã€‚ changed åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µå®ŒæˆçŠ¶æ€ä¸ä¹‹å‰ä¸åŒæ—¶ã€‚ failure åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µçŠ¶æ€ä¸º\u0026rdquo;failure\u0026rdquo;è¿è¡Œã€‚ success åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µçŠ¶æ€ä¸º\u0026rdquo;success\u0026rdquo;è¿è¡Œã€‚ unstable åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µçŠ¶æ€ä¸º\u0026rdquo;unstable\u0026rdquo;è¿è¡Œã€‚ä¾‹å¦‚ï¼šæµ‹è¯•å¤±è´¥ã€‚ aborted åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µçŠ¶æ€ä¸º\u0026rdquo;aborted \u0026ldquo;è¿è¡Œã€‚ä¾‹å¦‚ï¼šæ‰‹åŠ¨å–æ¶ˆã€‚  stagesé˜¶æ®µ stagesæ˜¯æµæ°´çº¿çš„æ•´ä¸ªè¿è¡Œé˜¶æ®µï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª stage , å»ºè®® stages è‡³å°‘åŒ…å«ä¸€ä¸ª stageã€‚\nstages { stage('Example') { steps { echo 'Hello World' } } }  environmentç¯å¢ƒå˜é‡ å®šä¹‰æµæ°´çº¿ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥å®šä¹‰åœ¨å…¨å±€å˜é‡æˆ–è€…æ­¥éª¤ä¸­çš„å±€éƒ¨å˜é‡ã€‚è¿™å–å†³äº environment æŒ‡ä»¤åœ¨æµæ°´çº¿å†…çš„ä½ç½®ã€‚\nagent any //å…¨å±€å˜é‡ environment { activeEnv = 'dev' } stages { stage('Example') { //å±€éƒ¨å˜é‡ environment { AN_ACCESS_KEY = credentials('my-prefined-secret-text') } steps { sh 'printenv' } } }  optionsè¿è¡Œé€‰é¡¹ å®šä¹‰æµæ°´çº¿è¿è¡Œæ—¶çš„é…ç½®é€‰é¡¹ï¼Œæµæ°´çº¿æä¾›äº†è®¸å¤šé€‰é¡¹, æ¯”å¦‚buildDiscarder,ä½†ä¹Ÿå¯ä»¥ç”±æ’ä»¶æä¾›, æ¯”å¦‚ timestampsã€‚\nagent any options { timeout(time: 1, unit: 'HOURS') } stages { stage('Example') { steps { echo 'Hello World' } } }  å…¶ä»–éƒ¨åˆ†å‚æ•°ï¼š\n buildDiscarder: ä¸ºæœ€è¿‘çš„æµæ°´çº¿è¿è¡Œçš„ç‰¹å®šæ•°é‡ä¿å­˜ç»„ä»¶å’Œæ§åˆ¶å°è¾“å‡ºã€‚ disableConcurrentBuilds: ä¸å…è®¸åŒæ—¶æ‰§è¡Œæµæ°´çº¿ã€‚ å¯è¢«ç”¨æ¥é˜²æ­¢åŒæ—¶è®¿é—®å…±äº«èµ„æºç­‰ã€‚ overrideIndexTriggers: å…è®¸è¦†ç›–åˆ†æ”¯ç´¢å¼•è§¦å‘å™¨çš„é»˜è®¤å¤„ç†ã€‚ skipDefaultCheckout: åœ¨agent æŒ‡ä»¤ä¸­ï¼Œè·³è¿‡ä»æºä»£ç æ§åˆ¶ä¸­æ£€å‡ºä»£ç çš„é»˜è®¤æƒ…å†µã€‚ skipStagesAfterUnstable: ä¸€æ—¦æ„å»ºçŠ¶æ€å˜å¾—UNSTABLEï¼Œè·³è¿‡è¯¥é˜¶æ®µã€‚ checkoutToSubdirectory: åœ¨å·¥ä½œç©ºé—´çš„å­ç›®å½•ä¸­è‡ªåŠ¨åœ°æ‰§è¡Œæºä»£ç æ§åˆ¶æ£€å‡ºã€‚ timeout: è®¾ç½®æµæ°´çº¿è¿è¡Œçš„è¶…æ—¶æ—¶é—´, åœ¨æ­¤ä¹‹åï¼ŒJenkinså°†ä¸­æ­¢æµæ°´çº¿ã€‚ retry: åœ¨å¤±è´¥æ—¶, é‡æ–°å°è¯•æ•´ä¸ªæµæ°´çº¿çš„æŒ‡å®šæ¬¡æ•°ã€‚ timestamps é¢„æµ‹æ‰€æœ‰ç”±æµæ°´çº¿ç”Ÿæˆçš„æ§åˆ¶å°è¾“å‡ºï¼Œä¸è¯¥æµæ°´çº¿å‘å‡ºçš„æ—¶é—´ä¸€è‡´ã€‚  parameterså‚æ•° ä¸ºæµæ°´çº¿è¿è¡Œæ—¶è®¾ç½®é¡¹ç›®ç›¸å…³çš„å‚æ•°ï¼Œå°±ä¸ç”¨åœ¨UIç•Œé¢ä¸Šå®šä¹‰äº†ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚\n//string å­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°, ä¾‹å¦‚: parameters { string(name: 'DEPLOY_ENV', defaultValue: 'staging', description: '') } //booleanParam å¸ƒå°”å‚æ•°, ä¾‹å¦‚: parameters { booleanParam(name: 'DEBUG_BUILD', defaultValue: true, description: '') }  agent any parameters { string(name: 'PERSON', defaultValue: 'Mr Jenkins', description: 'Who should I say hello to?') } stages { stage('Example') { steps { echo \u0026quot;Hello ${params.PERSON}\u0026quot; } } }  triggerè§¦å‘å™¨ æ„å»ºè§¦å‘å™¨\n//cron è®¡åˆ’ä»»åŠ¡å®šæœŸæ‰§è¡Œæ„å»ºã€‚ triggers { cron('H */4 * * 1-5') } //pollSCM ä¸cronå®šä¹‰ç±»ä¼¼ï¼Œä½†æ˜¯ç”±jenkinså®šæœŸæ£€æµ‹æºç å˜åŒ–ã€‚ triggers { pollSCM('H */4 * * 1-5') } agent any triggers { cron('H */4 * * 1-5') } stages { stage('Example') { steps { echo 'Hello World' } } }  toolæ„å»ºå·¥å…· æ„å»ºå·¥å…·mavenã€antã€gradle,è·å–é€šè¿‡è‡ªåŠ¨å®‰è£…æˆ–æ‰‹åŠ¨æ”¾ç½®å·¥å…·çš„ç¯å¢ƒå˜é‡ã€‚æ”¯æŒmaven/jdk/gradleã€‚å·¥å…·çš„åç§°å¿…é¡»åœ¨ç³»ç»Ÿè®¾ç½®-\u0026gt;å…¨å±€å·¥å…·é…ç½®ä¸­å®šä¹‰ã€‚\nagent any tools { maven 'apache-maven-3.0.1' } stages { stage('Example') { steps { sh 'mvn --version' } } }  inputäº¤äº’è¾“å…¥ inputç”¨æˆ·åœ¨æ‰§è¡Œå„ä¸ªé˜¶æ®µçš„æ—¶å€™ï¼Œç”±äººå·¥ç¡®è®¤æ˜¯å¦ç»§ç»­è¿›è¡Œã€‚\nagent any stages { stage('Example') { input { message \u0026quot;Should we continue?\u0026quot; ok \u0026quot;Yes, we should.\u0026quot; submitter \u0026quot;alice,bob\u0026quot; parameters { string(name: 'PERSON', defaultValue: 'Mr Jenkins', description: 'Who should I say hello to?') } } steps { echo \u0026quot;Hello, ${PERSON}, nice to meet you.\u0026quot; } } }  å‚æ•°è§£é‡Šï¼š\n message å‘ˆç°ç»™ç”¨æˆ·çš„æç¤ºä¿¡æ¯ã€‚ id å¯é€‰ï¼Œé»˜è®¤ä¸ºstageåç§°ã€‚ ok é»˜è®¤è¡¨å•ä¸Šçš„okæ–‡æœ¬ã€‚ submitter å¯é€‰çš„,ä»¥é€—å·åˆ†éš”çš„ç”¨æˆ·åˆ—è¡¨æˆ–å…è®¸æäº¤çš„å¤–éƒ¨ç»„åã€‚é»˜è®¤å…è®¸ä»»ä½•ç”¨æˆ·ã€‚ submitterParameter ç¯å¢ƒå˜é‡çš„å¯é€‰åç§°ã€‚å¦‚æœå­˜åœ¨ï¼Œç”¨submitter åç§°è®¾ç½®ã€‚ parameters æç¤ºæäº¤è€…æä¾›çš„ä¸€ä¸ªå¯é€‰çš„å‚æ•°åˆ—è¡¨ã€‚  whenæ¡ä»¶åˆ¤æ–­ when æŒ‡ä»¤å…è®¸æµæ°´çº¿æ ¹æ®ç»™å®šçš„æ¡ä»¶å†³å®šæ˜¯å¦åº”è¯¥æ‰§è¡Œé˜¶æ®µã€‚ when æŒ‡ä»¤å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªæ¡ä»¶ã€‚\n//branch: å½“æ­£åœ¨æ„å»ºçš„åˆ†æ”¯ä¸æ¨¡å¼ç»™å®šçš„åˆ†æ”¯åŒ¹é…æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ,è¿™åªé€‚ç”¨äºå¤šåˆ†æ”¯æµæ°´çº¿ä¾‹å¦‚: when { branch 'master' } //environment: å½“æŒ‡å®šçš„ç¯å¢ƒå˜é‡æ˜¯ç»™å®šçš„å€¼æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªæ­¥éª¤,ä¾‹å¦‚: when { environment name: 'DEPLOY_TO', value: 'production' } //expression å½“æŒ‡å®šçš„Groovyè¡¨è¾¾å¼è¯„ä¼°ä¸ºtrueæ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ, ä¾‹å¦‚: when { expression { return params.DEBUG_BUILD } } //not å½“åµŒå¥—æ¡ä»¶æ˜¯é”™è¯¯æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ,å¿…é¡»åŒ…å«ä¸€ä¸ªæ¡ä»¶ï¼Œä¾‹å¦‚: when { not { branch 'master' } } //allOf å½“æ‰€æœ‰çš„åµŒå¥—æ¡ä»¶éƒ½æ­£ç¡®æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ,å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªæ¡ä»¶ï¼Œä¾‹å¦‚: when { allOf { branch 'master'; environment name: 'DEPLOY_TO', value: 'production' } } //anyOf å½“è‡³å°‘æœ‰ä¸€ä¸ªåµŒå¥—æ¡ä»¶ä¸ºçœŸæ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ,å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªæ¡ä»¶ï¼Œä¾‹å¦‚: when { anyOf { branch 'master'; branch 'staging' } } stage('Example Deploy') { when { branch 'production' environment name: 'DEPLOY_TO', value: 'production' } steps { echo 'Deploying' } }  parallelå¹¶è¡Œ å£°æ˜å¼æµæ°´çº¿çš„é˜¶æ®µå¯ä»¥åœ¨ä»–ä»¬å†…éƒ¨å£°æ˜å¤šéš”åµŒå¥—é˜¶æ®µ, å®ƒä»¬å°†å¹¶è¡Œæ‰§è¡Œã€‚ æ³¨æ„ï¼Œä¸€ä¸ªé˜¶æ®µå¿…é¡»åªæœ‰ä¸€ä¸ª steps æˆ– parallelçš„é˜¶æ®µã€‚ åµŒå¥—é˜¶æ®µæœ¬èº«ä¸èƒ½åŒ…å« è¿›ä¸€æ­¥çš„ parallel é˜¶æ®µ, ä½†æ˜¯å…¶ä»–çš„é˜¶æ®µçš„è¡Œä¸ºä¸ä»»ä½•å…¶ä»– stageparallel çš„é˜¶æ®µä¸èƒ½åŒ…å« agent æˆ– toolsé˜¶æ®µ, å› ä¸ºä»–ä»¬æ²¡æœ‰ç›¸å…³ stepsã€‚\n stage('Parallel Stage') { when { branch 'master' } failFast true parallel { stage('Branch A') { agent { label \u0026quot;for-branch-a\u0026quot; } steps { echo \u0026quot;On Branch A\u0026quot; } } stage('Branch B') { agent { label \u0026quot;for-branch-b\u0026quot; } steps { echo \u0026quot;On Branch B\u0026quot; } } } }  failFast true å½“å…¶ä¸­ä¸€ä¸ªè¿›ç¨‹å¤±è´¥æ—¶ï¼Œå¼ºåˆ¶æ‰€æœ‰çš„ parallel é˜¶æ®µéƒ½è¢«ç»ˆæ­¢ã€‚\nscriptè„šæœ¬æ ‡ç­¾ å¯ä»¥é€šè¿‡æ­¤æ ‡ç­¾åµŒå…¥è„šæœ¬å¼è¯­æ³•ã€‚\nstage(\u0026quot;Build\u0026quot;){ steps{ script{ println(\u0026quot;è¿è¡Œæ„å»º\u0026quot;) } } }  "
},
{
	"uri": "/pipelinestack/",
	"title": "æµæ°´çº¿å®è·µç¯‡[å¾…æ›´æ–°]",
	"tags": [],
	"description": "",
	"content": " Chapter 4 æµæ°´çº¿å®è·µç¯‡ "
},
{
	"uri": "/cont/menushortcuts/",
	"title": "Menu extra shortcuts",
	"tags": [],
	"description": "",
	"content": " You can define additional menu entries or shortcuts in the navigation menu without any link to content.\nBasic configuration Edit the website configuration config.toml and add a [[menu.shortcuts]] entry for each link your want to add.\nExample from the current website:\n[[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fab fa-github'\u0026gt;\u0026lt;/i\u0026gt; Github repo\u0026quot; identifier = \u0026quot;ds\u0026quot; url = \u0026quot;https://github.com/matcornic/hugo-theme-learn\u0026quot; weight = 10 [[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-camera'\u0026gt;\u0026lt;/i\u0026gt; Showcases\u0026quot; url = \u0026quot;/showcase\u0026quot; weight = 11 [[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bookmark'\u0026gt;\u0026lt;/i\u0026gt; Hugo Documentation\u0026quot; identifier = \u0026quot;hugodoc\u0026quot; url = \u0026quot;https://gohugo.io/\u0026quot; weight = 20 [[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bullhorn'\u0026gt;\u0026lt;/i\u0026gt; Credits\u0026quot; url = \u0026quot;/credits\u0026quot; weight = 30  By default, shortcuts are preceded by a title. This title can be disabled by setting disableShortcutsTitle=true. However, if you want to keep the title but change its value, it can be overriden by changing your local i18n translation string configuration.\nFor example, in your local i18n/en.toml file, add the following content\n[Shortcuts-Title] other = \u0026quot;\u0026lt;Your value\u0026gt;\u0026quot;  Read more about hugo menu and hugo i18n translation strings\nConfiguration for Multilingual mode When using a multilingual website, you can set different menus for each language. In the config.toml file, prefix your menu configuration by Languages.\u0026lt;language-id\u0026gt;.\nExample from the current website:\n[Languages] [Languages.en] title = \u0026quot;Documentation for Hugo Learn Theme\u0026quot; weight = 1 languageName = \u0026quot;English\u0026quot; [[Languages.en.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fab fa-github'\u0026gt;\u0026lt;/i\u0026gt; Github repo\u0026quot; identifier = \u0026quot;ds\u0026quot; url = \u0026quot;https://github.com/matcornic/hugo-theme-learn\u0026quot; weight = 10 [[Languages.en.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-camera'\u0026gt;\u0026lt;/i\u0026gt; Showcases\u0026quot; url = \u0026quot;/showcase\u0026quot; weight = 11 [[Languages.en.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bookmark'\u0026gt;\u0026lt;/i\u0026gt; Hugo Documentation\u0026quot; identifier = \u0026quot;hugodoc\u0026quot; url = \u0026quot;https://gohugo.io/\u0026quot; weight = 20 [[Languages.en.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bullhorn'\u0026gt;\u0026lt;/i\u0026gt; Credits\u0026quot; url = \u0026quot;/credits\u0026quot; weight = 30 [Languages.fr] title = \u0026quot;Documentation du thÃ¨me Hugo Learn\u0026quot; weight = 2 languageName = \u0026quot;FranÃ§ais\u0026quot; [[Languages.fr.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fab fa-github'\u0026gt;\u0026lt;/i\u0026gt; Repo Github\u0026quot; identifier = \u0026quot;ds\u0026quot; url = \u0026quot;https://github.com/matcornic/hugo-theme-learn\u0026quot; weight = 10 [[Languages.fr.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-camera'\u0026gt;\u0026lt;/i\u0026gt; Vitrine\u0026quot; url = \u0026quot;/showcase\u0026quot; weight = 11 [[Languages.fr.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bookmark'\u0026gt;\u0026lt;/i\u0026gt; Documentation Hugo\u0026quot; identifier = \u0026quot;hugodoc\u0026quot; url = \u0026quot;https://gohugo.io/\u0026quot; weight = 20 [[Languages.fr.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bullhorn'\u0026gt;\u0026lt;/i\u0026gt; CrÃ©dits\u0026quot; url = \u0026quot;/credits\u0026quot; weight = 30  Read more about hugo menu and hugo multilingual menus\n"
},
{
	"uri": "/cont/menushortcuts.fr/",
	"title": "Raccourcis du menu",
	"tags": [],
	"description": "",
	"content": " Vous pouvez dÃ©finir des entrÃ©es ou raccourcis supplÃ©mentaires dans le menu sans avoir besoin d\u0026rsquo;Ãªtre liÃ© Ã  un contenu du site.\nConfiguration simple Editez le fichier de configuration config.toml et ajoutez une entrÃ©e [[menu.shortcuts]] pour chaque lien que vous voulez ajouter.\nExemple pour ce site:\n[[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fab fa-github'\u0026gt;\u0026lt;/i\u0026gt; Github repo\u0026quot; identifier = \u0026quot;ds\u0026quot; url = \u0026quot;https://github.com/matcornic/hugo-theme-learn\u0026quot; weight = 10 [[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-camera'\u0026gt;\u0026lt;/i\u0026gt; Showcases\u0026quot; url = \u0026quot;/showcase\u0026quot; weight = 11 [[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bookmark'\u0026gt;\u0026lt;/i\u0026gt; Hugo Documentation\u0026quot; identifier = \u0026quot;hugodoc\u0026quot; url = \u0026quot;https://gohugo.io/\u0026quot; weight = 20 [[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bullhorn'\u0026gt;\u0026lt;/i\u0026gt; Credits\u0026quot; url = \u0026quot;/credits\u0026quot; weight = 30  Par dÃ©faut, les raccourcis sont prÃ©cÃ©dÃ©s par un titre. Ce titre peut Ãªtre dÃ©sactivÃ© en ajouter le paramÃ¨tre disableShortcutsTitle=true dans la section params de votre config.toml. Cependant, si vous voulez garder le titre mais changer sa valeur, vous pouvez modifier votre configuration multilangue locale en changeant les translation string.\nPar exemple, dans votre fichier local i18n/en.toml, ajouter le contenu\n[Shortcuts-Title] other = \u0026quot;\u0026lt;Votre valeur\u0026gt;\u0026quot;  Plus d\u0026rsquo;infos sur les menus Hugo et sur les translations strings\nConfiguration pour le mode multi-langue Quand vous utilisez un site multi-langue, vous pouvez avoir des menus diffÃ©rents pour chaque langage. Dans le fichier de configuration config.toml, prÃ©fixez votre configuration par Languages.\u0026lt;language-id\u0026gt;.\nPar exemple, avec ce site :\n[Languages] [Languages.en] title = \u0026quot;Documentation for Hugo Learn Theme\u0026quot; weight = 1 languageName = \u0026quot;English\u0026quot; [[Languages.en.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fab fa-github'\u0026gt;\u0026lt;/i\u0026gt; Github repo\u0026quot; identifier = \u0026quot;ds\u0026quot; url = \u0026quot;https://github.com/matcornic/hugo-theme-learn\u0026quot; weight = 10 [[Languages.en.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-camera'\u0026gt;\u0026lt;/i\u0026gt; Showcases\u0026quot; url = \u0026quot;/showcase\u0026quot; weight = 11 [[Languages.en.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bookmark'\u0026gt;\u0026lt;/i\u0026gt; Hugo Documentation\u0026quot; identifier = \u0026quot;hugodoc\u0026quot; url = \u0026quot;https://gohugo.io/\u0026quot; weight = 20 [[Languages.en.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bullhorn'\u0026gt;\u0026lt;/i\u0026gt; Credits\u0026quot; url = \u0026quot;/credits\u0026quot; weight = 30 [Languages.fr] title = \u0026quot;Documentation du thÃ¨me Hugo Learn\u0026quot; weight = 2 languageName = \u0026quot;FranÃ§ais\u0026quot; [[Languages.fr.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fab fa-github'\u0026gt;\u0026lt;/i\u0026gt; Repo Github\u0026quot; identifier = \u0026quot;ds\u0026quot; url = \u0026quot;https://github.com/matcornic/hugo-theme-learn\u0026quot; weight = 10 [[Languages.fr.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-camera'\u0026gt;\u0026lt;/i\u0026gt; Vitrine\u0026quot; url = \u0026quot;/showcase\u0026quot; weight = 11 [[Languages.fr.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bookmark'\u0026gt;\u0026lt;/i\u0026gt; Documentation Hugo\u0026quot; identifier = \u0026quot;hugodoc\u0026quot; url = \u0026quot;https://gohugo.io/\u0026quot; weight = 20 [[Languages.fr.menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-bullhorn'\u0026gt;\u0026lt;/i\u0026gt; CrÃ©dits\u0026quot; url = \u0026quot;/credits\u0026quot; weight = 30  Plus d\u0026rsquo;infos sur les menus Hugo et les menus multi-langue Hugo\n"
},
{
	"uri": "/pipelineintegrated/chapter03/",
	"title": "3-3 ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé›†æˆ",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« ä¸»è¦æˆ‘ä»¬ä¸»è¦å­¦ä¹ ä¸ç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸGitlabçš„é›†æˆï¼Œä¾‹å¦‚ï¼šé…ç½®æäº¤æµæ°´çº¿å’Œåˆå¹¶æµæ°´çº¿ã€‚\n ç›®å½•  æäº¤æµæ°´çº¿  é…ç½®jenkins é…ç½®gitlab  æäº¤æµæ°´çº¿ä¼˜åŒ–  åˆ†æ”¯åç§°è‡ªåŠ¨æ›¿æ¢ å¢åŠ æ„å»ºæè¿°ä¿¡æ¯ å˜æ›´commitçŠ¶æ€ æ„å»ºå¤±è´¥é‚®ä»¶é€šçŸ¥ è¿‡æ»¤ç‰¹æ®Špushè¯·æ±‚  åˆå¹¶æµæ°´çº¿  æäº¤æµæ°´çº¿ å½“Gitlabä¸­è§¦å‘pushæ“ä½œï¼Œåˆ™è§¦å‘ç›¸å¯¹åº”çš„Jenkinsæµæ°´çº¿æ„å»ºã€‚å®ç°å¿«é€Ÿåé¦ˆä¸éªŒè¯ã€‚\n æ–¹å¼1ï¼š ä½¿ç”¨Gitlab CI,å½“æœ‰pushè¯·æ±‚ï¼Œåœ¨CIè„šæœ¬ä¸­è¿œç¨‹è§¦å‘Jenkinsé¡¹ç›®æ„å»ºã€‚  éœ€è¦å‡†å¤‡Gitlab runner ç¼–å†™è§¦å‘Jenkinsè„šæœ¬  æ–¹å¼2ï¼š ä½¿ç”¨Gitlab WebHook,å½“æœ‰pushè¯·æ±‚ï¼Œç›´æ¥è§¦å‘jenkinsé¡¹ç›®æ„å»ºã€‚ã€é‡‡ç”¨ã€‘  éœ€è¦é…ç½®Gitlab webHook éœ€è¦é…ç½®Jenkinsé¡¹ç›®Hook   é…ç½®jenkins é¦–å…ˆæˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªèƒ½å¤Ÿæ„å»ºæˆåŠŸçš„æµæ°´çº¿é¡¹ç›®ï¼ˆæš‚ä¸”ä¸è®¾ç½®å¤æ‚çš„æ­¥éª¤ï¼Œhelloworldå³å¯ï¼‰ ç¼–è¾‘é¡¹ç›®é…ç½®: æˆ‘ä»¬è¦ä½¿ç”¨Generic Webhook Triggerè§¦å‘å™¨ï¼Œéœ€è¦å®‰è£…æ’ä»¶ã€‚è¿™è§¦å‘å™¨éå¸¸çµæ´»ï¼Œæ¨èä½¿ç”¨ã€‚\nå¼€å¯Generic Webhook Triggerè§¦å‘å™¨ï¼Œæ·»åŠ ä¸€ä¸ªè¯·æ±‚å‚æ•°runOpts Request parameters ã€‚æˆ‘ä»¬å®šä¹‰è¿™ä¸ªå‚æ•°æ˜¯ä¸ºäº†å¯¹æ„å»ºåšä¸ªæ ‡è¯†ã€‚è¾¨åˆ«æ‰‹åŠ¨è§¦å‘æ„å»ºä¸æäº¤æ„å»ºã€‚é…ç½®ä¸€ä¸ªtokené»˜è®¤æˆ‘ä½¿ç”¨çš„æ˜¯é¡¹ç›®çš„åç§°ï¼Œå¿…é¡»å”¯ä¸€ï¼Œå¦åˆ™åœ¨é…ç½®äº†ç›¸åŒçš„tokençš„é¡¹ç›®éƒ½ä¼šè¢«è§¦å‘ã€‚Print post contentç”¨äºå±•ç¤ºè¯·æ±‚æ—¥å¿—,Print contributed variableså±•ç¤ºæˆ‘ä»¬åœ¨postä¸­è·å–çš„å˜é‡å†…å®¹ã€‚\né…ç½®å®Œæˆåï¼š æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªè§¦å‘URL\nhttp://JENKINS_URL/generic-webhook-trigger/invoke?token=demo-maven-service_PUSH\u0026amp;runOpts=GitlabCI\né…ç½®gitlab æˆ‘ä»¬æ‰¾åˆ°è¦é…ç½®æäº¤è§¦å‘æ„å»ºçš„é¡¹ç›®,è®¾ç½®-\u0026gt;é›†æˆ,å‹¾é€‰Push Events é…ç½®å®Œæˆï¼Œè¿™æ—¶å€™æˆ‘ä»¬è¿›è¡Œæäº¤ä»£ç ï¼Œä¼šå‘ç°å·²ç»èƒ½å¤Ÿæ­£å¸¸è§¦å‘é¡¹ç›®æ„å»ºäº†ã€‚å¦‚æœå‡ºç°äº†é—®é¢˜ï¼Œæˆ‘ä»¬é‡ç‚¹æ£€æŸ¥jenkinsçš„é¡¹ç›®è§¦å‘URLå’Œç½‘ç»œæƒé™é—®é¢˜ã€‚\n æäº¤æµæ°´çº¿ä¼˜åŒ– åˆ†æ”¯åç§°è‡ªåŠ¨æ›¿æ¢ å½“æˆ‘ä»¬åœ¨ä»»æ„åˆ†æ”¯æäº¤çš„æ—¶å€™ï¼ŒJenkinséœ€è¦è·å–æˆ‘ä»¬æäº¤çš„åˆ†æ”¯è¿›è¡Œæ„å»ºã€‚è€Œä¸æ˜¯å›ºå®šçš„åˆ†æ”¯ã€‚\nå¢åŠ è·å–hookå‚æ•° åˆ†æ”¯åç§°å˜é‡ Post content parameters. $æŒ‡çš„æ˜¯åœ¨Gitlabç³»ç»Ÿä¸­pushæ“ä½œè§¦å‘åå‘é€ç»™Jenkinsçš„æ•°æ®ã€‚ï¼ˆè¿™ä¸ªæ•°æ®åŒ…å«è°æäº¤çš„ã€æäº¤çš„åˆ†æ”¯ã€æäº¤çš„idç­‰ä¿¡æ¯ï¼‰ã€‚è€Œ$.refæ˜¯è§£æè¿™ä¸ªjsonæ ¼å¼çš„æ•°æ®ï¼Œè·å–å…¶ä¸­çš„refä¹Ÿå°±æ˜¯æäº¤çš„åˆ†æ”¯åç§°ã€‚ æŸ¥çœ‹ä¸‹é¢è¿™æ®µjenkinsfile,ä½ ä¼šå‘ç°branchå˜é‡å°±æ˜¯ä¸Šé¢æˆ‘ä»¬åœ¨è§¦å‘å™¨ä¸­é…ç½®çš„ï¼Œå®ƒçš„åŸå§‹å†…å®¹æ˜¯refs/heads/masterï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¸‹è½½ä»£ç çš„æ—¶å€™ä¸éœ€è¦å‰é¢refs/heads/å†…å®¹ï¼Œæ‰€ä»¥å»æ‰äº†ã€‚æ­¤æ—¶å¯ä»¥é‡å¤åœ¨ä¸é€šçš„åˆ†æ”¯æäº¤ä»£ç ï¼Œå½“åœ¨æ„å»ºæ—¥å¿—ä¸­å‡ºç°äº†ä¸é€šçš„åˆ†æ”¯åç§°ï¼Œåˆ™æˆåŠŸäº†ã€‚\nbranchName = branch - \u0026quot;refs/heads/\u0026quot; //pipeline pipeline{ agent { node { label \u0026quot;build\u0026quot;}} stages{ stage(\u0026quot;CheckOut\u0026quot;){ steps{ script{ println(\u0026quot;${branchName}\u0026quot;) } } } } }  å¢åŠ æ„å»ºæè¿°ä¿¡æ¯ åˆ«å¿˜äº†æˆ‘ä»¬åœ¨å‰é¢æ„å»ºè§¦å‘å™¨ä¸­é…ç½®äº†runOptså‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æˆ‘ä»¬ç”¨äºåŒºåˆ†ä¸é€šçš„æ„å»ºè§¦å‘æ–¹å¼ï¼ˆæ‰‹åŠ¨ã€æäº¤è§¦å‘ï¼‰ã€‚ è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ç»“åˆcurrendBuild.descriptioné…ç½®ã€‚\nä¸ºäº†æ›´åŠ æ˜æ˜¾æˆ‘ä»¬å¯ä»¥åœ¨è§¦å‘å™¨ä¸­å†æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œç”¨æˆ·è·å–æäº¤çš„ç”¨æˆ·ã€‚\nç„¶åæˆ‘ä»¬æ¥å®Œå–„ä¸€ä¸‹ä¸Šé¢çš„Jenkinsfileï¼Œå¦‚ä¸‹ï¼š\nbranchName = branch - \u0026quot;refs/heads/\u0026quot; currentBuild.description = \u0026quot;Trigger by ${userName} ${branch}\u0026quot; //pipeline pipeline{ agent { node { label \u0026quot;build\u0026quot;}} stages{ stage(\u0026quot;CheckOut\u0026quot;){ steps{ script{ println(\u0026quot;${branchName}\u0026quot;) } } } } }  æ”¹å¥½äº†ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œè°ƒè¯•äº†ã€‚å½“ä½ åœ¨é¡¹ç›®çš„æ„å»ºè®°å½•ä¸­çœ‹åˆ°ä¸‹å›¾ä¿¡æ¯ï¼Œè¡¨åæˆåŠŸäº†ã€‚\nå˜æ›´commitçŠ¶æ€ å…¶å®ï¼ŒGitlabè‡ªèº«çš„GitlabCIå¾ˆå¥½ç”¨ï¼Œèƒ½å¤Ÿæ ¹æ®æµæ°´çº¿çš„çŠ¶æ€è®¾ç½®å½“å‰æäº¤çš„çŠ¶æ€ã€‚è€Œæˆ‘ä»¬ä½¿ç”¨Jenkinsä¹Ÿæ˜¯å¯ä»¥å®Œæˆè¿™æ ·çš„é…ç½®ã€‚è¿™ä¸ªéœ€è¦æˆ‘ä»¬å»ç ”ç©¶Gitlabçš„APIã€‚å…ˆçœ‹ä¸‹æ•ˆæœå§ï¼ å¼€å§‹é…ç½®ï¼š éœ€è¦ç ”ç©¶Gitlabçš„Pipelineæ¥å£æ–‡æ¡£ å…³äºgitlabä¸­pipelineçš„çŠ¶æ€æœ‰ï¼š[pending, running, success, failed, canceled] ã€‚ æ¥å£åœ°å€ä¸ºprojects/${projectId}/statuses/${commitSha}?state=stateã€‚\nææ¸…æ¥šäº†ä¸Šé¢è¿™äº›ï¼Œæˆ‘ä»¬åœ¨å…±äº«åº“ä¸­è¿›è¡Œå°è£…å°±å¾ˆç®€å•äº†ã€‚ å¼€å§‹å§ï¼å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›ä¿¡æ¯ä¾‹å¦‚ï¼šprojectIdgitlabé¡¹ç›®çš„ID,commitShaæäº¤çš„idã€‚æˆ‘ä»¬è¯¥å¦‚ä½•è·å–å‘¢ï¼Ÿ å¯¹çš„ï¼Œæ²¡é”™æˆ‘ä»¬æ ¹æ®ä¸Šé¢çš„æ“ä½œä¸€æ ·è·å–ã€‚ é¦–å…ˆåœ¨è§¦å‘å™¨æ·»åŠ ä¸¤ä¸ªå‚æ•°projectId,commitShaï¼Œåˆ†åˆ«å¯¹åº”é¡¹ç›®Idå’Œæäº¤Idã€‚ $.project.id,$.checkout_sha okï¼å¾ˆå¥½ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥åœ¨å…±äº«åº“åˆ›å»ºä¸€ä¸ªæ–‡ä»¶src/org/devops/gitlab.groovy,è¿™ä¸ªæ–‡ä»¶ç”¨ä¸åç»­çš„Gitlabæ“ä½œã€‚ç„¶åæˆ‘ä»¬åœ¨jenkinsä¸­æ·»åŠ ä¸€ä¸ªå‡­æ®ç”¨æˆ·å­˜å‚¨Gitlabçš„tokenï¼Œè¿™é‡Œæˆ‘å®šä¹‰çš„å‡­æ®åç§°æ˜¯gitlab-token ã€‚æˆ‘ä»¬é¦–å…ˆä½¿ç”¨httpRequestå°è£…è¯·æ±‚Gitlabçš„APIåœ°å€ï¼Œç„¶åä½¿ç”¨withCredentialsè·å–Jenkinsä¸­çš„å‡­æ®gitlab-tokenèµ‹å€¼ç»™å˜é‡gitlabTokenç”¨äºè®¤è¯ä½¿ç”¨ã€‚\npackage org.devops //å°è£…HTTPè¯·æ±‚ def HttpReq(reqType,reqUrl,reqBody){ def gitServer = \u0026quot;http://192.168.1.200:30088/api/v4\u0026quot; withCredentials([string(credentialsId: 'gitlab-token', variable: 'gitlabToken')]) { result = httpRequest customHeaders: [[maskValue: true, name: 'PRIVATE-TOKEN', value: \u0026quot;${gitlabToken}\u0026quot;]], httpMode: reqType, contentType: \u0026quot;APPLICATION_JSON\u0026quot;, consoleLogResponseBody: true, ignoreSslErrors: true, requestBody: reqBody, url: \u0026quot;${gitServer}/${reqUrl}\u0026quot; //quiet: true } return result }  å¦‚æœä¸Šé¢çš„å†…å®¹ä½ æœ‰ç‚¹çœ‹ä¸æ‡‚äº†ï¼Œå˜¿å˜¿ï¼Œå…ˆæ”¾æ”¾ã€‚ä½ å¯ä»¥å»äº†è§£ä¸‹å…³äºHTTPè¯·æ±‚ç›¸å…³åŸºç¡€çŸ¥è¯†äº†ã€‚\n æˆ‘ä»¬å¼€å§‹æ·»åŠ å˜æ›´æäº¤çŠ¶æ€çš„æ–¹æ³•(è®°ä½æˆ‘ä»¬ç°åœ¨è¿˜åœ¨gitlab.groovyæ–‡ä»¶ä¸­å“¦)ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªChangeCommitStatus()æ–¹æ³•ï¼Œå…·æœ‰ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºé¡¹ç›®IDã€æäº¤IDã€æäº¤çŠ¶æ€ projectIdï¼ŒcommitSha,statusã€‚ç„¶åä½¿ç”¨æˆ‘ä»¬ä¸Šé¢å°è£…å¥½çš„æ–¹æ³•å‘é€POSTè¯·æ±‚ã€‚\n//æ›´æ”¹æäº¤çŠ¶æ€ def ChangeCommitStatus(projectId,commitSha,status){ commitApi = \u0026quot;projects/${projectId}/statuses/${commitSha}?state=${status}\u0026quot; response = HttpReq('POST',commitApi,'') println(response) return response }  åˆ°æ­¤æˆ‘ä»¬åœ¨å…±äº«åº“çš„é…ç½®å°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥åœ¨Jenkinsfileä¸­å¼•ç”¨å¹¶è¿›è¡Œè°ƒè¯•ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆåŠ è½½äº†å…±äº«åº“jenkinslibrary ç„¶åå¼•ç”¨äº†gitlab.groovyã€‚å½“æµæ°´çº¿å¼€å§‹è¿è¡Œçš„æ—¶å€™æˆ‘ä»¬å°†å½“å‰è¿™æ¬¡æäº¤çš„çŠ¶æ€ä¸ºrunningè¿è¡Œä¸­çŠ¶æ€ï¼Œå½“æµæ°´çº¿æ„å»ºæˆåŠŸæˆ‘ä»¬ä¼šæŠŠçŠ¶æ€å˜ä¸ºsuccessï¼Œå½“æµæ°´çº¿å¤±è´¥äº†æˆ–è€…è¢«å–æ¶ˆäº†æˆ‘ä»¬ä¼šå°†çŠ¶æ€å˜ä¸ºfailedï¼Œcanceledã€‚\n#!groovy @Library('jenkinslibrary@master') _ //func from shareibrary def gitlab = new org.devops.gitlab() //branch branchName = branch - \u0026quot;refs/heads/\u0026quot; currentBuild.description = \u0026quot;Trigger by ${userName} ${branch}\u0026quot; gitlab.ChangeCommitStatus(projectId,commitSha,\u0026quot;running\u0026quot;) //pipeline pipeline{ agent { node { label \u0026quot;build\u0026quot;}} stages{ stage(\u0026quot;CheckOut\u0026quot;){ steps{ script{ println(\u0026quot;${branchName}\u0026quot;) } } } } post { always{ script{ println(\u0026quot;always\u0026quot;) } } success{ script{ println(\u0026quot;success\u0026quot;) gitlab.ChangeCommitStatus(projectId,commitSha,\u0026quot;success\u0026quot;) } } failure{ script{ println(\u0026quot;failure\u0026quot;) gitlab.ChangeCommitStatus(projectId,commitSha,\u0026quot;failed\u0026quot;) } } aborted{ script{ println(\u0026quot;aborted\u0026quot;) gitlab.ChangeCommitStatus(projectId,commitSha,\u0026quot;canceled\u0026quot;) } } } }  å¦‚æœè°ƒè¯•æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆæ­¤æ—¶ä½ å¯ä»¥ç™»å½•gitlabç³»ç»Ÿå½“å‰é¡¹ç›®çš„åˆ†æ”¯çš„æäº¤çš„çŠ¶æ€äº†ï¼ä½†æ˜¯ä½ æ˜¯å¦è§‰å¾—è¿˜å·®ç‚¹ä»€ä¹ˆï¼Ÿ å¦‚æœå¼€å‘äººå‘˜æäº¤äº†ï¼Œç„¶åæµæ°´çº¿è‡ªåŠ¨æ‰§è¡Œäº†ï¼Œæœ€åå¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ è¦æ±‚å¼€å‘äººå‘˜æ”¾ä¸‹å·¥ä½œå®æ—¶å»çœ‹ï¼Ÿæˆ‘è§‰å¾—å‘é€ä¸€ä¸ªé€šçŸ¥ä¼šæ›´å¥½ä¸€äº›ï¼ ä¾‹å¦‚é‚®ä»¶é€šçŸ¥ã€‚å¥½å§ï¼Œå¼€å§‹é…ç½®ï¼\næ„å»ºå¤±è´¥é‚®ä»¶é€šçŸ¥ é¦–å…ˆè¦ä¸ºæ¯ä¸ªå¼€å‘äººå‘˜åˆ†é…ä¸€ä¸ªé‚®ç®±ï¼Œå¹¶ä¸”è¦åœ¨Gitlabä¸­å¡«å†™å¥½ã€‚ç™»å½•ä¸ªäººç”¨æˆ·è¿›è¡Œé…ç½®å“¦ï¼æ²¡é”™ï¼Œåœ¨è¿™é‡Œé…ç½®é‚®ç®±çš„æ„ä¹‰å°±æ˜¯æ–¹ä¾¿åé¢æˆ‘ä»¬åœ¨jenkinsä¸­è¿‡æ»¤è·å–ã€‚å½“ç„¶å¦‚æœå…¬å¸é‚®ç®±å…·æœ‰ç‰¹å¾ï¼šç”¨æˆ·å@xxx.comã€‚å°±ä¸ç”¨é…ç½®äº†å› ä¸ºå‰é¢å·²ç»è·å–çš„ç”¨æˆ·åã€‚å½“ç„¶å¾ˆå¤šæ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰å¿…è¦æŠŠè¿™ä¸ªé…ç½®å¥½ã€‚\né…ç½®å¥½é‚®ç®±ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨Jenkinsä¸­é…ç½®é‚®ä»¶é€šçŸ¥å’Œé¡¹ç›®é…ç½®ã€‚æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­è§¦å‘å™¨æ·»åŠ ä¸€ä¸ªå‚æ•°userEmailã€‚\nJenkinséœ€è¦é…ç½®é‚®ä»¶é€šçŸ¥ï¼Œå®‰è£…æ’ä»¶Email Extensionï¼Œç„¶åè¿›å…¥ç³»ç»Ÿç®¡ç†-\u0026gt; ç³»ç»Ÿè®¾ç½® -\u0026gt;Extended E-email Notificationã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯QQé‚®ç®±ï¼Œå¡«å†™SMTPæœåŠ¡å™¨åœ°å€smtp.qq.com å’Œç«¯å£ 465æ³¨æ„è¦å¼€å¯SSLï¼Œå¯†ç ä¸ºæˆæƒç ã€‚\né‚®ä»¶é€šçŸ¥çš„åŠŸèƒ½å¾ˆé‡è¦ï¼Œæˆ‘ä»¬è¦ä¸ºæ¯æ¡æµæ°´çº¿éƒ½åŠ ä¸Šè¿™ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬åœ¨å…±äº«åº“ä¸­å°è£…ä¸€ä¸ªtoemail.groovyã€‚ æ–°å»ºæ–‡ä»¶src/org/devops/toemail.groovyã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å†™äº†ä¸€æ®µHTMLä»£ç ï¼Œä¸»è¦å±•ç¤ºJenkinsçš„æ„å»ºä¿¡æ¯ã€‚\npackage org.devops //å®šä¹‰é‚®ä»¶å†…å®¹ def Email(status,emailUser){ emailext body: \u0026quot;\u0026quot;\u0026quot; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body leftmargin=\u0026quot;8\u0026quot; marginwidth=\u0026quot;0\u0026quot; topmargin=\u0026quot;8\u0026quot; marginheight=\u0026quot;4\u0026quot; offset=\u0026quot;0\u0026quot;\u0026gt; \u0026lt;img src=\u0026quot;http://192.168.1.200:8080/static/0eef74bf/images/headshot.png\u0026quot;\u0026gt; \u0026lt;table width=\u0026quot;95%\u0026quot; cellpadding=\u0026quot;0\u0026quot; cellspacing=\u0026quot;0\u0026quot; style=\u0026quot;font-size: 11pt; font-family: Tahoma, Arial, Helvetica, sans-serif\u0026quot;\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;\u0026lt;br /\u0026gt; \u0026lt;b\u0026gt;\u0026lt;font color=\u0026quot;#0B610B\u0026quot;\u0026gt;æ„å»ºä¿¡æ¯\u0026lt;/font\u0026gt;\u0026lt;/b\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;é¡¹ç›®åç§°ï¼š${JOB_NAME}\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;æ„å»ºç¼–å·ï¼š${BUILD_ID}\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;æ„å»ºçŠ¶æ€: ${status} \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;é¡¹ç›®åœ°å€ï¼š\u0026lt;a href=\u0026quot;${BUILD_URL}\u0026quot;\u0026gt;${BUILD_URL}\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;æ„å»ºæ—¥å¿—ï¼š\u0026lt;a href=\u0026quot;${BUILD_URL}console\u0026quot;\u0026gt;${BUILD_URL}console\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; \u0026quot;\u0026quot;\u0026quot;, subject: \u0026quot;Jenkins-${JOB_NAME}é¡¹ç›®æ„å»ºä¿¡æ¯ \u0026quot;, to: emailUser }  åœ¨æµæ°´çº¿ä¸­å¼•ç”¨\n#!groovy @Library('jenkinslibrary@master') _ //func from shareibrary def gitlab = new org.devops.gitlab() def toemail = new org.devops.toemail() //branch branchName = branch - \u0026quot;refs/heads/\u0026quot; currentBuild.description = \u0026quot;Trigger by ${userName} ${branch}\u0026quot; gitlab.ChangeCommitStatus(projectId,commitSha,\u0026quot;running\u0026quot;) //pipeline pipeline{ agent { node { label \u0026quot;build\u0026quot;}} stages{ stage(\u0026quot;CheckOut\u0026quot;){ steps{ script{ println(\u0026quot;${branchName}\u0026quot;) } } } } post { always{ script{ println(\u0026quot;always\u0026quot;) } } success{ script{ println(\u0026quot;success\u0026quot;) gitlab.ChangeCommitStatus(projectId,commitSha,\u0026quot;success\u0026quot;) toemail.Email(\u0026quot;æµæ°´çº¿æˆåŠŸ\u0026quot;,userEmail) } } failure{ script{ println(\u0026quot;failure\u0026quot;) gitlab.ChangeCommitStatus(projectId,commitSha,\u0026quot;failed\u0026quot;) toemail.Email(\u0026quot;æµæ°´çº¿å¤±è´¥äº†ï¼\u0026quot;,userEmail) } } aborted{ script{ println(\u0026quot;aborted\u0026quot;) gitlab.ChangeCommitStatus(projectId,commitSha,\u0026quot;canceled\u0026quot;) toemail.Email(\u0026quot;æµæ°´çº¿è¢«å–æ¶ˆäº†ï¼\u0026quot;,userEmail) } } } }  æ¥ä¸‹æ¥å¯ä»¥è°ƒè¯•äº†ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ä¼šåœ¨é‚®ç®±ä¸­çœ‹åˆ°æ­¤å°é‚®ä»¶ã€‚ è¿‡æ»¤ç‰¹æ®Špushè¯·æ±‚ ä½ å¯èƒ½å‘ç°é—®é¢˜äº†ï¼Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯æˆ–è€…æ ‡ç­¾ä¹Ÿä¼šå‡ºç°æ„å»ºï¼Œè¿™ä¸ªæ„å»ºæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚æˆ‘ä»¬éœ€è¦æ’é™¤æ‰ã€‚æ²¡é”™ï¼Œjenkins çš„ Generic webHook ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚\nå‚è€ƒå®˜æ–¹çš„è¯´æ˜:https://github.com/jenkinsci/generic-webhook-trigger-plugin/tree/master/src/test/resources/org/jenkinsci/plugins/gwt/bdd\næ·»åŠ ä¸‰ä¸ªå˜é‡ï¼Œè·å–å½“å‰çš„æäº¤ä¿¡æ¯ $object_kind $before $after é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼é…ç½®è§¦å‘æ¡ä»¶ï¼šExpression ^push\\s(?!0{40}).{40}\\s(?!0{40}).{40}$ Text $object_kind $before $afterã€‚ pushè¯·æ±‚åªæœ‰afterå’Œbeforeçš„å€¼éƒ½ä¸æ˜¯40ä¸ª0çš„æ—¶å€™è§¦å‘æ„å»ºï¼ˆä¸º40ä¸ª0çš„æƒ…å†µæ˜¯åˆ é™¤åˆ†æ”¯æˆ–è€…æ–°å»ºåˆ†æ”¯ï¼‰\nOk! æäº¤æµæ°´çº¿é…ç½®å¥½äº†ï¼Œå¯ä»¥ç©è€äº†~ã€‚\nåˆå¹¶æµæ°´çº¿ å…³äºåˆå¹¶æµæ°´çº¿çš„é…ç½®ä¹‹å‰è¦æŠŠæäº¤æµæ°´çº¿é…ç½®å¥½ï¼Œå½“æäº¤æµæ°´çº¿é…ç½®å¥½äº†ï¼Œåˆå¹¶æµæ°´çº¿åªéœ€è¦ä¿®æ”¹ä¸€ä¸ªé…ç½®ã€‚\nå½“æµæ°´çº¿æˆåŠŸåæ‰å¯ä»¥åˆå¹¶ï¼šä¼šæ£€æŸ¥åŸåˆ†æ”¯ä¸­çš„æœ€åä¸€æ¬¡æäº¤çš„çŠ¶æ€æ˜¯å¦ä¸ºsuccessã€‚\nå½“åŸåˆ†æ”¯æœ€åä¸€æ¬¡æäº¤çš„çŠ¶æ€ä¸ºsuccessï¼Œåˆ™å¯ä»¥åˆå¹¶ã€‚ "
},
{
	"uri": "/pipelinesyntax/chapter03/",
	"title": "Jenkinså…±äº«åº“åº”ç”¨",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬æ¨¡å—ä¸»è¦å­¦ä¹ Jenkinså…±äº«åº“çš„é…ç½®ï¼Œç›®çš„æ˜¯èƒ½å¤Ÿè®©å¤§å®¶ç¼–å†™æ›´åŠ çµæ´»å¼ºå¤§çš„æµæ°´çº¿ğŸ˜€\n ç›®å½•  æ¦‚è¿° å…±äº«åº“å†…å®¹ åˆ›å»ºå…±äº«åº“ ä½¿ç”¨å…±äº«åº“  æ¦‚è¿° å…±äº«åº“è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ¦‚å¿µï¼Œå…¶å®å…·æœ‰ç¼–ç¨‹èƒ½åŠ›çš„åŒå­¦åº”è¯¥æ¸…æ¥šä¸€äº›ã€‚ä¾‹å¦‚åœ¨ç¼–ç¨‹è¯­è¨€Pythonä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†Pythonä»£ç å†™åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå½“ä»£ç æ•°é‡å¢åŠ ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»£ç æ‰“åŒ…æˆæ¨¡å—ç„¶åå†ä»¥importçš„æ–¹å¼ä½¿ç”¨æ­¤æ¨¡å—ä¸­çš„æ–¹æ³•ã€‚\nåœ¨Jenkinsä¸­ä½¿ç”¨Groovyè¯­æ³•ï¼Œå…±äº«åº“ä¸­å­˜å‚¨çš„æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªgroovyçš„ç±»ï¼Œæ¯ä¸ªæ–‡ä»¶ï¼ˆç±»ï¼‰ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•ã€‚æ¯ä¸ªæ–¹æ³•åŒ…å«groovyè¯­å¥å—ã€‚\næˆ‘æŠŠå…±äº«åº“ä»£ç ä¸Šä¼ åˆ°äº†githubï¼Œå¤§å®¶å¯ä»¥å‚è€ƒdemoå…±äº«åº“\nå…±äº«åº“å†…å®¹ è¿™æ˜¯ä¸€ä¸ªdemoæ¼”ç¤ºçš„å…±äº«åº“ï¼Œå¤§å®¶å¯ä»¥çœ‹åˆ°ä»“åº“çš„ç»“æ„ä¸å†…å®¹ã€‚è¿™ä¸ªä»“åº“ä¸­åŒ…å«äº†å¾ˆå¤šç±»ï¼Œä¾‹å¦‚ï¼šæˆ‘å°†kubernetesä¸­çš„APIæ–¹æ³•å°è£…åœ¨äº†kubernetes.groovyæ–‡ä»¶ä¸­ï¼Œä¾¿äºåé¢å¼•ç”¨ã€‚åœ¨æ­¤ä½ åªéœ€è¦çŸ¥é“å…±äº«åº“çš„ç»“æ„ ï¼Œå…·ä½“è¯¥å¦‚ä½•åˆ›å»ºå…±äº«åº“åé¢ä¼šè®²è¿°ğŸ˜€\nâ”€â”€ docs â”‚Â â””â”€â”€ README.mdREADME.md â”œâ”€â”€ src â”‚Â â””â”€â”€ org â”‚Â â””â”€â”€ devops â”‚Â â””â”€â”€ tools.groovy â””â”€â”€ vars  srcç›®å½•ä¸»è¦å­˜æ”¾æˆ‘ä»¬è¦ç¼–å†™çš„groovyç±»ï¼Œæ‰§è¡Œæµæ°´çº¿æ—¶ï¼Œæ­¤ç›®å½•å°†æ·»åŠ åˆ°class_pathä¸­ã€‚ varsç›®å½•ä¸»è¦å­˜æ”¾è„šæœ¬æ–‡ä»¶ï¼Œè¿™äº›è„šæœ¬æ–‡ä»¶åœ¨æµæ°´çº¿ä¸­ä½œä¸ºå˜é‡å…¬å¼€ã€‚ resourcesç›®å½•å…è®¸ä»å¤–éƒ¨åº“ä¸­ä½¿ç”¨æ­¥éª¤æ¥åŠ è½½ç›¸å…³è”çš„éGroovyæ–‡ä»¶ã€‚\nåˆ›å»ºå…±äº«åº“ æ–°å»ºæ–‡ä»¶src/org/devops/tools.groovy, åœ¨æ­¤æˆ‘å°†è¿™ä¸ªæ–‡ä»¶å®šä¹‰ä¸ºæ‰©å±•å·¥å…·ç±»ï¼Œä¸»è¦æ”¾ä¸€äº›æ‰©å±•æ–¹æ³•ã€‚\nä¾‹å¦‚ï¼šåœ¨æ„å»ºæ—¥å¿—ä¸­æŸ¥çœ‹æµæ°´çº¿è¯¦ç»†æ—¥å¿—ä¼šå¾ˆä¹±ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ—¥å¿—ä¸­å°†é‡ç‚¹æ­¥éª¤é€šè¿‡ä¸åŒçš„é¢œè‰²é«˜äº®æ˜¾ç¤ºï¼Œä¾¿äºæ’é”™ã€‚ æˆ‘ä»¬å¼€å§‹å†™è¿™æ ·çš„ä¸€ä¸ªæ–¹æ³•PrintMes(),åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œè¾“å‡ºå†…å®¹valueå’Œå†…å®¹çš„é¢œè‰²colorã€‚\næ³¨æ„ï¼š æˆ‘ä»¬éœ€è¦å®‰è£… æ’ä»¶AnsiColorï¼Œè¿™æ ·æ‰èƒ½ä½¿ç”¨ansiColor()æ–¹æ³•ï¼Œå¯ä»¥åœ¨ç‰‡æ®µç”Ÿæˆå™¨æŸ¥çœ‹æ›´å¤šçš„ç”¨æ³•ã€‚\n package org.devops //æ ¼å¼åŒ–è¾“å‡º def PrintMes(value,color){ colors = ['red' : \u0026quot;\\033[40;31m \u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;${value}\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; \\033[0m\u0026quot;, 'blue' : \u0026quot;\\033[47;34m ${value} \\033[0m\u0026quot;, 'green' : \u0026quot;\u001b[1;32m\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;${value}\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u001b[m\u0026quot;, 'green1' : \u0026quot;\\033[40;32m \u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;${value}\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; \\033[0m\u0026quot; ] ansiColor('xterm') { println(colors[color]) } }  ä½¿ç”¨å…±äº«åº“ æˆ‘ä»¬å¯¼èˆªåˆ° ç³»ç»Ÿé…ç½® -\u0026gt; Global Pipeline Libraries\né¦–å…ˆï¼Œæˆ‘ä»¬ä¸ºå…±äº«åº“è®¾ç½®ä¸€ä¸ªåç§°jenkinslibï¼Œæ³¨æ„è¿™ä¸ªåç§°åç»­åœ¨Jenkinsfileä¸­å¼•ç”¨ã€‚ å†è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œçš„ç‰ˆæœ¬æ˜¯åˆ†æ”¯çš„åç§°ã€‚æˆ‘é»˜è®¤é…ç½®çš„æ˜¯masterç‰ˆæœ¬ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬é…ç½®å…±äº«åº“çš„ä»“åº“åœ°å€ï¼Œæˆ‘çš„ä»“åº“åœ¨githubä¸­ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å¡«å†™çš„æ˜¯githubçš„æ–¹å¼ã€‚ï¼ˆå¦‚æœä½ ç”¨çš„æ˜¯gitlabå¯ä»¥ä½¿ç”¨gitlabæ–¹å¼æˆ–è€…gitæ–¹å¼ï¼‰ã€‚å¦‚æœä»“åº“æ˜¯ç§æœ‰çš„æ–¹å¼ï¼Œéœ€è¦åœ¨jenkinsçš„å‡­æ®ä¸­æ·»åŠ ä¸€ä¸ªè´¦å·ç”¨äºä¸‹è½½å…±äº«åº“ã€‚ å¥½ï¼Œåˆ°æ­¤å…±äº«åº“åœ¨Jenkinsçš„é…ç½®å°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æµ‹è¯•åœ¨Jenkinsfileä¸­å¼•ç”¨ã€‚\nåœ¨Jenkinsfileä¸­ä½¿ç”¨@Library('jenkinslib') _æ¥åŠ è½½å…±äº«åº“ï¼Œæ³¨æ„åé¢ç¬¦å·_ç”¨äºåŠ è½½ã€‚ ç±»çš„å®ä¾‹åŒ–def tools = new org.devops.tools(),ä½¿ç”¨ç±»ä¸­çš„æ–¹æ³•tools.PrintMes(\u0026quot;è·å–ä»£ç \u0026quot;,'green')ã€‚\n#!groovy @Library('jenkinslib') _ def tools = new org.devops.tools() pipeline { agent { node { label \u0026quot;master\u0026quot; }} stages { //ä¸‹è½½ä»£ç  stage(\u0026quot;GetCode\u0026quot;){ steps{ timeout(time:5, unit:\u0026quot;MINUTES\u0026quot;){ script{ tools.PrintMes(\u0026quot;è·å–ä»£ç \u0026quot;,'green') } } } } } }  æ¥ä¸‹æ¥åœ¨ä½ çš„Jenkinsä¸Šé¢è¿è¡Œä¸€ä¸‹å§ï¼Œæµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½å¤Ÿçœ‹åˆ°å¸¦æœ‰ç»¿è‰²çš„æ–‡å­—å‘¢ï¼Ÿ\n"
},
{
	"uri": "/basics/credential/",
	"title": "Jenkinså‡­æ®ç®¡ç†",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶å¦‚ä½•ç®¡ç†Jenkinsçš„å‡­æ® ğŸ˜€ æ¯ä¸ªå‡­æ®ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„IDï¼Œè¿™ä¸ªIDå¾ˆé‡è¦ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¹Ÿå¯ä»¥éšæœºç”Ÿæˆã€‚ï¼ˆåç»­æµæ°´çº¿ä¸­å¼•ç”¨éƒ½æ˜¯é€šè¿‡IDå¼•ç”¨çš„ï¼‰\n ç›®å½•  æ–°å»ºå‡­æ® åˆ é™¤å‡­æ® æ›´æ–°å‡­æ® ç§»åŠ¨å‡­æ® ä½¿ç”¨å‡­æ®  Jenkinsçš„å‡­æ®æœ‰å¾ˆå¤šç§ç±»å‹ï¼Œå¯ä»¥å°†ä¸€äº›æ•æ„Ÿä¿¡æ¯å­˜å‚¨ä¸ºå‡­æ®ï¼Œç„¶ååœ¨é¡¹ç›®ä¸­å¼•ç”¨ã€‚ å‡­æ®-\u0026gt; ç³»ç»Ÿ-\u0026gt; å…¨å±€å‡­æ®  Username with passwordç±»å‹å­˜å‚¨Harboræˆ–è€…å…¶ä»–ç³»ç»Ÿçš„ç”¨æˆ·åå’Œå¯†ç ã€‚ GitLab API tokenç±»å‹å­˜å‚¨Gitlabçš„ç”¨æˆ·API tokenã€‚ Secret textç±»å‹å¯ä»¥ç”¨æ¥å­˜å‚¨OpenShiftç­‰ç³»ç»Ÿä¸­çš„tokenã€‚ Certificateç±»å‹å¯ä»¥ç”¨æˆ·å­˜å‚¨è¯ä¹¦ï¼Œä¾‹å¦‚k8sçš„ç”¨æˆ·è¯ä¹¦ã€‚  æ–°å»ºå‡­æ® é€‰æ‹©éœ€è¦åˆ›å»ºçš„å‡­æ®çš„ç±»å‹ï¼Œç„¶åè¾“å…¥è´¦å·å’Œå¯†ç ç­‰ä¿¡æ¯ã€‚ä¿å­˜å³å¯ã€‚\nåˆ é™¤å‡­æ® å½“ä¸€äº›å‡­æ®å·²ç»ä¸éœ€è¦çš„æ—¶å€™ï¼Œå¯ä»¥è¿›è¡Œåˆ é™¤ã€‚ æ›´æ–°å‡­æ® å½“ç”¨æˆ·åæˆ–è€…å¯†ç æ›´æ”¹åï¼Œå¯ä»¥é€‰æ‹©å‡­æ®è¿›è¡Œä¿®æ”¹ã€‚ ç§»åŠ¨å‡­æ® ç›®å‰ç§»åŠ¨å‡­æ®å¾ˆå°‘ç”¨ï¼Œå½“å­˜åœ¨å¤šä¸ªé˜ˆçš„æ—¶å€™å¯ä»¥ä½¿ç”¨ã€‚\nä½¿ç”¨å‡­æ® æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­å¢åŠ ä¸€ä¸ªå‡­æ®å‚æ•°ï¼Œç”¨ä¸é¡¹ç›®æ„å»ºä¸­ä½¿ç”¨ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨pipelineç±»å‹çš„é¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‰‡æ®µç”Ÿæˆå™¨ç”Ÿæˆæµæ°´çº¿è¯­æ³•\n é€‰æ‹©è¦ä½¿ç”¨çš„å‡­æ®çš„ç±»å‹  è¾“å…¥è¯¥å‡­æ®çš„è´¦å·çš„å¯†ç çš„å˜é‡åç§°ï¼ˆåç»­ç›´æ¥åœ¨æµæ°´çº¿ä¸­ä½¿ç”¨æ­¤å˜é‡è¿›è¡Œå¼•ç”¨ï¼‰  æµæ°´çº¿ä»£ç \nwithCredentials([usernamePassword(credentialsId: '24982560-17fc-4589-819b-bc5bea89da77', passwordVariable: 'password', usernameVariable: 'username')]) { // some block sh \u0026quot;curl -u ${username}:${password} xxxxxxxxx\u0026quot; }   "
},
{
	"uri": "/pipelineextension/",
	"title": "æµæ°´çº¿æ‰©å±•ç¯‡[å¾…æ›´æ–°]",
	"tags": [],
	"description": "",
	"content": " Chapter 5 æµæ°´çº¿æ‰©å±•ç¯‡ "
},
{
	"uri": "/cont/icons/",
	"title": "Icons and logos",
	"tags": [],
	"description": "",
	"content": " The Learn theme for Hugo loads the Font Awesome library, allowing you to easily display any icon or logo available in the Font Awesome free collection.\nFinding an icon Browse through the available icons in the Font Awesome Gallery. Notice that the free filter is enabled, as only the free icons are available by default.\nOnce on the Font Awesome page for a specific icon, for example the page for the heart, copy the HTML reference and paste into the markdown content.\nThe HTML to include the heart icon is:\n\u0026lt;i class=\u0026quot;fas fa-heart\u0026quot;\u0026gt;\u0026lt;/i\u0026gt;  Including in markdown Paste the \u0026lt;i\u0026gt; HTML into markup and Font Awesome will load the relevant icon.\nBuilt with \u0026lt;i class=\u0026quot;fas fa-heart\u0026quot;\u0026gt;\u0026lt;/i\u0026gt; from Grav and Hugo  Which appears as\nBuilt with  from Grav and Hugo\nCustomising icons Font Awesome provides many ways to modify the icon\n Change colour (by default the icon will inherit the parent colour) Increase or decrease size Rotate Combine with other icons  Check the full documentation on web fonts with CSS for more.\n"
},
{
	"uri": "/cont/i18n/",
	"title": "Multilingual and i18n",
	"tags": [],
	"description": "",
	"content": " Learn theme is fully compatible with Hugo multilingual mode.\nIt provides:\n Translation strings for default values (English and French). Feel free to contribute ! Automatic menu generation from multilingual content In-browser language switching  Basic configuration After learning how Hugo handle multilingual websites, define your languages in your config.toml file.\nFor example with current French and English website.\n# English is the default language defaultContentLanguage = \u0026quot;en\u0026quot; # Force to have /en/my-page and /fr/my-page routes, even for default language. defaultContentLanguageInSubdir= true [Languages] [Languages.en] title = \u0026quot;Documentation for Hugo Learn Theme\u0026quot; weight = 1 languageName = \u0026quot;English\u0026quot; [Languages.fr] title = \u0026quot;Documentation du thÃ¨me Hugo Learn\u0026quot; weight = 2 languageName = \u0026quot;FranÃ§ais\u0026quot;  Then, for each new page, append the id of the language to the file.\n Single file my-page.md is split in two files:  in English: my-page.en.md in French: my-page.fr.md  Single file _index.md is split in two files:  in English: _index.en.md in French: _index.fr.md   Be aware that only translated pages are displayed in menu. It\u0026rsquo;s not replaced with default language content.\n Use slug Front Matter parameter to translate urls too.\n Overwrite translation strings Translations strings are used for common default values used in the theme (Edit this page button, Search placeholder and so on). Translations are available in french and english but you may use another language or want to override default values.\nTo override these values, create a new file in your local i18n folder i18n/\u0026lt;idlanguage\u0026gt;.toml and inspire yourself from the theme themes/hugo-theme-learn/i18n/en.toml\nBy the way, as these translations could be used by other people, please take the time to propose a translation by making a PR to the theme !\nDisable language switching Switching the language in the browser is a great feature, but for some reasons you may want to disable it.\nJust set disableLanguageSwitchingButton=true in your config.toml\n[params] # When using mulitlingual website, disable the switch language button. disableLanguageSwitchingButton = true  "
},
{
	"uri": "/pipelineintegrated/chapter04/",
	"title": "3-4 è´¨é‡ç®¡ç†å¹³å°é›†æˆ",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« ä¸»è¦æˆ‘ä»¬ä¸»è¦å­¦ä¹ ä¸è´¨é‡ç®¡ç†å¹³å°Sonarqubeé›†æˆã€‚\n ç›®å½•  è®¤è¯†sonarqube sonarqubeé…ç½®ç®¡ç† é¡¹ç›®åˆ†æ è‡ªåŠ¨åŒ–åˆ†æ sonarqubeæ¥å£ é…ç½®å¤šåˆ†æ”¯  è®¤è¯†sonarqube æ¶æ„  ä¸€å°SonarQube Serverå¯åŠ¨3ä¸ªä¸»è¦è¿‡ç¨‹ï¼š\n WebæœåŠ¡å™¨ï¼Œä¾›å¼€å‘äººå‘˜ï¼Œç®¡ç†äººå‘˜æµè§ˆé«˜è´¨é‡çš„å¿«ç…§å¹¶é…ç½®SonarQubeå®ä¾‹ åŸºäºElasticsearchçš„Search Serverä»UIè¿›è¡Œåé€€æœç´¢ Compute EngineæœåŠ¡å™¨ï¼Œè´Ÿè´£å¤„ç†ä»£ç åˆ†ææŠ¥å‘Šå¹¶å°†å…¶ä¿å­˜åœ¨SonarQubeæ•°æ®åº“ä¸­  ä¸€ä¸ªSonarQubeæ•°æ®åº“è¦å­˜å‚¨ï¼š\n SonarQubeå®ä¾‹çš„é…ç½®ï¼ˆå®‰å…¨æ€§ï¼Œæ’ä»¶è®¾ç½®ç­‰ï¼‰ é¡¹ç›®ï¼Œè§†å›¾ç­‰çš„è´¨é‡å¿«ç…§ã€‚  æœåŠ¡å™¨ä¸Šå®‰è£…äº†å¤šä¸ªSonarQubeæ’ä»¶ï¼Œå¯èƒ½åŒ…æ‹¬è¯­è¨€ï¼ŒSCMï¼Œé›†æˆï¼Œèº«ä»½éªŒè¯å’Œç®¡ç†æ’ä»¶\n åœ¨æ„å»º/æŒç»­é›†æˆæœåŠ¡å™¨ä¸Šè¿è¡Œä¸€ä¸ªæˆ–å¤šä¸ªSonarScannerï¼Œä»¥åˆ†æé¡¹ç›®\n  å·¥ä½œåŸç† å¼€å‘äººå‘˜åœ¨IDEå¼€å‘ä»£ç ï¼Œå¯ä»¥å®‰è£…SonarLintæ’ä»¶è¿›è¡Œæäº¤å‰ä»£ç æ‰«æ å½“å¼€å‘äººå‘˜æäº¤ä»£ç åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ï¼Œè‡ªåŠ¨è§¦å‘jenkinsè¿›è¡Œä»£ç æ‰«æ\nç‰ˆæœ¬ å¼€æºç¤¾åŒºç‰ˆã€å¼€å‘ç‰ˆã€ä¼ä¸šç‰ˆã€æ•°æ®ä¸­å¿ƒç‰ˆ å®‰è£… æˆ‘ä»¬è¿™é‡Œä½¿ç”¨Dockerè¿è¡Œä¸€ä¸ªæµ‹è¯•çš„ç¯å¢ƒï¼Œå¯ä»¥å‚è€ƒåšå®¢å®‰è£… åšæ–‡åœ°å€ï¼š https://www.cnblogs.com/mascot1/p/11179767.html\ndocker run --rm -d --name sonarqube \\ -p 9000:9000 \\ -v ${LOCALDIR}/sonar/sonarqube_conf:/opt/sonarqube/conf \\ -v ${LOCALDIR}/sonar/sonarqube_extensions:/opt/sonarqube/extensions \\ -v ${LOCALDIR}/sonar/sonarqube_logs:/opt/sonarqube/logs \\ -v ${LOCALDIR}/sonar/sonarqube_data:/opt/sonarqube/data \\ sonarqube:7.9.2-community  WEB é¡µé¢ http://127.0.0.1:9000\nsonarqubeé…ç½®ç®¡ç† å¼ºåˆ¶ç™»å½• é»˜è®¤æ‰€æœ‰é¡¹ç›®éƒ½å¯ä»¥å…¬å¼€çš„æŸ¥çœ‹ï¼Œåœ¨ä¼ä¸šå†…è‚¯å®šè¦é…ç½®æˆç§æœ‰çš„ã€‚åªæœ‰ç™»å½•åæ‰èƒ½æŸ¥çœ‹ã€‚ ldapé›†æˆ å®‰è£…LDAPæ’ä»¶ ä¸ç”¨æ‰¾äº†å“¦ï¼Œé¡µé¢ä¸Šæ²¡æœ‰LDAPé…ç½®ã€‚éœ€è¦ä¿®æ”¹sonaré…ç½®æ–‡ä»¶ï¼Œç„¶åé‡å¯æœåŠ¡å™¨ã€‚\n#LDAP settings #admin sonar.security.realm=LDAP ldap.url=ldap://192.168.1.200:389 ldap.bindDn=cn=admin,dc=devops,dc=com ldap.bindPassword=ldap12344 #users ldap.user.baseDn=ou=jenkins,dc=devops,dc=com ldap.user.request=(\u0026amp;(objectClass=inetOrgPerson)(cn={login})) ldap.user.realNameAttribute=cn ldap.user.emailAttribute=mail  gitlabè®¤è¯é›†æˆ å®‰è£…GitlabAuthæ’ä»¶ åœ¨gitlabä¸­åˆ›å»ºä¸€ä¸ªåº”ç”¨ ç³»ç»Ÿè®¾ç½® åº”ç”¨ç®¡ç†ï¼Œå¡«å†™http://sonarserver:9000/oauth2/callback/gitlab\næ¥ä¸‹æ¥åœ¨sonarqubeä¸­é…ç½®gitlabä¿¡æ¯ã€‚è¿™ä¸ªçœŸçš„æœ‰å›¾å½¢é¡µé¢ï¼Œå¯ä»¥ç›´æ¥é…ç½®ã€‚ä¸»è¦å¡«å†™gitlabçš„ä¿¡æ¯ã€‚\nç™»å½•æ—¶å‡ºç°æ­¤é€‰é¡¹è¡¨æ˜æˆåŠŸäº† githubè®¤è¯é›†æˆ å®‰è£…GithubAuthæ’ä»¶ åœ¨githubä¸­åˆ›å»ºä¸€ä¸ªåº”ç”¨ ç³»ç»Ÿè®¾ç½® åº”ç”¨ç®¡ç†ï¼Œå¡«å†™http://sonarserver:9000/oauth2/callback\næ¥ä¸‹æ¥åœ¨sonarqubeä¸­é…ç½® æœ€ç»ˆæ•ˆæœ é¡¹ç›®åˆ†æ å®‰è£…é…ç½®sonarscanner ä¸‹è½½åœ°å€ï¼šhttps://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner tar zxf sonar-scanner-xxxx.tar.gz -C /usr/local vim /etc/profile export SCANNER_HOME=/usr/local/sonar-scannerxxx export PATH=$PATH:$SCANNER_HOME/bin source /etc/profile  æœ¬åœ°åˆ†æé¡¹ç›® sonar.projectKey æŒ‡å®šé¡¹ç›®çš„å…³é”®å­—ï¼Œsonar.host.urlæŒ‡å®šæœåŠ¡å™¨åœ°å€ï¼ˆå¯ä»¥ç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­å†™æ­»ï¼‰,projectNameæŒ‡å®šé¡¹ç›®çš„åç§°, projectVersionæŒ‡å®šé¡¹ç›®çš„ç‰ˆæœ¬(å¯ä»¥ç”¨æ„å»ºæ—¶é—´å’Œæ„å»ºIDå®šä¹‰),loginæŒ‡å®šç™»å½•ç”¨æˆ·å,passwordæŒ‡å®šç™»å½•ç”¨æˆ·å¯†ç , projectDescriptionæŒ‡å®šé¡¹ç›®çš„æè¿°ä¿¡æ¯, links.homepageæŒ‡å®šé¡¹ç›®çš„ä¸»é¡µï¼ˆè¶…é“¾æ¥ï¼‰, sourcesæŒ‡å®šæ‰«æçš„ç›®å½•, sourceEncodingæŒ‡å®šæ‰«ææ—¶çš„ç¼–ç , java.binariesæŒ‡å®šç¼–è¯‘åçš„ç±»æ–‡ä»¶ç›®å½•(å¿…å¡«), java.test.binariesæŒ‡å®šç¼–è¯‘åçš„æµ‹è¯•ç±»ç›®å½•,java.surefire.reportæŒ‡å®šæµ‹è¯•æŠ¥å‘Šç›®å½•ã€‚\nsonar-scanner -Dsonar.host.url=http://192.168.1.200:9000 \\ -Dsonar.projectKey=demo-maven-service \\ -Dsonar.projectName=demo-maven-service \\ -Dsonar.projectVersion=1.0 \\ -Dsonar.login=admin \\ -Dsonar.password=admin \\ -Dsonar.ws.timeout=30 \\ -Dsonar.projectDescription=\u0026quot;my first project!\u0026quot; \\ -Dsonar.links.homepage=http://www.baidu.com \\ -Dsonar.sources=src \\ -Dsonar.sourceEncoding=UTF-8 \\ -Dsonar.java.binaries=target/classes \\ -Dsonar.java.test.binaries=target/test-classes \\ -Dsonar.java.surefire.report=target/surefire-reports  è‡ªåŠ¨åŒ–åˆ†æ åœ¨jenkinsä¸­å®‰è£…æ’ä»¶sonarqube scanner é…ç½®SonarQubeæœåŠ¡å™¨ï¼šç™»å½•Jenkinsï¼Œç„¶åè½¬åˆ°â€œÂ ç®¡ç†Jenkinsâ€\u0026gt;â€œé…ç½®ç³»ç»Ÿâ€ã€‚ å‘ä¸‹æ»šåŠ¨åˆ°SonarQubeé…ç½®éƒ¨åˆ†ï¼Œå•å‡»Add SonarQubeï¼Œç„¶åæ·»åŠ æç¤ºæ‚¨çš„å€¼ã€‚ æœåŠ¡å™¨èº«ä»½éªŒè¯ä»¤ç‰Œåº”åˆ›å»ºä¸ºâ€œæœºå¯†æ–‡æœ¬â€å‡­æ®ã€‚\né¦–å…ˆæˆ‘ä»¬åœ¨å…±äº«åº“ä¸­å®šä¹‰ä¸€ä¸ªsonarqube.groovyï¼Œç”¨ä¸æ‰«æã€‚æ–°å»ºæ–‡ä»¶src/org/devops/sonarqube.groovy åœ¨è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæœåŠ¡å™¨åˆ—è¡¨,ç”¨äºé€‰æ‹©æœ¬æ¬¡æ‰«æä½¿ç”¨çš„æœåŠ¡å™¨ï¼ˆå­˜åœ¨å¤šä¸ªsonarçš„æ—¶å€™å¾ˆæœ‰ç”¨å¤„ï¼‰ ä½¿ç”¨withSonarQubeEnvä½¿ç”¨åœ¨Jenkinsä¸­é…ç½®sonarç¯å¢ƒã€‚è¿™ä¸ªæ–¹æ³•æœ‰5ä¸ªå‚æ•°æœåŠ¡å™¨ç±»å‹ã€é¡¹ç›®åç§°ã€é¡¹ç›®æè¿°ã€é¡¹ç›®æ‰«æè·¯å¾„ã€åˆ†æ”¯åç§°ã€‚\npackage org.devops //scan def SonarScan(sonarServer,projectName,projectDesc,projectPath,branchName){ //å®šä¹‰sonaræœåŠ¡å™¨åˆ—è¡¨ def servers = [\u0026quot;test\u0026quot;:\u0026quot;sonarqube-test\u0026quot;,\u0026quot;prod\u0026quot;:\u0026quot;sonarqube-prod\u0026quot;] //ä½¿ç”¨sonaræœåŠ¡å™¨ withSonarQubeEnv(\u0026quot;${servers[sonarServer]}\u0026quot;){ def scannerHome = \u0026quot;/home/jenkins/buildtools/sonar-scanner-3.2.0.1227-linux/\u0026quot; def sonarDate = sh returnStdout: true, script: 'date +%Y%m%d%H%M%S' sonarDate = sonarDate - \u0026quot;\\n\u0026quot; sh \u0026quot;\u0026quot;\u0026quot; ${scannerHome}/bin/sonar-scanner -Dsonar.projectKey=${projectName} \\ -Dsonar.projectName=${projectName} -Dsonar.projectVersion=${sonarDate} -Dsonar.ws.timeout=30 \\ -Dsonar.projectDescription=${projectDesc} -Dsonar.links.homepage=http://www.baidu.com \\ -Dsonar.sources=${projectPath} -Dsonar.sourceEncoding=UTF-8 -Dsonar.java.binaries=target/classes \\ -Dsonar.java.test.binaries=target/test-classes -Dsonar.java.surefire.report=target/surefire-reports -Dsonar.branch.name=${branchName} -X \u0026quot;\u0026quot;\u0026quot; } }  åœ¨Jenkinsfileä¸­å¼•ç”¨: æˆ‘ä»¬é¦–å…ˆåŠ è½½jenkinslibraryå…±äº«åº“ï¼Œå¼•ç”¨sonarqube.groovyã€‚\n@Library('jenkinslibrary@master') _ //func from shareibrary def sonar = new org.devops.sonarqube() pipeline { agent any stages { stage(\u0026quot;codescan\u0026quot;){ steps{ script{ sonar.SonarScan(\u0026quot;test\u0026quot;,\u0026quot;${JOB_NAME}\u0026quot;,\u0026quot;${JOB_NAME}\u0026quot;,\u0026quot;src\u0026quot;) } } } } }  æ•ˆæœï¼šæ­¤æ—¶æµæ°´çº¿è¿è¡Œå®Œæˆåï¼Œåœ¨é¡¹ç›®ä¸­å¯ä»¥çœ‹åˆ°Sonarqubeçš„é“¾æ¥ã€‚ç‚¹å‡»å³å¯è¿›å…¥sonarqube é¡¹ç›®çš„æ‰«æç»“æœ sonarqubeæ¥å£ æ ¹æ®sonarå®˜æ–¹çš„æ–‡æ¡£è·å–æ¥å£ä½¿ç”¨è¯¦æƒ…ã€‚\n//æŸ¥æ‰¾é¡¹ç›® api/projects/search?projects=${projectName}\u0026quot; //åˆ›å»ºé¡¹ç›® api/projects/create?name=${projectName}\u0026amp;project=${projectName}\u0026quot; //æ›´æ–°è¯­è¨€è§„åˆ™é›† api/qualityprofiles/add_project?language=${language}\u0026amp;qualityProfile=${qualityProfile}\u0026amp;project=${projectName}\u0026quot; //é¡¹ç›®æˆæƒ api/permissions/apply_template?projectKey=${projectKey}\u0026amp;templateName=${templateName}\u0026quot; //æ›´æ–°è´¨é‡é˜ˆ api/qualitygates/select?projectKey=${projectKey}\u0026amp;gateId=${gateId}\u0026quot;  å°è£…åˆ°å…±äº«åº“ä¸­sonarapi.groovy\npackage org.devops //å°è£…HTTP def HttpReq(reqType,reqUrl,reqBody){ def sonarServer = \u0026quot;http://192.168.1.200:30090/api\u0026quot; result = httpRequest authentication: 'sonar-admin-user', httpMode: reqType, contentType: \u0026quot;APPLICATION_JSON\u0026quot;, consoleLogResponseBody: true, ignoreSslErrors: true, requestBody: reqBody, url: \u0026quot;${sonarServer}/${reqUrl}\u0026quot; //quiet: true return result } //è·å–Sonarè´¨é‡é˜ˆçŠ¶æ€ def GetProjectStatus(projectName){ apiUrl = \u0026quot;project_branches/list?project=${projectName}\u0026quot; response = HttpReq(\u0026quot;GET\u0026quot;,apiUrl,'') response = readJSON text: \u0026quot;\u0026quot;\u0026quot;${response.content}\u0026quot;\u0026quot;\u0026quot; result = response[\u0026quot;branches\u0026quot;][0][\u0026quot;status\u0026quot;][\u0026quot;qualityGateStatus\u0026quot;] //println(response) return result } //æœç´¢Sonaré¡¹ç›® def SerarchProject(projectName){ apiUrl = \u0026quot;projects/search?projects=${projectName}\u0026quot; response = HttpReq(\u0026quot;GET\u0026quot;,apiUrl,'') response = readJSON text: \u0026quot;\u0026quot;\u0026quot;${response.content}\u0026quot;\u0026quot;\u0026quot; result = response[\u0026quot;paging\u0026quot;][\u0026quot;total\u0026quot;] if(result.toString() == \u0026quot;0\u0026quot;){ return \u0026quot;false\u0026quot; } else { return \u0026quot;true\u0026quot; } } //åˆ›å»ºSonaré¡¹ç›® def CreateProject(projectName){ apiUrl = \u0026quot;projects/create?name=${projectName}\u0026amp;project=${projectName}\u0026quot; response = HttpReq(\u0026quot;POST\u0026quot;,apiUrl,'') println(response) } //é…ç½®é¡¹ç›®è´¨é‡è§„åˆ™ def ConfigQualityProfiles(projectName,lang,qpname){ apiUrl = \u0026quot;qualityprofiles/add_project?language=${lang}\u0026amp;project=${projectName}\u0026amp;qualityProfile=${qpname}\u0026quot; response = HttpReq(\u0026quot;POST\u0026quot;,apiUrl,'') println(response) } //è·å–è´¨é‡é˜ˆID def GetQualtyGateId(gateName){ apiUrl= \u0026quot;qualitygates/show?name=${gateName}\u0026quot; response = HttpReq(\u0026quot;GET\u0026quot;,apiUrl,'') response = readJSON text: \u0026quot;\u0026quot;\u0026quot;${response.content}\u0026quot;\u0026quot;\u0026quot; result = response[\u0026quot;id\u0026quot;] return result } //é…ç½®é¡¹ç›®è´¨é‡é˜ˆ def ConfigQualityGates(projectName,gateName){ gateId = GetQualtyGateId(gateName) apiUrl = \u0026quot;qualitygates/select?gateId=${gateId}\u0026amp;projectKey=${projectName}\u0026quot; response = HttpReq(\u0026quot;POST\u0026quot;,apiUrl,'') println(response)println(response) }  åº”ç”¨å®è·µ:\nstage(\u0026quot;QA\u0026quot;){ steps { script{ //æœç´¢é¡¹ç›® result = sonarapi.SerarchProject(\u0026quot;${JOB_NAME}\u0026quot;) println(result) //åˆ¤æ–­é¡¹ç›®æ˜¯å¦å­˜åœ¨ if (result == \u0026quot;false\u0026quot;){ println(\u0026quot;${JOB_NAME}---é¡¹ç›®ä¸å­˜åœ¨,å‡†å¤‡åˆ›å»ºé¡¹ç›®---\u0026gt; ${JOB_NAME}ï¼\u0026quot;) sonarapi.CreateProject(\u0026quot;${JOB_NAME}\u0026quot;) } else { println(\u0026quot;${JOB_NAME}---é¡¹ç›®å·²å­˜åœ¨ï¼\u0026quot;) } //é…ç½®é¡¹ç›®è´¨é‡è§„åˆ™ qpName=\u0026quot;${JOB_NAME}\u0026quot;.split(\u0026quot;-\u0026quot;)[0] //Sonar%20way sonarapi.ConfigQualityProfiles(\u0026quot;${JOB_NAME}\u0026quot;,\u0026quot;java\u0026quot;,qpName) //é…ç½®è´¨é‡é˜ˆ sonarapi.ConfigQualityGates(\u0026quot;${JOB_NAME}\u0026quot;,qpName) //ä»£ç æ‰«æ sonar.SonarScan(\u0026quot;test\u0026quot;,\u0026quot;${JOB_NAME}\u0026quot;,\u0026quot;${JOB_NAME}\u0026quot;,\u0026quot;src\u0026quot;) sleep 30 //è·å–æ‰«æç»“æœ result = sonarapi.GetProjectStatus(\u0026quot;${JOB_NAME}\u0026quot;) println(result) if (result.toString() == \u0026quot;ERROR\u0026quot;){ error \u0026quot; ä»£ç è´¨é‡é˜ˆé”™è¯¯ï¼è¯·åŠæ—¶ä¿®å¤ï¼\u0026quot; } else { println(result) } } } }  é…ç½®å¤šåˆ†æ”¯ å°†æ’ä»¶æ”¾åˆ°ä¸¤ä¸ªç›®å½•ä¸­ï¼Œç„¶åé‡å¯sonar\næ‰«æå‚æ•°å¢åŠ  â€“Dsonar.branch.name= æ•ˆæœ "
},
{
	"uri": "/pipelinesyntax/chapter04/",
	"title": "GroovyåŸºç¡€è¯­æ³•",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬æ¨¡å—ä¸»è¦å­¦ä¹ GroovyåŸºç¡€è¯­æ³•ï¼ŒæŒæ¡åŸºç¡€è¯­æ³•ä¾¿äºåœ¨æµæ°´çº¿ä¸­æ•°æ®å¤„ç†ğŸ˜€\n ç›®å½•  ç®€ä»‹ å®‰è£… æ•°æ®ç±»å‹  å­—ç¬¦ä¸²string åˆ—è¡¨list æ˜ å°„map  æ¡ä»¶è¯­å¥  ifè¯­å¥ switchè¯­å¥  å¾ªç¯è¯­å¥  forå¾ªç¯è¯­å¥ whileå¾ªç¯è¯­å¥  å‡½æ•°  ç®€ä»‹ Groovyæ˜¯ä¸€ç§åŠŸèƒ½å¼ºå¤§ï¼Œå¯é€‰ç±»å‹å’ŒåŠ¨æ€Â è¯­è¨€ï¼Œæ”¯æŒJavaå¹³å°ã€‚æ—¨åœ¨æé«˜å¼€å‘äººå‘˜çš„ç”Ÿäº§åŠ›å¾—ç›Šäºç®€æ´ï¼Œç†Ÿæ‚‰ä¸”ç®€å•æ˜“å­¦çš„è¯­æ³•ã€‚å¯ä»¥ä¸ä»»ä½•Javaç¨‹åºé¡ºåˆ©é›†æˆï¼Œå¹¶ç«‹å³ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæä¾›å¼ºå¤§çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬è„šæœ¬ç¼–å†™åŠŸèƒ½ï¼Œç‰¹å®šé¢†åŸŸè¯­è¨€ç¼–å†™ï¼Œè¿è¡Œæ—¶å’Œç¼–è¯‘æ—¶å…ƒç¼–ç¨‹ä»¥åŠå‡½æ•°å¼ç¼–ç¨‹ã€‚\nå®‰è£…  ä¸‹è½½å®‰è£…åŒ…(å…ˆå®‰è£…JDK) è§£å‹å®‰è£…åŒ… è·å–å®‰è£…åŒ…binç›®å½• å†™å…¥/etc/profileæ–‡ä»¶\nexport GROOVY_HOME=xxx export PATH=$PATH:$GROOVY_HOME/bin source /etc/profile   æ•°æ®ç±»å‹ å­—ç¬¦ä¸²string å­—ç¬¦ä¸²è¡¨ç¤ºï¼š å•å¼•å·ã€åŒå¼•å·ã€ä¸‰å¼•å·\ncontains() æ˜¯å¦åŒ…å«ç‰¹å®šå†…å®¹ è¿”å›true false size() length() å­—ç¬¦ä¸²æ•°é‡å¤§å°é•¿åº¦ toString() è½¬æ¢æˆstringç±»å‹ indexOf() å…ƒç´ çš„ç´¢å¼• endsWith() æ˜¯å¦æŒ‡å®šå­—ç¬¦ç»“å°¾ minus() plus() å»æ‰ã€å¢åŠ å­—ç¬¦ä¸² reverse() åå‘æ’åº substring(1,2) å­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•å¼€å§‹çš„å­å­—ç¬¦ä¸² toUpperCase() toLowerCase() å­—ç¬¦ä¸²å¤§å°å†™è½¬æ¢ split() å­—ç¬¦ä¸²åˆ†å‰² é»˜è®¤ç©ºæ ¼åˆ†å‰² è¿”å›åˆ—è¡¨  åˆ—è¡¨list åˆ—è¡¨çš„è¡¨ç¤ºï¼š [] [1,2,3,4]\n+ - += -= å…ƒç´ å¢åŠ å‡å°‘ isEmpty() åˆ¤æ–­add() \u0026lt;\u0026lt; æ·»åŠ å…ƒç´  æ˜¯å¦ä¸ºç©º intersect([2,3]) disjoint([1]) å–äº¤é›†ã€åˆ¤æ–­æ˜¯å¦æœ‰äº¤é›† flatten() åˆå¹¶åµŒå¥—çš„åˆ—è¡¨ unique() å»é‡ reverse() sort() åè½¬ å‡åº count() å…ƒç´ ä¸ªæ•° join() å°†å…ƒç´ æŒ‰ç…§å‚æ•°é“¾æ¥ sum() min() max() æ±‚å’Œ æœ€å°å€¼ æœ€å¤§å€¼ contains() åŒ…å«ç‰¹å®šå…ƒç´  remove(2) removeAll() each{} éå†  æ˜ å°„map types = [\u0026ldquo;maven\u0026rdquo;:\u0026ldquo;mvn\u0026rdquo;]\nsize() mapå¤§å° [â€™keyâ€™] .key get() è·å–value isEmpty() æ˜¯å¦ä¸ºç©º containKey() æ˜¯å¦åŒ…å«key containValue() æ˜¯å¦åŒ…å«æŒ‡å®šçš„value keySet() ç”Ÿæˆkeyçš„åˆ—è¡¨ each{} éå†map remove(â€˜aâ€˜) åˆ é™¤å…ƒç´ ï¼ˆk-vï¼‰ ç»ƒä¹  groovy:000\u0026gt; [:] ===\u0026gt; [:] groovy:000\u0026gt; [1:2] ===\u0026gt; [1:2] groovy:000\u0026gt; [1:2][1] ===\u0026gt; 2 groovy:000\u0026gt; [1:2,3:4,5:6] ===\u0026gt; [1:2, 3:4, 5:6] groovy:000\u0026gt; [1:2,3:4,5:6].keySet() ===\u0026gt; [1, 3, 5] groovy:000\u0026gt; [1:2,3:4,5:6].values() ===\u0026gt; [2, 4, 6] groovy:000\u0026gt; [1:2,3:4,5:6] + [7:8] ===\u0026gt; [1:2, 3:4, 5:6, 7:8] groovy:000\u0026gt; [1:2,3:4,5:6] - [7:8] ===\u0026gt; [1:2, 3:4, 5:6]  æ¡ä»¶è¯­å¥ ifè¯­å¥ åœ¨Jenkinsfileä¸­å¯ç”¨äºæ¡ä»¶åˆ¤æ–­ã€‚\nif (è¡¨è¾¾å¼) { //xxxx } else if(è¡¨è¾¾å¼2) { //xxxxx } else { // } ç»ƒä¹  groovy:000\u0026gt; buildType = \u0026quot;maven\u0026quot; ===\u0026gt; maven groovy:000\u0026gt; if (buildType == \u0026quot;maven\u0026quot;){ groovy:001\u0026gt; println(\u0026quot;This is a maven project!\u0026quot;) groovy:002\u0026gt; } else if (buildType == \u0026quot;gradle\u0026quot;){ groovy:003\u0026gt; println(\u0026quot;This is a gradle project!\u0026quot;) groovy:004\u0026gt; } else { groovy:005\u0026gt; println(\u0026quot;Project Type Error!\u0026quot;) groovy:006\u0026gt; }  switchè¯­å¥ switch(\u0026quot;${buildType}\u0026quot;){ case â€maven\u0026quot;: //xxxx break; case â€ant\u0026quot;: //xxxx break; default: //xxxx } ç»ƒä¹  switch(\u0026quot;${buildType}\u0026quot;){ case 'maven': println(\u0026quot;This is a maven project !\u0026quot;) break; ;; case 'gradle': println(\u0026quot;This is a gradle projects!\u0026quot;) break; ;; default: println(\u0026quot;Project Type Error!\u0026quot;) ;; }  å¾ªç¯è¯­å¥ forå¾ªç¯è¯­å¥ test = [1,2,3] for ( i in test){ ///xxxxxx break; } //ä»£ç  langs = ['java','python','groovy'] for ( lang in langs ){ if (lang == \u0026quot;java\u0026quot;){ println(\u0026quot;lang error in java\u0026quot;) }else { println(\u0026quot;lang is ${lang}\u0026quot;) } }  whileå¾ªç¯è¯­å¥ while(true){ //xxxx }  å‡½æ•° åœ¨å…±äº«åº“ä¸­æ¯ä¸ªç±»ä¸­çš„æ–¹æ³•ã€‚\ndef PrintMes(info){ println(info) return info } response = PrintMes(\u0026quot;DevOps\u0026quot;) println(response)  "
},
{
	"uri": "/basics/projectandview/",
	"title": "Jenkinsé¡¹ç›®ä¸è§†å›¾ç®¡ç†",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶Jenkinsä¸­çš„é¡¹ç›®ç±»å‹ï¼Œé€šè¿‡è§†å›¾å¯¹é¡¹ç›®è¿›è¡Œç®¡ç† ğŸ˜€ åˆ›å»ºä¸€ä¸ªé¡¹ç›®å¾ˆç®€å•ï¼Œå¦‚ä½•ç®¡ç†å¤§è§„æ¨¡ä¸‹çš„é¡¹ç›®å‘¢ï¼Ÿ -å»ºç«‹åˆé€‚çš„å‘½åè§„èŒƒã€‚\n ç›®å½•  é¡¹ç›®ç®¡ç†\n æ–°å»ºé¡¹ç›® åˆ é™¤ç¦ç”¨é¡¹ç›® é¡¹ç›®åˆ†ç±»  è§†å›¾ç®¡ç†\n åˆ›å»ºè§†å›¾ åˆ é™¤è§†å›¾ æ›´æ–°è§†å›¾   é¡¹ç›®ç®¡ç† ç®¡ç†é¡¹ç›®çš„å‰ææ˜¯ï¼Œå…·æœ‰åˆç†çš„å‘½åè§„èŒƒã€‚ å‘½åè§„èŒƒ: ä¸šåŠ¡åç§°-åº”ç”¨åç§°-åº”ç”¨ç±»å‹_ç¯å¢ƒç±»å‹ï¼š cxy-wlck-ui_TEST, æœ‰å‘½åè§„èŒƒåä¼šæ›´åŠ æ–¹ä¾¿ç®¡ç†é¡¹ç›®ã€‚\næ–°å»ºé¡¹ç›® æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®çš„ç±»å‹æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚è‡ªç”±é£æ ¼çš„é¡¹ç›®ã€mavenç±»å‹é¡¹ç›®ç­‰ã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦ç”¨çš„æ˜¯æµæ°´çº¿pipelineç±»å‹çš„é¡¹ç›®ã€‚\nè®¾ç½®æ„å»ºå†å²ï¼šæ„å»ºå†å²è¦æœ‰åˆç†çš„ç­–ç•¥ï¼Œè¿‡å¤šå†å²æ•°æ®ä¼šå¯¼è‡´jenkinsç£ç›˜ç©ºé—´å¢å¤§ã€‚ä¾‹å¦‚ï¼šä¿ç•™30å¤©å†…çš„è¿‘20æ¬¡æ„å»ºè®°å½•ã€‚\né€‰æ‹©å‚æ•°åŒ–æ„å»ºï¼š å‚æ•°åŒ–æ„å»ºå°±æ˜¯å°†é¡¹ç›®çš„ä¿¡æ¯å˜æˆç¼–ç¨‹è¯­è¨€ä¸­çš„å˜é‡ï¼Œä¾¿äºåæœŸæµæ°´çº¿è¿è¡Œæ—¶å¼•ç”¨ã€‚\nè®¾ç½®Jenkinsfileï¼š Jenkinsfileå¦‚åŒdockerfileï¼Œåœ¨dockerä¸­ä½¿ç”¨dockerfileåˆ›å»ºå‡ºä¸€ä¸ªé•œåƒï¼Œåœ¨jenkinsä¸­ä½¿ç”¨jenkinsfileå®šä¹‰é¡¹ç›®æµæ°´çº¿çš„è¿è¡Œæ­¥éª¤å’Œè¿è¡Œç›¸å…³é…ç½®ã€‚Jenkinsfileå¯ä»¥ç›´æ¥å†™åœ¨é¡¹ç›®ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡scmç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè¿›è¡Œç®¡ç†ã€‚é€‰æ‹©åç§æ–¹å¼ä¾¿äºå›é€€ï¼Œæ›´åŠ å‹å¥½ã€‚\næ„å»ºé¡¹ç›®ï¼š å¾ˆç®€å•ï¼Œç›´æ¥ç‚¹å‡»æ„å»ºå°±å¥½äº†ã€‚å½“ç„¶è§¦å‘æ„å»ºçš„æ–¹å¼åå¾ˆå¤šï¼Œè§åç»­æ‰©å±•å†…å®¹ã€‚ æŸ¥çœ‹æ„å»ºæ—¥å¿—ï¼š æ„å»ºæ—¥å¿—æ˜¯ä¸€æ¡æµæ°´çº¿é¡¹ç›®çš„è¿è¡Œæ­¥éª¤ä¿¡æ¯ï¼Œä¾‹å¦‚æ„å»ºçš„é”™è¯¯ä¿¡æ¯ç­‰ã€‚ä¾¿äºæ’é”™ã€‚ è°ƒè¯•Pipelineï¼šå½“æµæ°´çº¿å‡ºé—®é¢˜çš„æ—¶å€™ï¼Œå¯ä»¥ä¸ç›´æ¥ä¿®æ”¹æºæ–‡ä»¶ï¼Œè€Œæ˜¯é€šè¿‡æµæ°´çº¿çš„å›æ”¾åŠŸèƒ½è¿›è¡Œç¼–è¾‘è°ƒè¯•è¿è¡Œã€‚å¾ˆæœ‰ç”¨çš„åŠŸèƒ½ï¼Œä¾¿äºè°ƒè¯•ã€‚ åˆ é™¤ç¦ç”¨é¡¹ç›® å½“é¡¹ç›®ä¸éœ€è¦çš„æ—¶å€™å¯ä»¥è¿›è¡Œå…ˆç¦ç”¨å†åˆ é™¤ã€‚ é¡¹ç›®åˆ†ç±» å½“é¡¹ç›®å¾ˆå¤šæ—¶å€™å¯ä»¥æŒ‰ç…§é¡¹ç›®æˆ–è€…ä¸šåŠ¡å»ºç«‹æ–‡ä»¶å¤¹ï¼Œå°†åŒä¸šåŠ¡çš„é¡¹ç›®ç§»åŠ¨åˆ°æ–‡ä»¶å¤¹ä¸­ã€‚ ç§»åŠ¨é¡¹ç›® è§†å›¾ç®¡ç† é»˜è®¤Jenkinsä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªallè§†å›¾ï¼Œé‡Œé¢å­˜æ”¾æ‰€æœ‰çš„é¡¹ç›®ã€‚\nåˆ›å»ºè§†å›¾ ç‚¹å‡»åŠ å·æ–°å»ºè§†å›¾ å¡«å†™è§†å›¾çš„åç§°ï¼Œé€‰æ‹©åˆ—è¡¨è§†å›¾ é€‰æ‹©è§†å›¾åŒ…å«çš„é¡¹ç›®ã€‚è¿™é‡Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ‰‹åŠ¨é€‰æ‹©ã€‚ åˆ›å»ºå®Œæˆ åˆ é™¤è§†å›¾ æ›´æ–°è§†å›¾ "
},
{
	"uri": "/pipelineintegrated/chapter05/",
	"title": "3-5 åˆ¶å“ä»“åº“é›†æˆ",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°Jenkinsä¸åˆ¶å“åº“nexusã€artiifactoryé›†æˆï¼Œä¸Šä¼ ä¸‹è½½åˆ¶å“ã€‚\n ç›®å½•  éƒ¨ç½² åŠŸèƒ½ åŸºæœ¬æ¦‚å¿µ ä¸Šä¼ åˆ¶å“ é›†æˆjenkinsä¸Šä¼ åˆ¶å“ ä½¿ç”¨nexusæ’ä»¶ä¸Šä¼ åˆ¶å“ å‘å¸ƒåˆ¶å“ nexusæ¥å£ artifactoryé›†æˆ  æ„å»ºåˆ¶å“ ä¸Šä¼ åˆ¶å“   éƒ¨ç½² æµ‹è¯•ç¯å¢ƒä½¿ç”¨Dockerå®‰è£…éƒ¨ç½²\ndocker run -id \\ --privileged=true --name=nexus3 \\ -p 8081:8081 \\ -v ${LOCALDIR}/nexus3/nexus-data:/nexus-data \\ sonatype/nexus3:3.20.1  å®‰è£…å®Œæˆåé»˜è®¤çš„adminè´¦å·å¯†ç å­˜å‚¨åœ¨äº†æ•°æ®ç›®å½•ï¼Œè·å–åˆå§‹åŒ–å¯†ç åæ›´æ–°è´¦å·å¯†ç ã€‚ åŠŸèƒ½ ç§æœä»“åº“ï¼š æœ¬åœ°mavenç§æœåŠ å¿«æ„å»ºé€Ÿåº¦ ä»£ç†ä»“åº“ï¼šå°†å…¬ç½‘ç­‰ç¬¬ä¸‰æ–¹æä¾›çš„ä»“åº“ä»£ç†åˆ°æœ¬åœ°\nåŸºæœ¬æ¦‚å¿µ ç»„ä»¶æ˜¯ä¸€ç§èµ„æºï¼Œåœ¨æ„å»ºè¿‡ç¨‹ä¸­éœ€è¦ä¾èµ–ã€‚å®ƒå¯ä»¥æ˜¯æ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥æ˜¯é™æ€èµ„æºï¼ˆä¾‹å¦‚å›¾ç‰‡ï¼‰ã€‚ é€šå¸¸ï¼Œè¿™äº›ç»„ä»¶æ˜¯å„ç§æ–‡ä»¶çš„å­˜æ¡£ï¼ŒåŒ…æ‹¬ï¼šç±»æ–‡ä»¶ä¸­çš„Javaå­—èŠ‚ç ã€Cå¯¹è±¡æ–‡ä»¶ã€æ–‡æœ¬æ–‡ä»¶ã€äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ ç»„ä»¶çš„å¤šç§æ ¼å¼ï¼Œä¾‹å¦‚ï¼šJava JARï¼ŒWARï¼ŒEARæ ¼å¼ï¼›æ™®é€šZIPæˆ–.tar.gzæ–‡ä»¶ï¼›å…¶ä»–è½¯ä»¶åŒ…æ ¼å¼ï¼Œä¾‹å¦‚NuGetè½¯ä»¶åŒ…ï¼ŒRuby gemsï¼ŒNPMè½¯ä»¶åŒ…ï¼›å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ï¼Œä¾‹å¦‚.exeÂ æˆ–.shÂ æ–‡ä»¶ï¼ŒAndroid APKæ–‡ä»¶ï¼Œå„ç§å®‰è£…ç¨‹åºæ ¼å¼ã€‚ ç»„ä»¶å¯ä»¥ç”±å¤šä¸ªåµŒå¥—ç»„ä»¶æœ¬èº«ç»„æˆã€‚ç»„ä»¶æä¾›äº†æ‰€æœ‰æ„å»ºå—å’ŒåŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡ç»„è£…å¹¶æ·»åŠ è‡ªå·±çš„ä¸šåŠ¡ç›¸å…³ç»„ä»¶æ¥åˆ›å»ºåŠŸèƒ½å¼ºå¤§çš„å®Œæ•´åº”ç”¨ç¨‹åºã€‚åœ¨ä¸åŒçš„å·¥å…·é“¾ä¸­ï¼Œç»„ä»¶ç§°ä¸ºå·¥ä»¶ï¼Œç¨‹åºåŒ…ï¼Œæ†ç»‘åŒ…ï¼Œå½’æ¡£å’Œå…¶ä»–æœ¯è¯­ã€‚æ¦‚å¿µå’Œæƒ³æ³•ä¿æŒä¸å˜ï¼Œç»„ä»¶ç”¨ä½œé€šç”¨æœ¯è¯­ã€‚ç»„ä»¶ç”±ä¸€ç»„ç‰¹å®šå€¼ï¼ˆåæ ‡ï¼‰æ ‡è¯†ã€‚è¿™äº›åæ ‡çš„é€šç”¨é›†æ˜¯ç»„ï¼Œåç§°å’Œç‰ˆæœ¬çš„ç”¨æ³•ã€‚è¿™äº›åæ ‡çš„åç§°å’Œç”¨æ³•éšæ‰€ä½¿ç”¨çš„å·¥å…·é“¾è€Œå˜åŒ–ã€‚ç»„ä»¶ä¹Ÿå¯ä»¥æˆä¸ºå…¶ä»–å…ƒæ•°æ®çš„åŸºç¡€\nèµ„äº§ ï¼šä¾‹å¦‚Mavené¡¹ç›®ä¸­çš„pomæ–‡ä»¶ç®—æ˜¯èµ„äº§ä¸€éƒ¨åˆ†ï¼ŒåŒ…å«å…ƒæ•°æ®çš„é‡è¦è¡¥å……ã€‚ å®é™…çš„å­˜æ¡£æ–‡ä»¶ï¼ˆpom.xmlï¼‰æ˜¯ä¸ç»„ä»¶ï¼ˆ jar/waråŒ…ï¼‰å…³è”çš„èµ„äº§ã€‚ä½†æ˜¯ï¼Œæ›´å¤æ‚çš„æ ¼å¼å…·æœ‰ä¸ç»„ä»¶ï¼ˆjaråŒ…ï¼‰å…³è”çš„ä¼—å¤šèµ„äº§ï¼ˆpomï¼‰ã€‚ä¾‹å¦‚ï¼ŒMavenå­˜å‚¨åº“ä¸­çš„å…¸å‹JARç»„ä»¶è‡³å°‘ç”±POMå’ŒJARæ–‡ä»¶å®šä¹‰-ä¸¤è€…å‡æ„æˆå±äºåŒä¸€ç»„ä»¶çš„å•ç‹¬èµ„äº§ã€‚å…¶ä»–æ–‡ä»¶ï¼ˆä¾‹å¦‚JavaDocæˆ–Sources JARæ–‡ä»¶ï¼‰æ˜¯å±äºåŒä¸€ç»„ä»¶çš„èµ„äº§ã€‚ å¦ä¸€æ–¹é¢ï¼ŒDockeræ ¼å¼ä¸ºèµ„äº§æä¾›å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¹¶å°†å…¶ç§°ä¸ºDockerå±‚ã€‚è¿™äº›èµ„äº§å¯ç”¨äºä¸åŒçš„ç»„ä»¶-Dockeræ˜ åƒã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªDockerå±‚å¯ä»¥æ˜¯å¤šä¸ªDockeræ˜ åƒå¼•ç”¨çš„ç‰¹å®šæ“ä½œç³»ç»Ÿã€‚\nä¸Šä¼ åˆ¶å“ æˆ‘ä»¬éœ€è¦åœ¨nexusä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“maven-hostd,åŒæ—¶æˆ‘ä»¬éœ€è¦åœ¨mavençš„é…ç½®æ–‡ä»¶settings.xmlä¸­é…ç½®maven-hostdè®¤è¯ã€‚å¦‚ä¸‹ï¼š\n \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;maven-hostd\u0026lt;/id\u0026gt; \u0026lt;username\u0026gt;admin\u0026lt;/username\u0026gt; \u0026lt;password\u0026gt;admin123\u0026lt;/password\u0026gt; \u0026lt;/server\u0026gt;  æ³¨æ„ä½¿ç”¨mvn deploy å‘å¸ƒæ—¶ï¼Œserver.id == respository.idã€‚\né›†æˆjenkinsä¸Šä¼ åˆ¶å“ æ­¥éª¤ï¼šè·å–JaråŒ…åç§°ã€è¯»å–pomæ–‡ä»¶ã€è·å–åæ ‡ä¿¡æ¯ã€ä½¿ç”¨mvn deployä¸Šä¼ ã€‚\ndef jarName = sh returnStdout: true, script: \u0026quot;cd target;ls *.jar\u0026quot; jarName = jarName - \u0026quot;\\n\u0026quot; def pom = readMavenPom file: 'pom.xml' pomVersion = \u0026quot;${pom.version}\u0026quot; pomArtifact = \u0026quot;${pom.artifactId}\u0026quot; pomPackaging = \u0026quot;${pom.packaging}\u0026quot; pomGroupId = \u0026quot;${pom.groupId}\u0026quot; println(\u0026quot;${pomGroupId}-${pomArtifact}-${pomVersion}-${pomPackaging}\u0026quot;) def mvnHome = tool \u0026quot;M2\u0026quot; sh \u0026quot;\u0026quot;\u0026quot; cd target/ ${mvnHome}/bin/mvn deploy:deploy-file -Dmaven.test.skip=true \\ -Dfile=${jarName} -DgroupId=${pomGroupId} \\ -DartifactId=${pomArtifact} -Dversion=${pomVersion} \\ -Dpackaging=${pomPackaging} -DrepositoryId=maven-hostd \\ -Durl=http://192.168.1.200:30083/repository/maven-hostd \u0026quot;\u0026quot;\u0026quot;  ä½¿ç”¨nexusæ’ä»¶ä¸Šä¼ åˆ¶å“ å®‰è£…nexus artifact uploaderæ’ä»¶ã€ä½¿ç”¨ç‰‡æ®µç”Ÿæˆå™¨ç”ŸæˆDSLã€‚\nå¼€å§‹ç¼–å†™Jenkinsfile\n//use nexus plugin def repoName = \u0026quot;maven-hostd\u0026quot; def filePath = \u0026quot;target/${jarName}\u0026quot; nexusArtifactUploader artifacts: [[artifactId: \u0026quot;${pomArtifact}\u0026quot;, classifier: '', file: \u0026quot;${filePath}\u0026quot;, type: \u0026quot;${pomPackaging}\u0026quot;]], credentialsId: 'nexus-admin-user', groupId: \u0026quot;${pomGroupId}\u0026quot;, nexusUrl: '192.168.1.200:30083', nexusVersion: 'nexus3', protocol: 'http', repository: \u0026quot;${repoName}\u0026quot;, version: \u0026quot;${pomVersion}\u0026quot;  æŸ¥çœ‹ä¸Šä¼ çš„æ—¥å¿— æŸ¥çœ‹ä»“åº“åˆ¶å“ å‘å¸ƒåˆ¶å“ å®‰è£…Maven Artifact ChoiceListProvider (Nexus)æ’ä»¶\nç”¨æˆ·é€‰æ‹©åˆ¶å“ï¼Œåœ¨åº”ç”¨æœåŠ¡å™¨é€šè¿‡saltã€ansibleä¸‹è½½åˆ¶å“å¹¶éƒ¨ç½² nexusæ¥å£ package org.devops //å°è£…HTTP def HttpReq(reqType,reqUrl,reqBody){ def sonarServer = \u0026quot;http://192.168.1.200:30083/service/rest\u0026quot; result = httpRequest authentication: 'nexus-admin-user', httpMode: reqType, contentType: \u0026quot;APPLICATION_JSON\u0026quot;, consoleLogResponseBody: true, ignoreSslErrors: true, requestBody: reqBody, url: \u0026quot;${sonarServer}/${reqUrl}\u0026quot;, quiet: true return result } //è·å–ä»“åº“ä¸­æ‰€æœ‰ç»„ä»¶ def GetRepoComponents(repoName){ apiUrl = \u0026quot;/v1/components?repository=${repoName}\u0026quot; response = HttpReq(\u0026quot;GET\u0026quot;,apiUrl,'') response = readJSON text: \u0026quot;\u0026quot;\u0026quot;${response.content}\u0026quot;\u0026quot;\u0026quot; println(response[\u0026quot;items\u0026quot;].size()) return response[\u0026quot;items\u0026quot;] } //è·å–å•ä»¶ç»„ä»¶ def GetComponentsId(repoName,groupId,artifactId,version){ println(\u0026quot;è·å–å•ä»¶ç»„ä»¶ID\u0026quot;) result = GetRepoComponents(repoName) for (component in result){ if (component[\u0026quot;group\u0026quot;] == groupId \u0026amp;\u0026amp; component[\u0026quot;name\u0026quot;] == artifactId \u0026amp;\u0026amp; component[\u0026quot;version\u0026quot;] == version ){ componentId = component[\u0026quot;id\u0026quot;] return componentId } } println(componentId) } //è·å–ç»„ä»¶ä¿¡æ¯ def GetSingleComponents(repoName,groupId,artifactId,version){ println(\u0026quot;è·å–å•ä»¶ç»„ä»¶ä¿¡æ¯\u0026quot;) componentId = GetComponentsId(repoName,groupId,artifactId,version) apiUrl = \u0026quot;/v1/components/${componentId}\u0026quot; response = HttpReq(\u0026quot;GET\u0026quot;,apiUrl,'') response = readJSON text: \u0026quot;\u0026quot;\u0026quot;${response.content}\u0026quot;\u0026quot;\u0026quot; println(response[\u0026quot;assets\u0026quot;][\u0026quot;downloadUrl\u0026quot;]) }  artifactoryé›†æˆ å®‰è£…Artifactoryæ’ä»¶ï¼Œé…ç½®Artifactoryä»“åº“ä¿¡æ¯ï¼ˆä»“åº“åœ°å€ã€ç”¨æˆ·è®¤è¯ä¿¡æ¯ï¼‰ã€‚ æ„å»ºåˆ¶å“ package org.devops //Mavenæ‰“åŒ…æ„å»º def MavenBuild(buildShell){ def server = Artifactory.newServer url: \u0026quot;http://192.168.1.200:30082/artifactory\u0026quot; def rtMaven = Artifactory.newMavenBuild() def buildInfo server.connection.timeout = 300 server.credentialsId = 'artifactory-admin-user' //mavenæ‰“åŒ… rtMaven.tool = 'M2' buildInfo = Artifactory.newBuildInfo() String newBuildShell = \u0026quot;${buildShell}\u0026quot;.toString() println(newBuildShell) rtMaven.run pom: 'pom.xml', goals: newBuildShell, buildInfo: buildInfo //ä¸Šä¼ buildä¿¡æ¯ server.publishBuildInfo buildInfo } def main(buildType,buildShell){ if(buildType == \u0026quot;mvn\u0026quot;){ MavenBuild(buildShell) } }  æŸ¥çœ‹æ„å»ºæ•°æ®ï¼š å‘½åè§„èŒƒ\nä»“åº“å‘½åè§„èŒƒ ä¸šåŠ¡/é¡¹ç›®-ç¯å¢ƒç±»å‹ ä¾‹å¦‚ï¼š demo-dev åˆ¶å“å‘½åè§„èŒƒ åº”ç”¨åç§°-ç‰ˆæœ¬å·-æ„å»ºID.type ä¾‹å¦‚ï¼š demo-myapp-service-1.jar åˆ¶å“ç›®å½•è§„èŒƒ ä¸šåŠ¡/é¡¹ç›® åº”ç”¨åç§° ç‰ˆæœ¬å· åˆ¶å“  ä¸Šä¼ åˆ¶å“ rtUpload ( serverId: \u0026quot;art1\u0026quot;, spec: \u0026quot;\u0026quot;\u0026quot;{ \u0026quot;files\u0026quot;: [ { \u0026quot;pattern\u0026quot;: \u0026quot;target/${jarName}\u0026quot;, \u0026quot;target\u0026quot;: \u0026quot;${uploadDir}/\u0026quot; } ] }\u0026quot;\u0026quot;\u0026quot; )  "
},
{
	"uri": "/pipelinesyntax/chapter05/",
	"title": "æµæ°´çº¿å¼€å‘å·¥å…·",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬æ¨¡å—ä¸»è¦äº†è§£åœ¨æµæ°´çº¿ä¸­å¸¸ç”¨çš„æ–¹æ³•ğŸ˜€\n ç›®å½•  ç‰‡æ®µç”Ÿæˆå™¨ å£°æ˜å¼è¯­æ³•ç”Ÿæˆå™¨ å…¨å±€å˜é‡å‚è€ƒ  envå˜é‡ currentbuildå˜é‡  å¸¸ç”¨çš„æ–¹æ³•  ç‰‡æ®µç”Ÿæˆå™¨ ä½¿ç”¨ç‰‡æ®µç”Ÿæˆå™¨å¯ä»¥æ ¹æ®ä¸ªäººéœ€è¦ç”Ÿæˆæ–¹æ³•ï¼Œæœ‰äº›æ–¹æ³•æ¥æºäºæ’ä»¶ï¼Œåˆ™éœ€è¦å…ˆå®‰è£…ç›¸å…³çš„æ’ä»¶æ‰èƒ½ä½¿ç”¨å“¦ã€‚\nå¡«å†™å¥½å‚æ•°åï¼Œç‚¹å‡»ç”Ÿæˆï¼Œç„¶åå¤åˆ¶ç²˜è´´åˆ°Jenkinsfile å£°æ˜å¼è¯­æ³•ç”Ÿæˆå™¨ å…¨å±€å˜é‡å‚è€ƒ envå˜é‡ BUILD_NUMBER //æ„å»ºå· BUILD_ID //æ„å»ºå· BUILD_DISPLAY_NAME //æ„å»ºæ˜¾ç¤ºåç§° JOB_NAME //é¡¹ç›®åç§° EXECUTOR_NUMBER //æ‰§è¡Œå™¨æ•°é‡ NODE_NAME //æ„å»ºèŠ‚ç‚¹åç§° WORKSPACE //å·¥ä½œç›®å½• JENKINS_HOME //Jenkins home JENKINS_URL //Jenkinsåœ°å€ BUILD_URL //æ„å»ºåœ°å€ JOB_URL //é¡¹ç›®åœ°å€  currentbuildå˜é‡ result currentResult //æ„å»ºç»“æœ displayName //æ„å»ºåç§° #111 description //æ„å»ºæè¿° duration //æŒç»­æ—¶é—´  å¸¸ç”¨çš„æ–¹æ³• jsonæ•°æ®å¤„ç†\ndef response = readJSON text: \u0026quot;${scanResult}\u0026quot; println(scanResult) //åŸç”Ÿæ–¹æ³• import groovy.json.* @NonCPS def GetJson(text){ def prettyJson = JsonOutput.prettyPrint(text) new JsonSlurperClassic().parseText(prettyJson) }  ä½¿ç”¨å‡­æ®\nwithCredentials([string(credentialsId: \u0026quot;xxxxx\u0026quot;, variable: \u0026quot;sonarToken\u0026quot;)]) { println(sonarToken) }  ä¸‹è½½ä»£ç \n//Git checkout([$class: 'GitSCM', branches: [[name: \u0026quot;brnachName\u0026quot;]], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: \u0026quot;${credentialsId}\u0026quot;, url: \u0026quot;${srcUrl}\u0026quot;]]]) //Svn checkout([$class: 'SubversionSCM', additionalCredentials: [], filterChangelog: false, ignoreDirPropChanges: false, locations: [[credentialsId: \u0026quot;${credentialsId}\u0026quot;, depthOption: 'infinity', ignoreExternalsOption: true, remote: \u0026quot;${svnUrl}\u0026quot;]], workspaceUpdater: [$class: 'CheckoutUpdater']] )  å±•ç¤ºæŠ¥å‘Š\npublishHTML([allowMissing: false, alwaysLinkToLastBuild: false, keepAll: true, reportDir: './report/', reportFiles: \u0026quot;a.html, b.html\u0026quot;, reportName: 'InterfaceTestReport', reportTitles: 'HTML'])  äº¤äº’è¾“å…¥\ndef result = input message: 'é€‰æ‹©xxxxx', ok: 'æäº¤', parameters: [extendedChoice( description: 'xxxxx', descriptionPropertyValue: '', multiSelectDelimiter: ',', name: 'failePositiveCases', quoteValue: false, saveJSONParameterToFile: false, type: 'PT_CHECKBOX', value: \u0026quot;1,2,3\u0026quot;, visibleItemCount: 99)] println(result)  æ„å»ºç”¨æˆ·\nwrap([$class: 'BuildUser']){ echo \u0026quot;full name is $BUILD_USER\u0026quot; echo \u0026quot;user id is $BUILD_USER_ID\u0026quot; echo \u0026quot;user email is $BUILD_USER_EMAIL\u0026quot; }  åˆ¶å“ä¸Šä¼ \nrtUpload ( serverId: \u0026quot;artifactory01\u0026quot;, spec: \u0026quot;\u0026quot;\u0026quot;{ \u0026quot;files\u0026quot;: [ { \u0026quot;pattern\u0026quot;: \u0026quot;report/a.html\u0026quot;, \u0026quot;target\u0026quot;: \u0026quot;${repoName}/a/b/v\u0026quot; } ] }\u0026quot;\u0026quot;\u0026quot; )  å‘é€httpè¯·æ±‚\nApiUrl = \u0026quot;http://xxxxxx/api/project_branches/list?project=${projectName}\u0026quot; Result = httpRequest authentication: 'xxxxxxxxx', quiet: true, contentType: 'APPLICATION_JSON' , url: \u0026quot;${ApiUrl}\u0026quot;  "
},
{
	"uri": "/cont/tags/",
	"title": "Tags",
	"tags": ["documentation", "tutorial"],
	"description": "",
	"content": " Learn theme support one default taxonomy of gohugo: the tag feature.\nConfiguration Just add tags to any page:\n--- date: 2018-11-29T08:41:44+01:00 title: Theme tutorial weight: 15 tags: [\u0026quot;tutorial\u0026quot;, \u0026quot;theme\u0026quot;] ---  Behavior The tags are displayed at the top of the page, in their insertion order.\nEach tag is a link to a Taxonomy page displaying all the articles with the given tag.\nList all the tags In the config.toml file you can add a shortcut to display all the tags\n[[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-tags'\u0026gt;\u0026lt;/i\u0026gt; Tags\u0026quot; url = \u0026quot;/tags\u0026quot; weight = 30  "
},
{
	"uri": "/cont/tags.fr/",
	"title": "Tags",
	"tags": ["documentation", "tutorial"],
	"description": "",
	"content": " Le thÃ¨me Learn supporte une des taxonomy par dÃ©faut de GoHugo : les tags.\nConfiguration Il suffit d\u0026rsquo;ajouter un tableau de tags sur la page :\n--- date: 2018-11-29T08:41:44+01:00 title: Tutoriel pour le thÃ¨me weight: 15 tags: [\u0026quot;tutoriel\u0026quot;, \u0026quot;theme\u0026quot;] ---  Comportement Les tags sont affichÃ©s en haut de la page, dans l\u0026rsquo;ordre dans lequel ils ont Ã©tÃ© saisis.\nChaque tag est un lien vers une page Taxonomy, qui affiche tous les article avec ce tag.\nListe des tags Il est possible de rajouter un raccourci dans le fichier config.toml afin d\u0026rsquo;afficher une page listant tous les tags\n[[menu.shortcuts]] name = \u0026quot;\u0026lt;i class='fas fa-tags'\u0026gt;\u0026lt;/i\u0026gt; Tags\u0026quot; url = \u0026quot;/tags\u0026quot; weight = 30  "
},
{
	"uri": "/pipelineintegrated/chapter06/",
	"title": "3-6 éœ€æ±‚ç®¡ç†å¹³å°é›†æˆ",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°Jenkinsä¸éœ€æ±‚ç®¡ç†å¹³å°Jiraé›†æˆã€‚è¿™ç¯‡æ–‡ç« æ˜¯æˆ‘æ ¹æ®æˆ‘ä»¬å½“å‰å›¢é˜Ÿçš„æƒ…å†µè¿›è¡Œå®šåˆ¶çš„ï¼Œå¯èƒ½æœ‰äº›å†…å®¹ä¸å¤§å®¶ä¸å¤ªä¸€æ ·ã€‚é‡ç‚¹æ˜¯å‘Šè¯‰å¤§å®¶å¦‚ä½•å®ç°é›†æˆï¼Ÿå…³äºç»†èŠ‚é—®é¢˜å¯è‡ªç”±å®šåˆ¶ã€‚ åœ¨è¿™é‡Œè¦å‘Šè¯‰å¤§å®¶çš„æ˜¯æ€è·¯ã€‚\n ç›®å½•  å·¥å…·é“¾è°ƒç ”åˆ†æ å®è·µ æ€»ç»“  åœ¨è¿™é‡Œå…ˆè¯´ä¸€ä¸‹ï¼Œå½“å‰çš„ç°çŠ¶ã€‚æˆ‘ä»¬ä½¿ç”¨Jiraçš„Gitæ’ä»¶èƒ½å¤Ÿå®ç°åœ¨Jiraä¸Šé¢æ–°å»ºGitlabåˆ†æ”¯ï¼ˆå®ç°éœ€æ±‚ä¸ä»£ç åŸºçº¿å…³è”ï¼‰ï¼Œè¿™ä¸ªæ“ä½œéœ€è¦æ‰‹åŠ¨å®Œæˆã€‚ä½¿ç”¨Jiraä¸­çš„Gitæ’ä»¶å®ç°é›†æˆï¼Œèƒ½å¤Ÿå®ç°åœ¨Jiraç³»ç»Ÿå¯¹åº”çš„ä»»åŠ¡ä¸‹é¢åˆ›å»ºåˆ†æ”¯ï¼Œæˆ–å¼€å‘äººå‘˜åœ¨åˆ›å»ºåˆ†æ”¯çš„æ—¶å€™åˆ†æ”¯åç§°åŒ…å«Jira IDåˆ™å¯ä»¥è‡ªåŠ¨å…³è”ã€‚ é€šè¿‡ä¸Šé¢çš„æè¿°ä½ åº”è¯¥å‘ç°äº†å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚ï¼šæ’ä»¶ä¸ç¨³å®šï¼Œèµ„æºæ¶ˆè€—å¤§ã€‚æ‰‹åŠ¨åˆ›å»ºåˆ†æ”¯ï¼Œå¢åŠ äº†äººå‘˜æˆæœ¬ã€‚\næ¥æˆ‘ä»¬å…ˆçœ‹ä¸‹å½“å‰çš„åˆ†æ”¯ç­–ç•¥ï¼ˆæ¯ä¸ªå›¢é˜Ÿå¯èƒ½ä¼šæœ‰è‡ªå·±çš„ä¸€å¥—åˆ†æ”¯ç­–ç•¥ï¼‰ã€‚ å¼€å‘äººå‘˜åœ¨ç‰¹æ€§åˆ†æ”¯è¿›è¡Œå¼€å‘ï¼ŒåŸºäºmasteråˆ†æ”¯åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬åˆ†æ”¯ï¼ˆç”¨äºå‘å¸ƒï¼‰ã€‚ç‰¹æ€§åˆ†æ”¯åœ¨ç‰¹æ€§ç¯å¢ƒéªŒè¯é€šè¿‡åï¼Œå°†ç‰¹æ€§åˆ†æ”¯åˆå¹¶åˆ°ç‰ˆæœ¬åˆ†æ”¯ï¼Œæ­¤æ—¶é€šè¿‡ç‰ˆæœ¬åˆ†æ”¯è¿›è¡ŒUATæµ‹è¯•ç¯å¢ƒã€STAGé¢„ç”Ÿäº§ç¯å¢ƒéªŒè¯æµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡é€šè¿‡ç‰ˆæœ¬åˆ†æ”¯å‘å¸ƒPRODç”Ÿäº§ç¯å¢ƒã€‚ç”Ÿäº§ç¯å¢ƒå‘å¸ƒå®Œæˆåï¼Œå°†ç‰ˆæœ¬åˆ†æ”¯åˆå¹¶åˆ°masteråˆ†æ”¯ã€‚\nä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼Œåˆ¶ä½œäº†æ”¹è¿›æ–¹æ¡ˆã€‚ æˆ‘ä»¬æƒ³å®ç°åœ¨Jiraä¸­åˆ›å»ºæ•…äº‹æˆ–è€…ä»»åŠ¡(Jiraä¸­çš„issue)æ—¶è‡ªåŠ¨åœ¨å¯¹åº”çš„ä»£ç åº“åˆ›å»ºåˆ†æ”¯ï¼Œæ•…äº‹æˆ–è€…ä»»åŠ¡åœ¨å…³è”åˆ°å‘å¸ƒï¼ˆJiraä¸­çš„releaseï¼‰ä¹‹åè‡ªåŠ¨åœ¨ä»£ç åº“ä¸­åˆ›å»ºä¸€ä¸ªreleaseåˆ†æ”¯å’Œç‰¹æ€§åˆ†æ”¯åˆ°releaseåˆ†æ”¯çš„åˆå¹¶è¯·æ±‚ã€‚\nå·¥å…·é“¾è°ƒç ”åˆ†æ å…¶å®æˆ‘ä»¬éœ€è¦é…ç½®çš„æ˜¯é€šè¿‡Jiraçš„Webhook è§¦å‘Jenkinsæ¥æ“ä½œGitlabç³»ç»Ÿã€‚ä¸»è¦æœ‰ä¸‰ä¸ªç‚¹ï¼š\n Jenkinsé¡¹ç›®é…ç½®è§¦å‘å™¨æ¥æ”¶è§¦å‘è¯·æ±‚ Jiraç³»ç»Ÿé…ç½®webHookè§¦å‘Jenkins Jenkinså°è£…GitlabAPIå®Œæˆç›¸å…³æ“ä½œ  Jiraè°ƒç ”ä¸åˆ†æ-webhook å…³äºJiraçš„webhookæŒºå¼ºå¤§çš„å‡ ä¹æ‰€æœ‰çš„äº‹ä»¶éƒ½èƒ½æ”¯æŒï¼Œæˆ‘ä»¬è¿›å…¥jiraç³»ç»Ÿçš„ç®¡ç†é¡µé¢ï¼Œé€‰æ‹©webhookã€‚\nå¡«å†™é…ç½®è§¦å‘å™¨URL(Jenkinsé¡¹ç›®è§¦å‘å™¨åœ°å€)ã€é€šè¿‡JQLï¼ˆJiraçš„ä¸€ç§æŸ¥è¯¢è¯­è¨€ç±»ä¼¼äºSQLï¼‰é…ç½®è§¦å‘çš„é¡¹ç›®ã€é€‰æ‹©è§¦å‘äº‹ä»¶ã€‚\nJiraè°ƒç ”ä¸åˆ†æ-webhookevent åœ¨ä¸Šé¢æˆ‘ä»¬çŸ¥é“æœ‰webhookçš„æ¦‚å¿µï¼Œæˆ‘ä»¬æ¥åˆ†æè¦å®Œæˆæˆ‘ä»¬çš„éœ€æ±‚æ‰€éœ€è¦çš„äº‹ä»¶ç±»å‹ã€‚å…¶å®è¿™äº›æ•°æ®æ˜¯åœ¨webhookä¸­ä¼ é€’ã€‚Jiraçš„äº‹ä»¶ç±»å‹å¦‚ä¸Šå›¾æ‰€ç¤ºæœ‰å¾ˆå¤šï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº† é—®é¢˜åˆ›å»ºjira:issue_createdã€é—®é¢˜æ›´æ–°jira:issue_updateã€‚\n åˆ›å»ºä»»åŠ¡æˆ–è€…æ•…äº‹å±äºjira:issue_createdäº‹ä»¶ã€‚ ä»»åŠ¡æˆ–è€…æ•…äº‹å…³è”ä¸Šç‰ˆæœ¬å±äºjira:issue_updatedäº‹ä»¶ã€‚  æ¥ä¸€èµ·çœ‹ä¸‹Jiraçš„webhookä¼ é€’çš„JSONæ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nåˆ°æ­¤å¯ä»¥æ€»ç»“ä¸ºJiraçš„åŠŸèƒ½å·²ç»å®Œå…¨æ»¡è¶³äº†æˆ‘ä»¬çš„éœ€æ±‚ã€‚\nGitlabè°ƒç ”ä¸åˆ†æ å…³äºGitlabè¦åšçš„äº‹æƒ…æœ‰2ç‚¹ï¼Œåˆ†åˆ«ä¸º:\n åˆ›å»ºåˆ†æ”¯ï¼ˆbranchï¼‰ åˆ›å»ºåˆå¹¶è¯·æ±‚ï¼ˆmerge requestï¼‰  æˆ‘ä»¬å¯ä»¥å‚è€ƒGitlabçš„æ¥å£æ–‡æ¡£ https://docs.gitlab.com/ce/api/api_resources.html, æ‰¾å‡ºæˆ‘ä»¬æ‰€éœ€è¦çš„APIã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š\n# è·å–é¡¹ç›®IDæ¥å£ api/v4/projects?search=projectName # åˆ›å»ºåˆ†æ”¯æ¥å£ api/v4/projects/${projectId}/repository/branches?branch=${newBranch}\u0026amp;ref=${refBranch} # åˆ›å»ºåˆå¹¶è¯·æ±‚æ¥å£ api/v4/projects/${projectId}/merge_requests  æˆ‘ä»¬æ‰¾åˆ°äº†ä»¥ä¸Šä¸‰ä¸ªæ¥å£ï¼Œæ˜¯ä¸æ˜¯ç–‘é—®è·å–é¡¹ç›®IDæ¥å£æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„å‘¢ï¼Ÿ å…¶å®è¿™ä¸ªå°±æ˜¯ç”¨æ¥é€šè¿‡é¡¹ç›®åç§°è·å–é¡¹ç›®çš„IDçš„ã€‚è¦æƒ³åˆ›å»ºåˆ†æ”¯æˆ–è€…åˆå¹¶è¯·æ±‚éƒ½æ˜¯éœ€è¦é¡¹ç›®çš„IDçš„ã€‚é¡¹ç›®åç§°å°±æ˜¯Jiraä¸­çš„æ¨¡å—åç§°ï¼Œä¹Ÿå°±æ˜¯åœ¨Jiraåˆ›å»ºissueçš„æ—¶å€™å¿…é¡»è¦ç»™æ­¤issueå…³è”ä¸€ä¸ªæ¨¡å—ã€‚åç»­æˆ‘ä»¬æ ¹æ®æ­¤æ¨¡å—åç§°è°ƒç”¨gitlabæ¥å£æŸ¥è¯¢è·å–IDï¼Œä»¥ä¾¿è¿›è¡Œåç»­çš„æ“ä½œã€‚\n Jenkinsè°ƒç ”ä¸åˆ†æ- Generic Webhook Trigger æˆ‘ä»¬ä½¿ç”¨Generic Webhook Triggeræ¥å®Œæˆæ­¤æ¬¡ä»»åŠ¡ï¼Œ å¯¹äºJenkinsæ¥è¯´ï¼Œéœ€è¦åšçš„æœ‰3ç‚¹ï¼š\n é…ç½®è§¦å‘å™¨æ¥æ”¶æ¥è‡ªJiraçš„è¯·æ±‚ åˆ†æJiraè¯·æ±‚ä¸­ä¼ é€’çš„æ•°æ® å°è£…Gitlab APIå®Œæˆç›¸å…³æ“ä½œ  åˆ†ææ•°æ® è·å–hookä¸­å‚æ•°-è·å–é—®é¢˜åç§°-è·å–æ¨¡å—åç§°ç­‰æ•°æ® é…ç½®è§¦å‘å™¨ ç”Ÿæˆé¡¹ç›®å”¯ä¸€Token-ä½¿ç”¨é¡¹ç›®åç§°æ ‡è¯† é…ç½®è§¦å‘è¿‡æ»¤å™¨ è¿‡æ»¤è§¦å‘è¯·æ±‚-é™åˆ¶åªæœ‰æ•…äº‹ä»»åŠ¡ç­‰è§¦å‘ï¼ˆåœ¨Jiraä¸­issueç±»å‹æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œå¯ä»¥çµæ´»å®šä¹‰ï¼‰ å®è·µ ä¸Šé¢çš„æŠ€æœ¯ç‚¹ä½ æ˜¯å¦æ¸…æ¥šäº†å‘¢ï¼Ÿ æ¥ä¸‹æ¥æˆ‘ä»¬è¦ä¸Šæˆ˜åœºå®è·µäº†ã€‚\nåˆ›å»ºissueè‡ªåŠ¨åˆ›å»ºgitlabåˆ†æ”¯ æˆ‘æƒ³å¤§æ¦‚è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š\n Jira: æˆ‘æ¥åˆ›å»ºä¸gitlabé¡¹ç›®åç§°ä¸€è‡´çš„æ¨¡å—ã€‚ç„¶åæˆ‘æ¥åˆ›å»ºissueå…³è”ä¸Šæ¨¡å—ã€‚ æ­¤æ—¶é€šè¿‡webhookè§¦å‘äº†Jenkinsçš„é¡¹ç›®ã€‚ Jenkins: æˆ‘æ¥æ¥æ”¶æ¥è‡ªJiraçš„è¯·æ±‚ï¼Œæˆ‘åœ¨è¯·æ±‚ä¸­è·å–åˆ°issueName,componentsç­‰å‚æ•°ã€‚ Jenkins: é€šè¿‡gitlabæŸ¥è¯¢é¡¹ç›®æ¥å£æ ¹æ®componentsæ¥è·å–gitlabé¡¹ç›®çš„IDã€‚ Jenkins: ç„¶åæ ¹æ®ä»¥è·å–çš„é¡¹ç›®IDå’ŒissueNameå‚æ•°ï¼Œé€šè¿‡gitlabåˆ›å»ºåˆ†æ”¯æ¥å£åˆ›å»ºåˆ†æ”¯ã€‚  æŠ€æœ¯å®ç°ç»†èŠ‚æ˜¯è¿™æ ·çš„\nè¦æƒ³å®ç°åœ¨gitlabä¸­åˆ›å»ºåˆ†æ”¯ï¼Œæ¥å£æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†ï¼Œä½†æ˜¯å¦‚ä½•è·å–æ¯ä¸ªissueæ‰€å…³è”çš„é¡¹ç›®åç§°å‘¢ï¼Ÿæˆ‘ä»¬è‡ªå·±ç»´æŠ¤ä¸€ä¸ªå…³ç³»è¡¨ï¼Ÿå½“ä¸€ä¸ªissueéœ€è¦å…³è”å¤šä¸ªé¡¹ç›®å‘¢ï¼Ÿ æ­¤æ—¶æˆ‘ä»¬éœ€è¦ç”¨åˆ°jiraä¸­çš„æ¨¡å—ã€‚ä½¿ç”¨jiraä¸­çš„æ¨¡å—æ¥ä½œä¸ºgitlabä¸­çš„é¡¹ç›®ï¼ˆå‘½åä¸€è‡´ï¼‰ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºissueçš„åŒæ—¶éœ€è¦å…³è”æ¨¡å—ï¼ˆå¿…é¡»å…³è”,å¦åˆ™åˆ›å»ºä¸äº†å“¦ï¼‰ã€‚æ‰€ä»¥ç¬¬ä¸€ä»¶äº‹æƒ…æ˜¯åœ¨Jiraä¸­åˆ›å»ºæ¨¡å—ï¼Œæ¨¡å—å‘½ååŒGitlabé¡¹ç›®åç§°\næ­¤æ—¶æˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ¨¡å—demo-maven-service(æˆ‘çš„gitlabé¡¹ç›®åç§°ä¹Ÿæ˜¯è¿™ä¸ª) ç„¶åæˆ‘ï¼ˆJiraï¼‰æ¥åˆ›å»ºissuesï¼Œæˆ‘åˆ›å»ºä¸€ä¸ªä»»åŠ¡ï¼Œç„¶åå…³è”demo-maven-serviceæ¨¡å— ã€‚æ­¤æ—¶è¯æ˜ï¼šè¿™ä¸ªä»»åŠ¡å…³è”çš„æ˜¯demo-maven-serviceè¿™ä¸ªä»£ç åº“ã€‚ä¹Ÿå°±æ˜¯æˆ‘è¦åœ¨demo-maven-serviceé¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªissueNameåŒåçš„åˆ†æ”¯ï¼ˆç‰¹æ€§åˆ†æ”¯ï¼‰ã€‚\nè§¦å‘Jenkinsé¡¹ç›®ï¼š Jenkins æ ¹æ®æ¨¡å—ï¼ˆcomponentsï¼‰åœ¨å¯¹åº”çš„ä»“åº“ä¸­åˆ›å»ºåˆ†æ”¯ï¼ˆIssueNameï¼‰ã€‚JIRAæ›´æ–°issuesï¼ŒJenkins æ ¹æ®æ¨¡å—ï¼ˆcomponentsï¼‰åœ¨å¯¹åº”çš„ä»“åº“ä¸­åˆ›å»ºåˆ†æ”¯ï¼ˆissuesNameï¼‰ã€‚\næˆ‘çš„Jenkinsfileå†…å®¹å¦‚ä¸‹ï¼š åœ¨è¿™é‡Œæˆ‘å¼•å…¥äº†æˆ‘ä»¬è‡ªå·±å°è£…å¥½çš„gitlab.groovyï¼Œé¦–å…ˆç¬¬ä¸€ä¸ªæ­¥éª¤æ˜¯FileterDataåˆ†ææ•°æ®ï¼Œå†™äº†ä¸€ä¸ª switchè¯­å¥æ¥æ ¹æ®ä¸åŒçš„eventæ¥è·å–ä¸åŒçš„æ•°æ®ã€‚jira:issue_createdé—®é¢˜åˆ›å»ºäº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦è·å–çš„å‚æ•°æœ‰é—®é¢˜åç§°ã€è§¦å‘äººã€å…³è”æ¨¡å—ã€å…³è”ç‰ˆæœ¬ã€‚ ç„¶åç¬¬äºŒä¸ªæ­¥éª¤æ˜¯CreateBranchï¼Œæˆ‘ä»¬é€šè¿‡gitlabçš„æ¥å£è·å–é¡¹ç›®çš„IDï¼Œå› ä¸ºä¸€ä¸ªissueå¯èƒ½å…³è”å¤šä¸ªæ¨¡å—ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä¸ªliståˆ—è¡¨ï¼Œåé¢éå†è¿™ä¸ªåˆ—è¡¨ç„¶ååˆ›å»ºåœ¨å¯¹åº”çš„é¡¹ç›®ä¸­åˆ›å»ºåˆ†æ”¯ã€‚\n#!groovy @Library('jenkinslibrary') _ def gitlab = new org.devops.gitlab() pipeline { agent { node { label \u0026quot;master\u0026quot;}} stages{ stage(\u0026quot;FileterData\u0026quot;){ steps{ script{ response = readJSON text: \u0026quot;\u0026quot;\u0026quot;${webHookData}\u0026quot;\u0026quot;\u0026quot; println(response) env.eventType = response[\u0026quot;webhookEvent\u0026quot;] switch(eventType) { case \u0026quot;jira:issue_created\u0026quot;: env.issueName = response['issue']['key'] env.userName = response['user']['name'] env.moduleNames = response['issue']['fields']['components'] env.fixVersion = response['issue']['fields']['fixVersions'] currentBuild.description = \u0026quot; Trigger by ${userName} ${eventType} ${issueName} \u0026quot; break default: println(\u0026quot;hello\u0026quot;) } } } } stage(\u0026quot;CreateBranch\u0026quot;){ when { anyOf { environment name: 'eventType', value: 'jira:issue_created' //issue åˆ›å»º /æ›´æ–° environment name: 'eventType', value: 'jira:issue_updated' } } steps{ script{ def projectIds = [] println(issueName) //è·å–é¡¹ç›®Id def projects = readJSON text: \u0026quot;\u0026quot;\u0026quot;${moduleNames}\u0026quot;\u0026quot;\u0026quot; for ( project in projects){ println(project[\u0026quot;name\u0026quot;]) projectName = project[\u0026quot;name\u0026quot;] currentBuild.description += \u0026quot;\\n project: ${projectName}\u0026quot; repoName = projectName.split(\u0026quot;-\u0026quot;)[0] try { projectId = gitlab.GetProjectID(repoName, projectName) println(projectId) projectIds.add(projectId) } catch(e){ println(e) println(\u0026quot;æœªè·å–åˆ°é¡¹ç›®IDï¼Œè¯·æ£€æŸ¥æ¨¡å—åç§°ï¼\u0026quot;) } } println(projectIds) for (id in projectIds){ println(\u0026quot;æ–°å»ºç‰¹æ€§åˆ†æ”¯--\u0026gt; ${id} --\u0026gt; ${issueName}\u0026quot;) currentBuild.description += \u0026quot;\\n æ–°å»ºç‰¹æ€§åˆ†æ”¯--\u0026gt; ${id} --\u0026gt; ${issueName}\u0026quot; gitlab.CreateBranch(id,\u0026quot;master\u0026quot;,\u0026quot;${issueName}\u0026quot;) } } } } } }  æœ€ç»ˆæ•ˆæœï¼Œç™»å½•gitlabè¿›å…¥é¡¹ç›®ä¸­ä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°è·Ÿå½“å‰issueåŒåçš„ä¸€ä¸ªç‰¹æ€§åˆ†æ”¯ã€‚ ä¸ºäº†é¿å…é‡å¤åˆ›å»ºåˆ†æ”¯å¯¼è‡´æµæ°´çº¿å¤±è´¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å†™gitlabæ–¹æ³•æ—¶åŠ ä¸Šä¸€ä¸ªtry catchæ•è·å¼‚å¸¸ã€‚\n è‡ªåŠ¨åˆ›å»ºåˆå¹¶è¯·æ±‚ JIRAæ›´æ–°issuesåˆ°ç‰ˆæœ¬ä¸­ã€‚ Jenkinsæ ¹æ®issuesä¸­çš„æ¨¡å—ä¿¡æ¯ï¼Œåœ¨å¯¹åº”çš„ä»“åº“ä¸­åˆ›å»ºreleaseåˆ†æ”¯ï¼ˆfixVersionï¼‰ï¼Œå¹¶åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼ˆissueNameï¼‰åˆ°releaseåˆ†æ”¯çš„MRã€‚ jiraçš„issueæ›´æ–°äº‹ä»¶æœ‰ä¸¤ä¸ªæƒ…å†µç¬¬ä¸€ç§æ˜¯å¢åŠ å…³è”çš„æ¨¡å—ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯å°†issueå…³è”äº†ç‰ˆæœ¬ã€‚\næˆ‘ä»¬å…ˆæ¥åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬ ç„¶åå°†issueå…³è”ä¸€ä¸ªç‰ˆæœ¬\nå®Œå–„Jenkinsfile\n@Library('jenkinslibrary') _ def gitlab = new org.devops.gitlab() pipeline { agent { node { label \u0026quot;master\u0026quot;}} stages{ stage(\u0026quot;FileterData\u0026quot;){ steps{ script{ response = readJSON text: \u0026quot;\u0026quot;\u0026quot;${webHookData}\u0026quot;\u0026quot;\u0026quot; println(response) env.eventType = response[\u0026quot;webhookEvent\u0026quot;] switch(eventType) { case \u0026quot;jira:issue_created\u0026quot;: env.issueName = response['issue']['key'] env.userName = response['user']['name'] env.moduleNames = response['issue']['fields']['components'] env.fixVersion = response['issue']['fields']['fixVersions'] currentBuild.description = \u0026quot; Trigger by ${userName} ${eventType} ${issueName} \u0026quot; break case \u0026quot;jira:issue_updated\u0026quot;: env.issueName = response['issue']['key'] env.userName = response['user']['name'] env.moduleNames = response['issue']['fields']['components'] env.fixVersion = response['issue']['fields']['fixVersions'] currentBuild.description = \u0026quot; Trigger by ${userName} ${eventType} ${issueName} \u0026quot; break default: println(\u0026quot;hello\u0026quot;) } } } } stage(\u0026quot;CreateBranchOrMR\u0026quot;){ when { anyOf { environment name: 'eventType', value: 'jira:issue_created' //issue åˆ›å»º /æ›´æ–° environment name: 'eventType', value: 'jira:issue_updated' } } steps{ script{ def projectIds = [] println(issueName) fixVersion = readJSON text: \u0026quot;\u0026quot;\u0026quot;${fixVersion}\u0026quot;\u0026quot;\u0026quot; println(fixVersion.size()) //è·å–é¡¹ç›®Id def projects = readJSON text: \u0026quot;\u0026quot;\u0026quot;${moduleNames}\u0026quot;\u0026quot;\u0026quot; for ( project in projects){ println(project[\u0026quot;name\u0026quot;]) projectName = project[\u0026quot;name\u0026quot;] currentBuild.description += \u0026quot;\\n project: ${projectName}\u0026quot; repoName = projectName.split(\u0026quot;-\u0026quot;)[0] try { projectId = gitlab.GetProjectID(repoName, projectName) println(projectId) projectIds.add(projectId) } catch(e){ println(e) println(\u0026quot;æœªè·å–åˆ°é¡¹ç›®IDï¼Œè¯·æ£€æŸ¥æ¨¡å—åç§°ï¼\u0026quot;) } } println(projectIds) if (fixVersion.size() == 0) { for (id in projectIds){ println(\u0026quot;æ–°å»ºç‰¹æ€§åˆ†æ”¯--\u0026gt; ${id} --\u0026gt; ${issueName}\u0026quot;) currentBuild.description += \u0026quot;\\n æ–°å»ºç‰¹æ€§åˆ†æ”¯--\u0026gt; ${id} --\u0026gt; ${issueName}\u0026quot; gitlab.CreateBranch(id,\u0026quot;master\u0026quot;,\u0026quot;${issueName}\u0026quot;) } } else { fixVersion = fixVersion[0]['name'] println(\u0026quot;Issueå…³è”releaseæ“ä½œ,Jenkinsåˆ›å»ºåˆå¹¶è¯·æ±‚\u0026quot;) currentBuild.description += \u0026quot;\\n Issueå…³è”releaseæ“ä½œ,Jenkinsåˆ›å»ºåˆå¹¶è¯·æ±‚ \\n ${issueName} --\u0026gt; RELEASE-${fixVersion}\u0026quot; for (id in projectIds){ println(\u0026quot;åˆ›å»ºRELEASE--\u0026gt;${id} --\u0026gt;${fixVersion}åˆ†æ”¯\u0026quot;) gitlab.CreateBranch(id,\u0026quot;master\u0026quot;,\u0026quot;RELEASE-${fixVersion}\u0026quot;) println(\u0026quot;åˆ›å»ºåˆå¹¶è¯·æ±‚ ${issueName} ---\u0026gt; RELEASE-${fixVersion}\u0026quot;) gitlab.CreateMr(id,\u0026quot;${issueName}\u0026quot;,\u0026quot;RELEASE-${fixVersion}\u0026quot;,\u0026quot;${issueName}---\u0026gt;RELEASE-${fixVersion}\u0026quot;) } } } } } } }  Gitlabæ•ˆæœï¼šæŸ¥çœ‹åˆå¹¶è¯·æ±‚ æ€»ç»“ é€šè¿‡ä»¥ä¸Šä¸¤ä¸ªå®è·µï¼Œç›¸ä¿¡ä½ å·²ç»çŸ¥é“äº†å¦‚ä½•å®ç°ç³»ç»Ÿé—´çš„é›†æˆï¼Œæ²¡é”™ä¸»è¦æ˜¯é€šè¿‡webhookå’Œapiã€‚ æ¥ä¸‹æ¥å¦‚æœæœ‰éœ€æ±‚å¯ä»¥ç‹¬ç«‹å»çµæ´»å®šä¹‰äº†å“¦ã€‚\n"
},
{
	"uri": "/pipelineintegrated/chapter07/",
	"title": "3-7 å®¹å™¨PaaSå¹³å°é›†æˆ",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°Jenkinsä¸éœ€æ±‚ç®¡ç†å¹³å°Jiraé›†æˆã€‚è¿™ç¯‡æ–‡ç« æ˜¯æˆ‘æ ¹æ®æˆ‘ä»¬å½“å‰å›¢é˜Ÿçš„æƒ…å†µè¿›è¡Œå®šåˆ¶çš„ï¼Œå¯èƒ½æœ‰äº›å†…å®¹ä¸å¤§å®¶ä¸å¤ªä¸€æ ·ã€‚é‡ç‚¹æ˜¯å‘Šè¯‰å¤§å®¶å¦‚ä½•å®ç°é›†æˆï¼Ÿå…³äºç»†èŠ‚é—®é¢˜å¯è‡ªç”±å®šåˆ¶ã€‚ åœ¨è¿™é‡Œè¦å‘Šè¯‰å¤§å®¶çš„æ˜¯æ€è·¯ã€‚\n ç›®å½•  éƒ¨ç½²jenkins é™æ€slave åŠ¨æ€slave  å½“å‰æˆ‘åšå®éªŒçš„é›†ç¾¤æ˜¯ v1.17.0ã€‚\néƒ¨ç½²jenkins ä¸‹è½½githubä»“åº“ä¸­çš„ymlæ–‡ä»¶è¿›è¡Œéƒ¨ç½² æ–‡ä»¶åœ°å€ï¼š https://github.com/zeyangli/devops-on-k8s/blob/master/jenkins.yml åˆ›å»ºå‘½ä»¤ï¼š kubectl create â€“f jenkins.yml\nåˆ›å»ºä¸€ä¸ªDeploymentéƒ¨ç½²jenkins, ä¿ç•™1ä¸ªå‰¯æœ¬ã€‚ ä½¿ç”¨é•œåƒjenkins/jenkins:2.211ï¼Œå¼€æ”¾ç«¯å£30080,å¼€å‘slaveé€šä¿¡ç«¯å£30081ã€‚volumeä»¥hostPathæ–¹å¼æŒ‚è½½åˆ°äº†å®¹å™¨ä¸­JENKINS_HOMEã€‚\nkind: Deployment apiVersion: apps/v1 metadata: labels: k8s-app: jenkins name: jenkins namespace: devops spec: replicas: 1 revisionHistoryLimit: 10 selector: matchLabels: k8s-app: jenkins template: metadata: labels: k8s-app: jenkins namespace: devops name: jenkins spec: hostAliases: - ip: \u0026quot;192.168.1.200\u0026quot; hostnames: - \u0026quot;updates.jenkins-ci.org\u0026quot; containers: - name: jenkins image: jenkins/jenkins:2.211 imagePullPolicy: Always ports: - containerPort: 30080 name: web protocol: TCP - containerPort: 30081 name: agent protocol: TCP resources: limits: cpu: 1000m memory: 2Gi requests: cpu: 500m memory: 512Mi livenessProbe: httpGet: path: /login port: 30080 initialDelaySeconds: 60 timeoutSeconds: 5 failureThreshold: 12 readinessProbe: httpGet: path: /login port: 30080 initialDelaySeconds: 60 timeoutSeconds: 5 failureThreshold: 12 volumeMounts: - name: jenkins-home mountPath: /var/lib/jenkins env: - name: JENKINS_HOME value: /var/lib/jenkins - name: JENKINS_OPTS value: --httpPort=30080 - name: JENKINS_SLAVE_AGENT_PORT value: \u0026quot;30081\u0026quot; volumes: - name: jenkins-home hostPath: path: /data/devops/jenkins type: Directory serviceAccountName: jenkins  åˆ›å»ºä¸€ä¸ªserviceï¼Œä½¿ç”¨nodePortæ–¹å¼æš´éœ²ç«¯å£\n--- kind: Service apiVersion: v1 metadata: labels: k8s-app: jenkins name: jenkins namespace: devops spec: type: NodePort ports: - name: web port: 30080 targetPort: 30080 nodePort: 30080 - name: slave port: 30081 targetPort: 30081 nodePort: 30081 selector: k8s-app: jenkins  åˆ›å»ºRBACï¼Œæˆæƒã€‚\n--- apiVersion: v1 kind: ServiceAccount metadata: labels: k8s-app: jenkins name: jenkins namespace: devops --- kind: Role apiVersion: rbac.authorization.k8s.io/v1beta1 metadata: name: jenkins namespace: devops rules: - apiGroups: [\u0026quot;\u0026quot;] resources: [\u0026quot;pods\u0026quot;,\u0026quot;configmaps\u0026quot;,\u0026quot;namespaces\u0026quot;] verbs: [\u0026quot;create\u0026quot;,\u0026quot;delete\u0026quot;,\u0026quot;get\u0026quot;,\u0026quot;list\u0026quot;,\u0026quot;patch\u0026quot;,\u0026quot;update\u0026quot;,\u0026quot;watch\u0026quot;] - apiGroups: [\u0026quot;\u0026quot;] resources: [\u0026quot;pods/exec\u0026quot;] verbs: [\u0026quot;create\u0026quot;,\u0026quot;delete\u0026quot;,\u0026quot;get\u0026quot;,\u0026quot;list\u0026quot;,\u0026quot;patch\u0026quot;,\u0026quot;update\u0026quot;,\u0026quot;watch\u0026quot;] - apiGroups: [\u0026quot;\u0026quot;] resources: [\u0026quot;pods/log\u0026quot;] verbs: [\u0026quot;get\u0026quot;,\u0026quot;list\u0026quot;,\u0026quot;watch\u0026quot;] - apiGroups: [\u0026quot;\u0026quot;] resources: [\u0026quot;secrets\u0026quot;] verbs: [\u0026quot;get\u0026quot;] --- apiVersion: rbac.authorization.k8s.io/v1beta1 kind: RoleBinding metadata: name: jenkins namespace: devops roleRef: apiGroup: rbac.authorization.k8s.io kind: Role name: jenkins subjects: - kind: ServiceAccount name: jenkins namespace: devops  é™æ€slave é™æ€slaveæ˜¯åœ¨Kubernetesä¸­åˆ›å»ºä¸€ä¸ªå›ºå®šçš„podè¿è¡Œï¼Œè·Ÿä¹‹å‰æˆ‘ä»¬ç”¨VMä¸»æœºæ·»åŠ agentæ˜¯ä¸€æ ·çš„ã€‚ é¦–å…ˆæˆ‘ä»¬ç™»é™†Jenkinsï¼Œåˆ›å»ºä¸€ä¸ªagentï¼Œç„¶åè·å–secretä¿¡æ¯ã€‚ æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªDeploymentéƒ¨ç½²slaveã€‚åœ¨è¿™é‡Œä½¿ç”¨çš„é•œåƒæ˜¯jenkinsci/jnlp-slave:3.36-1ï¼Œæˆ‘åœ¨è¿™é‡ŒæŒ‚è½½äº†Dockerå’Œkubectlæ–¹ä¾¿åœ¨podä¸­æ„å»ºé•œåƒå’Œä½¿ç”¨kubectlå‘½ä»¤ã€‚æŒ‚è½½æœ¬åœ°çš„ä¸€ä¸ªç›®å½•ç”¨äºworkspaceã€‚ å®šä¹‰äº†ç¯å¢ƒå˜é‡JENKINS_URL,JENKINS_SECRET,JENKINS_AGENT_NAME,JENKINS_AGENT_WORKDIRã€‚\n--- kind: Deployment apiVersion: apps/v1 metadata: labels: k8s-app: jenkinsagent name: jenkinsagent namespace: devops spec: replicas: 1 revisionHistoryLimit: 10 selector: matchLabels: k8s-app: jenkinsagent template: metadata: labels: k8s-app: jenkinsagent namespace: devops name: jenkinsagent spec: containers: - name: jenkinsagent image: jenkinsci/jnlp-slave:3.36-1 securityContext: privileged: true imagePullPolicy: IfNotPresent resources: limits: cpu: 1000m memory: 2Gi requests: cpu: 500m memory: 512Mi volumeMounts: - name: jenkinsagent-workdir mountPath: /home/jenkins/workspace - name: buildtools mountPath: /home/jenkins/buildtools - name: dockersock mountPath: \u0026quot;/var/run/docker.sock\u0026quot; - name: dockercmd mountPath: /usr/bin/docker - name: kubectlconfig mountPath: /home/jenkins/.kube/config - name: kubectlcmd mountPath: /usr/bin/kubectl env: - name: JENKINS_URL value: http://192.168.1.200:30080 - name: JENKINS_SECRET value: 5639cac0bf16bf15735d44bc435793417365f4dfa8fc72fb12737f3787091ae8 - name: JENKINS_AGENT_NAME value: build01 - name: JENKINS_AGENT_WORKDIR value: /home/jenkins/workspace volumes: - name: jenkinsagent-workdir hostPath: path: /data/devops/jenkins/workspace type: Directory - name: buildtools hostPath: path: /usr/local/buildtools type: Directory - name: kubectlconfig hostPath: path: /root/.kube/config - name: kubectlcmd hostPath: path: /usr/bin/kubectl - name: dockersock hostPath: path: /var/run/docker.sock - name: dockercmd hostPath: path: /usr/bin/docker  åŠ¨æ€slave å®‰è£…kubernetesæ’ä»¶ï¼ˆå®‰è£…å®Œæˆåæœ€å¥½é‡å¯ä¸€ä¸‹ï¼‰ã€‚é…ç½®æ’ä»¶ä¿¡æ¯ ç³»ç»Ÿè®¾ç½® -\u0026gt; æœ€åé¢ Cloud -\u0026gt;å¢åŠ ä¸€ä¸ªäº‘ã€‚\nåˆ¶ä½œKubernetesè¯ä¹¦\n è¿›å…¥é›†ç¾¤æœåŠ¡å™¨ .kube/config å¤åˆ¶configæ–‡ä»¶ä¸­çš„certificate-authority-dataå†…å®¹ï¼Œç”Ÿæˆbase64æ–‡ä»¶ ca.crt å¤åˆ¶configæ–‡ä»¶ä¸­çš„client-certificate-dataå†…å®¹ï¼Œç”Ÿæˆbase64æ–‡ä»¶ client.crt å¤åˆ¶configæ–‡ä»¶ä¸­çš„client-key-dataå†…å®¹ï¼Œç”Ÿæˆbase64æ–‡ä»¶ client.key\n echo zzzzzzzzz | base64 â€“d \u0026gt; client.key  ç”Ÿæˆè¯ä¹¦ï¼ˆä¼šè¾“å…¥å¯†ç éœ€è¦è®°ä½åé¢jenkinséœ€è¦é…ç½®ï¼‰\n openssl pkcs12 -export -out cert.pfx -inkey client.key -in client.crt -certfile ca.crt  ä¸‹è½½è¯ä¹¦ cert.pfx\n  Jenkinsæ–°å»ºå‡­æ®\næ–°å»ºå‡­æ® è¯ä¹¦ç±»å‹ ä¸Šä¼ åˆšåˆšä¸‹è½½çš„è¯ä¹¦ã€‚å¹¶è¾“å…¥è¯ä¹¦å¯†ç  å°†ca.crt å†…å®¹å¤åˆ¶åˆ° æœåŠ¡è¯ä¹¦key é€‰æ‹©è¯ä¹¦å‡­æ® æµ‹è¯•è¿æ¥ ç¼–å†™Jenkinsfileæµ‹è¯•\næ–‡ä»¶åœ°å€ï¼š https://github.com/zeyangli/devops-on-k8s/blob/master/jenkinsfile/jenkinsslave.jenkinsfile\nå…³äºJenkinsfileçš„å†™æ³•è¿˜æœ‰ä¸€ç§ä½¿ç”¨podtemplateæ„Ÿè§‰åªæ˜¯å¯¹yamlåšäº†åŒ…è£…ï¼Œå­¦ä¹ æˆæœ¬é«˜äºåŸç”Ÿyamlã€‚æ‰€ä»¥è¿™é‡Œç›´æ¥ä½¿ç”¨äº†yamlå®šä¹‰çš„ã€‚\npipeline{ agent{ kubernetes{ label \u0026quot;test01\u0026quot; cloud 'kubernetes' yaml ''' --- kind: Pod apiVersion: v1 metadata: labels: k8s-app: jenkinsagent name: jenkinsagent namespace: devops spec: containers: - name: jenkinsagent image: jenkinsci/jnlp-slave:3.36-1 imagePullPolicy: IfNotPresent resources: limits: cpu: 1000m memory: 2Gi requests: cpu: 500m memory: 512Mi volumeMounts: - name: jenkinsagent-workdir mountPath: /home/jenkins/workspace - name: buildtools mountPath: /home/jenkins/buildtools env: - name: JENKINS_AGENT_WORKDIR value: /home/jenkins/workspace volumes: - name: jenkinsagent-workdir hostPath: path: /data/devops/jenkins/workspace type: Directory - name: buildtools hostPath: path: /usr/local/buildtools type: Directory ''' } } stages{ stage(\u0026quot;test\u0026quot;){ steps{ script{ sh \u0026quot;sleep 30\u0026quot; } } } } }  èµ¶å¿«è¿è¡Œä¸€ä¸‹å§ï¼ ç›¸ä¿¡ä½ å·²ç»æˆåŠŸäº†ã€‚\n"
},
{
	"uri": "/pipelineintegrated/chapter08/",
	"title": "3-8 è‡ªåŠ¨åŒ–æ¥å£æµ‹è¯•",
	"tags": [],
	"description": "",
	"content": " æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬ä¸»è¦è®²è¿°Jenkins+jmeterè‡ªåŠ¨åŒ–æ¥å£æµ‹è¯•ã€‚\n ç›®å½• æ¥å£æµ‹è¯•å®šä¹‰ä¸ºä¸€ç§è½¯ä»¶æµ‹è¯•ç±»å‹ï¼Œç”¨äºéªŒè¯ä¸¤ä¸ªä¸åŒè½¯ä»¶ç³»ç»Ÿä¹‹é—´çš„é€šä¿¡æ˜¯å¦æ­£ç¡®å®Œæˆã€‚é›†æˆä¸¤ä¸ªç»„ä»¶çš„è¿æ¥ç§°ä¸ºæ¥å£ã€‚è®¡ç®—æœºä¸–ç•Œä¸­çš„æ­¤æ¥å£å¯ä»¥æ˜¯APIï¼ŒWebæœåŠ¡ç­‰ä¹‹ç±»çš„ä¸œè¥¿ã€‚è¿™äº›è¿æ¥æœåŠ¡æˆ–æ¥å£çš„æµ‹è¯•ç§°ä¸ºæ¥å£æµ‹è¯•ã€‚æ¥å£å®é™…ä¸Šæ˜¯ç”±ä¸€ç»„å‘½ä»¤ï¼Œæ¶ˆæ¯å’Œå…¶ä»–å…è®¸è®¾å¤‡ä¸ç”¨æˆ·ä¹‹é—´è¿›è¡Œé€šä¿¡çš„å±æ€§ç»„æˆçš„è½¯ä»¶ã€‚\nè¿è¡Œæµ‹è¯•ç”¨ä¾‹ jmeter -n -t scripts/blog.jmx -l report.jtl -e -o report -Jjmeter.save.saveservice.output_format=csv  å‚æ•°è¯´æ˜:\n \u000b-n: éGUIæ¨¡å¼æ‰§è¡ŒJMeter\u000b -t: æ‰§è¡Œæµ‹è¯•æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®\u000b -l: æŒ‡å®šç”Ÿæˆæµ‹è¯•ç»“æœçš„ä¿å­˜æ–‡ä»¶ï¼Œjtlæ–‡ä»¶æ ¼å¼\u000b -e: æµ‹è¯•ç»“æŸåï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Š\u000b-o: æŒ‡å®šæµ‹è¯•æŠ¥å‘Šçš„å­˜æ”¾ä½ç½®  çœ‹ä¸‹è¿è¡Œçš„æ•ˆæœï¼šæµ‹è¯•æŠ¥å‘Šå·²ç”Ÿæˆæ˜¯HTMLæ–‡ä»¶ï¼Œå¯ç›´æ¥æ‰“å¼€ã€‚\næ‰¹é‡è¿è¡Œç”¨ä¾‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨antä¸Jmeteré›†æˆbuild.xmléƒ¨åˆ†å†…å®¹ã€‚ ä»“åº“åœ°å€ï¼šhttps://github.com/zeyangli/jmetertest.git\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf8\u0026quot;?\u0026gt; \u0026lt;!-- æ‹·è´æŠ¥å‘Šæ‰€éœ€çš„å›¾ç‰‡èµ„æºè‡³ç›®æ ‡ç›®å½• --\u0026gt; \u0026lt;project name=\u0026quot;ant-jmeter-test\u0026quot; default=\u0026quot;run\u0026quot; basedir=\u0026quot;.\u0026quot;\u0026gt; \u0026lt;tstamp\u0026gt; \u0026lt;format property=\u0026quot;time\u0026quot; pattern=\u0026quot;yyyyMMddHHmm\u0026quot; /\u0026gt; \u0026lt;/tstamp\u0026gt; \u0026lt;!-- éœ€è¦æ”¹æˆè‡ªå·±æœ¬åœ°çš„jmeterç›®å½•--\u0026gt; \u0026lt;property name=\u0026quot;jmeter.home\u0026quot; value=\u0026quot;/usr/local/buildtools/apache-jmeter-5.2.1\u0026quot; /\u0026gt; \u0026lt;!-- jmeterç”Ÿæˆçš„jtlæ ¼å¼çš„ç»“æœæŠ¥å‘Šçš„è·¯å¾„--\u0026gt; \u0026lt;property name=\u0026quot;jmeter.result.jtl.dir\u0026quot; value=\u0026quot;./result/jtlfile\u0026quot; /\u0026gt; \u0026lt;!-- jmeterç”Ÿæˆçš„htmlæ ¼å¼çš„ç»“æœæŠ¥å‘Šçš„è·¯å¾„--\u0026gt; \u0026lt;property name=\u0026quot;jmeter.result.html.dir\u0026quot; value=\u0026quot;./result/htmlfile\u0026quot; /\u0026gt; \u0026lt;!-- Êºç”Ÿæˆçš„æŠ¥å‘Šçš„å‰ç¼€--\u0026gt; \u0026lt;property name=\u0026quot;ReportName\u0026quot; value=\u0026quot;TestReport_\u0026quot; /\u0026gt; \u0026lt;property name=\u0026quot;jmeter.result.jtlName\u0026quot; value=\u0026quot;${jmeter.result.jtl.dir}/${ReportName}${time}.jtl\u0026quot; /\u0026gt; \u0026lt;property name=\u0026quot;jmeter.result.htmlName\u0026quot; value=\u0026quot;${jmeter.result.html.dir}/${time}_SummaryReport.html\u0026quot; /\u0026gt; \u0026lt;property name=\u0026quot;jmeter.detail.result.jtlName\u0026quot; value=\u0026quot;${jmeter.result.jtl.dir}/${ReportName}${time}.jtl\u0026quot; /\u0026gt; \u0026lt;property name=\u0026quot;jmeter.detail.result.htmlName\u0026quot; value=\u0026quot;${jmeter.result.html.dir}/${time}_DetailReport.html\u0026quot; /\u0026gt; \u0026lt;target name=\u0026quot;run\u0026quot;\u0026gt; \u0026lt;antcall target=\u0026quot;test\u0026quot; /\u0026gt; \u0026lt;antcall target=\u0026quot;report\u0026quot; /\u0026gt; \u0026lt;/target\u0026gt; \u0026lt;target name=\u0026quot;test\u0026quot;\u0026gt; \u0026lt;taskdef name=\u0026quot;jmeter\u0026quot; classname=\u0026quot;org.programmerplanet.ant.taskdefs.jmeter.JMeterTask\u0026quot; /\u0026gt; \u0026lt;jmeter jmeterhome=\u0026quot;${jmeter.home}\u0026quot; resultlog=\u0026quot;${jmeter.result.jtlName}\u0026quot;\u0026gt; \u0026lt;!-- å£°æ˜è¦è¿è¡Œçš„è„šæœ¬â€œ*.jmxâ€æŒ‡åŒ…å«æ­¤ç›®å½•ä¸‹çš„æ‰€æœ‰jmeterè„šæœ¬--\u0026gt; \u0026lt;testplans dir=\u0026quot;./scripts\u0026quot; includes=\u0026quot;*.jmx\u0026quot; /\u0026gt; \u0026lt;property name=\u0026quot;jmeter.save.saveservice.output_format\u0026quot; value=\u0026quot;xml\u0026quot;/\u0026gt; \u0026lt;/jmeter\u0026gt; \u0026lt;/target\u0026gt;  è¿è¡Œç”¨ä¾‹\nPassword: Buildfile: /Users/zeyang/Desktop/jmetertest-master/build.xml run: test: [jmeter] Executing test plan: /Users/zeyang/Desktop/jmetertest-master/scripts/blog.jmx ==\u0026gt; /Users/zeyang/Desktop/jmetertest-master/result/jtlfile/TestReport_202001100820.jtl [jmeter] Creating summariser \u0026lt;summary\u0026gt; [jmeter] Created the tree successfully using /Users/zeyang/Desktop/jmetertest-master/scripts/blog.jmx [jmeter] Starting the test @ Fri Jan 10 08:20:26 CST 2020 (1578615626561) [jmeter] Waiting for possible Shutdown/StopTestNow/HeapDump/ThreadDump message on port 4445 [jmeter] summary = 2 in 00:00:00 = 8.2/s Avg: 64 Min: 59 Max: 70 Err: 0 (0.00%) [jmeter] Tidying up ... @ Fri Jan 10 08:20:27 CST 2020 (1578615627287) [jmeter] ... end of run report: [xslt] Processing /Users/zeyang/Desktop/jmetertest-master/result/jtlfile/TestReport_202001100820.jtl to /Users/zeyang/Desktop/jmetertest-master/result/htmlfile/202001100820_DetailReport.html [xslt] Loading stylesheet /usr/local/apache-jmeter-5.1.1/extras/jmeter.results.shanhe.me.xsl [xslt] Processing /Users/zeyang/Desktop/jmetertest-master/result/jtlfile/TestReport_202001100820.jtl to /Users/zeyang/Desktop/jmetertest-master/result/htmlfile/202001100820_SummaryReport.html [xslt] Loading stylesheet /usr/local/apache-jmeter-5.1.1/extras/jmeter-results-detail-report_21.xsl BUILD SUCCESSFUL Total time: 3 seconds  æµ‹è¯•æŠ¥å‘Š\nè‡ªåŠ¨åŒ–æµ‹è¯• ä½¿ç”¨Jenkinsé›†æˆant å’Œjmeterè¿›è¡Œæ¥å£æµ‹è¯•,ç›´æ¥çœ‹Jenkinsfileå§ã€‚æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæ‰§è¡Œäº†antçš„æ„å»ºå‘½ä»¤å»è¿è¡Œæ¥å£æµ‹è¯•ï¼Œç„¶åé€šè¿‡publishHtmlå±•ç¤ºæµ‹è¯•æŠ¥å‘Šã€‚\n#!groovy @Library('jenkinslibrary@master') _ //func from shareibrary def build = new org.devops.build() def tools = new org.devops.tools() def toemail = new org.devops.toemail() //env String buildType = \u0026quot;${env.buildType}\u0026quot; String buildShell = \u0026quot;${env.buildShell}\u0026quot; String srcUrl = \u0026quot;${env.srcUrl}\u0026quot; String branchName = \u0026quot;${env.branchName}\u0026quot; userEmail = \u0026quot;2560350642@qq.com\u0026quot; //pipeline pipeline{ agent { node { label \u0026quot;build\u0026quot;}} stages{ stage(\u0026quot;CheckOut\u0026quot;){ steps{ script{ println(\u0026quot;${branchName}\u0026quot;) tools.PrintMes(\u0026quot;è·å–ä»£ç \u0026quot;,\u0026quot;green\u0026quot;) checkout([$class: 'GitSCM', branches: [[name: \u0026quot;${branchName}\u0026quot;]], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: 'gitlab-admin-user', url: \u0026quot;${srcUrl}\u0026quot;]]]) } } } stage(\u0026quot;Build\u0026quot;){ steps{ script{ tools.PrintMes(\u0026quot;æ‰§è¡Œæ‰“åŒ…\u0026quot;,\u0026quot;green\u0026quot;) build.Build(buildType,buildShell) //å±•ç¤ºæµ‹è¯•æŠ¥å‘Š publishHTML([allowMissing: false, alwaysLinkToLastBuild: false, keepAll: false, reportDir: 'result/htmlfile', reportFiles: 'SummaryReport.html,DetailReport.html', reportName: 'InterfaceTestReport', reportTitles: '']) } } } } post { always{ script{ println(\u0026quot;always\u0026quot;) } } success{ script{ println(\u0026quot;success\u0026quot;) toemail.Email(\u0026quot;æµæ°´çº¿æˆåŠŸ\u0026quot;,userEmail) } } failure{ script{ println(\u0026quot;failure\u0026quot;) toemail.Email(\u0026quot;æµæ°´çº¿å¤±è´¥äº†ï¼\u0026quot;,userEmail) } } aborted{ script{ println(\u0026quot;aborted\u0026quot;) toemail.Email(\u0026quot;æµæ°´çº¿è¢«å–æ¶ˆäº†ï¼\u0026quot;,userEmail) } } } }  "
},
{
	"uri": "/tags/documentation/",
	"title": "documentation",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/tags/tutorial/",
	"title": "tutorial",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/",
	"title": "åŸºäºJenkinsçš„DevOpsæµæ°´çº¿å®è·µ",
	"tags": [],
	"description": "",
	"content": " DevOpsæµæ°´çº¿æ•™ç¨‹-jenkins æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è¦å°†è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„æ•´ä¸ªè¿‡ç¨‹éƒ½è‡ªåŠ¨åŒ–ï¼Œä»å¼€å‘äººå‘˜å‘ä»£ç åº“ä¸­æäº¤ä»£ç å¼€å§‹ï¼Œåˆ°å°†æ­¤ä»£ç æŠ•å…¥ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ä¸ºæ­¢ã€‚ä¸ºäº†ä½¿æ•´ä¸ªè½¯ä»¶å¼€å‘æµç¨‹å¤„äº DevOps æ¨¡å¼æˆ–è‡ªåŠ¨åŒ–æ¨¡å¼ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹ CI/CD æµæ°´çº¿è¿›è¡Œè‡ªåŠ¨åŒ–ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€æ¬¾è‡ªåŠ¨åŒ–å·¥å…·æ¥åšè¿™ä»¶äº‹æƒ…ï¼Œå®ƒå°±æ˜¯ Jenkinsã€‚\nè¯¾ç¨‹å†…å®¹ Jenkinsç¯‡ï¼šè®©å¤§å®¶è®¤è¯†jenkinsï¼Œäº†è§£jenkinså¸¸ç”¨çš„åŠŸèƒ½ï¼› æµæ°´çº¿å…¥é—¨ç¯‡ï¼šè®²è§£æ ¸å¿ƒpipelineè¯­æ³•è®©æ¯ä¸ªäººéƒ½èƒ½ç¼–å†™Jenkinsfileã€‚\næµæ°´çº¿é›†æˆç¯‡ï¼šå®Œæˆå¸¸ç”¨çš„æ„å»ºå‘å¸ƒå·¥å…·ã€ç³»ç»Ÿé—´é›†æˆï¼› æµæ°´çº¿å®è·µç¯‡ï¼šæ€»ç»“ä¸Šé¢æ‰€æœ‰å·¥å…·ï¼Œå®Œæˆç«¯åˆ°ç«¯æµæ°´çº¿æœ€ä½³å®è·µã€‚\næµæ°´çº¿æ‰©å±•ç¯‡ï¼šä¸»è¦è®²è¿°DevOpså·¥å…·é“¾ä¸­å…¶ä»–ç³»ç»Ÿçš„ä½¿ç”¨æ–¹å¼ç­‰å†…å®¹ï¼›\n"
},
{
	"uri": "/shortcodes/attachments/",
	"title": "Attachments",
	"tags": [],
	"description": "The Attachments shortcode displays a list of files attached to a page.",
	"content": " The Attachments shortcode displays a list of files attached to a page.\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    Usage The shortcurt lists files found in a specific folder. Currently, it support two implementations for pages\n If your page is a markdown file, attachements must be place in a folder named like your page and ending with .files.\n  content  _index.md page.files  attachment.pdf  page.md    If your page is a folder, attachements must be place in a nested \u0026lsquo;files\u0026rsquo; folder.\n  content  _index.md page  index.md files  attachment.pdf       Be aware that if you use a multilingual website, you will need to have as many folders as languages.\nThat\u0026rsquo;s all !\nParameters    Parameter Default Description     title \u0026ldquo;Attachments\u0026rdquo; List\u0026rsquo;s title   style \u0026rdquo;\u0026rdquo; Choose between \u0026ldquo;orange\u0026rdquo;, \u0026ldquo;grey\u0026rdquo;, \u0026ldquo;blue\u0026rdquo; and \u0026ldquo;green\u0026rdquo; for nice style   pattern \u0026rdquo;.*\u0026rdquo; A regular expressions, used to filter the attachments by file name. The pattern parameter value must be regular expressions.    For example:\n To match a file suffix of \u0026lsquo;jpg\u0026rsquo;, use .*jpg (not *.jpg). To match file names ending in \u0026lsquo;jpg\u0026rsquo; or \u0026lsquo;png\u0026rsquo;, use .*(jpg|png)  Examples List of attachments ending in pdf or mp4 {{%attachments title=\u0026quot;Related files\u0026quot; pattern=\u0026quot;.*(pdf|mp4)\u0026quot;/%}}  renders as\n  Related files   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    Colored styled box {{%attachments style=\u0026quot;orange\u0026quot; /%}}  renders as\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    {{%attachments style=\u0026quot;grey\u0026quot; /%}}  renders as\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    {{%attachments style=\u0026quot;blue\u0026quot; /%}}  renders as\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    {{%attachments style=\u0026quot;green\u0026quot; /%}}  renders as\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    "
},
{
	"uri": "/shortcodes/attachments.fr/",
	"title": "Attachments (PiÃ¨ces jointes)",
	"tags": [],
	"description": "The Attachments shortcode displays a list of files attached to a page.",
	"content": " Le shortcode Attachments affiche une liste de piÃ¨ces jointes d\u0026rsquo;une page.\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    Utilisation Le shortcode affiche la liste de fichiers trouvÃ©s dans un dossier spÃ©cifique A l\u0026rsquo;heure actuelle, il supporte deux implÃ©mentations\n Si votre page est un fichier Markdown, les piÃ¨ces jointes doivent Ãªtre placÃ©e dans un dossier nommÃ© comme le nom de la page et suffixÃ© par .files.\n  content  _index.md page.files  attachment.pdf  page.md    Si votre page est un dossier, les piÃ¨ces jointes doivent Ãªtre placÃ©es dans un dossier fils \u0026lsquo;files\u0026rsquo;.\n  content  _index.md page  index.md files  attachment.pdf       Attention, si votre site est multi-langue, vous devrez avec autant de dossier qu\u0026rsquo;il y a de langues.\nC\u0026rsquo;est tout !\nParamÃ¨tres    ParamÃ¨tre DÃ©faut Description     title \u0026ldquo;PiÃ¨ces jointes\u0026rdquo; Titre de la liste   style \u0026rdquo;\u0026rdquo; Choisir entre \u0026ldquo;orange\u0026rdquo;, \u0026ldquo;grey\u0026rdquo;, \u0026ldquo;blue\u0026rdquo; et \u0026ldquo;green\u0026rdquo; pour un style plus sympa   pattern \u0026rdquo;.*\u0026rdquo; Une expression rÃ©guliÃ¨re, utilisÃ©e pour filtrer les piÃ¨ces jointes par leur nom de fichier. Le paramÃ¨tre pattern doit Ãªtre une expression rÃ©guliÃ¨re.    Par exemple:\n Pour trouver les fichiers avec le suffixe \u0026lsquo;jpg\u0026rsquo;, utilisez .*jpg (pas *.jpg). Pour trouver les fichiers avec les suffixe \u0026lsquo;jpg\u0026rsquo; ou \u0026lsquo;png\u0026rsquo;, utilisez .*(jpg|png)  Exemples Lister les piÃ¨ces jointes de type pdf ou mp4 {{%attachments title=\u0026quot;Fichiers associÃ©s\u0026quot; pattern=\u0026quot;.*(pdf|mp4)\u0026quot;/%}}  s\u0026rsquo;affiche comme\n  Fichiers associÃ©s   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    Modifier le style {{%attachments style=\u0026quot;orange\u0026quot; /%}}  s\u0026rsquo;affiche comme\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    {{%attachments style=\u0026quot;grey\u0026quot; /%}}  s\u0026rsquo;affiche comme\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    {{%attachments style=\u0026quot;blue\u0026quot; /%}}  s\u0026rsquo;affiche comme\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    {{%attachments style=\u0026quot;green\u0026quot; /%}}  s\u0026rsquo;affiche comme\n  Attachments   BachGavotteShort.mp3  (357 ko)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 ko)   adivorciarsetoca00cape.pdf  (361 ko)   hugo.png  (17 ko)   movieselectricsheep-flock-244-32500-2.mp4  (340 ko)    "
},
{
	"uri": "/shortcodes/button/",
	"title": "Button",
	"tags": [],
	"description": "Nice buttons on your page.",
	"content": "A button is a just a clickable button with optional icon.\n{{% button href=\u0026quot;https://getgrav.org/\u0026quot; %}}Get Grav{{% /button %}} {{% button href=\u0026quot;https://getgrav.org/\u0026quot; icon=\u0026quot;fas fa-download\u0026quot; %}}Get Grav with icon{{% /button %}} {{% button href=\u0026quot;https://getgrav.org/\u0026quot; icon=\u0026quot;fas fa-download\u0026quot; icon-position=\u0026quot;right\u0026quot; %}}Get Grav with icon right{{% /button %}}   Get Grav   Get Grav with icon  Get Grav with icon right   "
},
{
	"uri": "/shortcodes/button.fr/",
	"title": "Button (Bouton)",
	"tags": [],
	"description": "De beaux boutons sur votre page.",
	"content": "Le shortcode button est simplement un bouton cliquable avec une icÃ´ne optionnelle.\n{{% button href=\u0026quot;https://getgrav.org/\u0026quot; %}}TÃ©lÃ©chargez Grav{{% /button %}} {{% button href=\u0026quot;https://getgrav.org/\u0026quot; icon=\u0026quot;fas fa-download\u0026quot; %}}TÃ©lÃ©chargez Grav avec icÃ´ne{{% /button %}} {{% button href=\u0026quot;https://getgrav.org/\u0026quot; icon=\u0026quot;fas fa-download\u0026quot; icon-position=\u0026quot;right\u0026quot; %}}TÃ©lÃ©chargez Grav avec icÃ´ne Ã  droite{{% /button %}}   TÃ©lÃ©chargez Grav   TÃ©lÃ©chargez Grav avec icÃ´ne  TÃ©lÃ©chargez Grav avec icÃ´ne Ã  droite   "
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/shortcodes/children/",
	"title": "Children",
	"tags": [],
	"description": "List the child pages of a page",
	"content": " Use the children shortcode to list the child pages of a page and the further descendants (children\u0026rsquo;s children). By default, the shortcode displays links to the child pages.\nUsage    Parameter Default Description     page current Specify the page name (section name) to display children for   style \u0026ldquo;li\u0026rdquo; Choose the style used to display descendants. It could be any HTML tag name   showhidden \u0026ldquo;false\u0026rdquo; When true, child pages hidden from the menu will be displayed   description \u0026ldquo;false\u0026rdquo; Allows you to include a short text under each page in the list.when no description exists for the page, children shortcode takes the first 70 words of your content. read more info about summaries on gohugo.io   depth 1 Enter a number to specify the depth of descendants to display. For example, if the value is 2, the shortcode will display 2 levels of child pages.  Tips: set 999 to get all descendants   sort none Sort Children By\nWeight - to sort on menu orderName - to sort alphabetically on menu labelIdentifier - to sort alphabetically on identifier set in frontmatterURL - URL    Demo {{% children %}}   page 1   page 2   page 3   page test   page test   {{% children description=\u0026quot;true\u0026quot; %}}   page 1  This is a demo child page\n page 2  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n page 3  This is a demo child page\n page test  This is a page test\n page test  Ceci est une page test\n {{% children depth=\u0026quot;3\u0026quot; showhidden=\u0026quot;true\u0026quot; %}}   page 1    page 1-1    page 1-1-1   \n page 2 \n  page test 3     page test 3 \n  \n page 3 \n   page 4 \n   page test \n  page 1    page 1-1    page 2 \n  page test 3   page test 3    page 3 \n   page 4 \n  \n page test \n  page 1    page 1-1    page 2 \n  page test 3   page test 3    page 3 \n   page 4 \n  \n\n{{% children style=\u0026quot;h2\u0026quot; depth=\u0026quot;3\u0026quot; description=\u0026quot;true\u0026quot; %}}   page 1  This is a demo child page\n page 1-1  This is a demo child page\n page 1-1-1  This is a demo child page\n page 2  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n page test 3  This is a page test\n page test 3  Ceci est une page test\n page 3  This is a demo child page\n page test  This is a page test\n page 1  This is a demo child page\n page 1-1  This is a demo child page\n page 2  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n page test 3  This is a page test\n page test 3  Ceci est une page test\n page 3  This is a demo child page\n page test  Ceci est une page test\n page 1  This is a demo child page\n page 1-1  This is a demo child page\n page 2  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n page test 3  This is a page test\n page test 3  Ceci est une page test\n page 3  This is a demo child page\n {{% children style=\u0026quot;div\u0026quot; depth=\u0026quot;999\u0026quot; %}}   page 1   page 1-1   page 1-1-1   page 1-1-1-1   page 1-1-1-1-1   page 2   page test 3   page test 3   page 3   page test   page 1   page 1-1   page 1-1-1   page 1-1-1-1   page 1-1-1-1-1   page 2   page test 3   page test 3   page 3   page test   page 1   page 1-1   page 1-1-1   page 1-1-1-1   page 1-1-1-1-1   page 2   page test 3   page test 3   page 3   "
},
{
	"uri": "/credits/",
	"title": "Credits",
	"tags": [],
	"description": "",
	"content": " Contributors Thanks to them  for making Open Source Software a better place !\n.ghContributors{ display:flex; flex-flow: wrap; align-content: flex-start }\n.ghContributors \u0026gt; div{ width: 50% ; display: inline-flex; margin-bottom: 5px; } .ghContributors \u0026gt; div label{ padding-left: 4px ; } .ghContributors \u0026gt; div span{ font-size: x-small; padding-left: 4px ; }\n  @matcornic 162 commits \n @matalo33 39 commits \n @coliff 18 commits \n @lierdakil 16 commits \n @gwleclerc 13 commits \n @mdavids 10 commits \n @ozobi 5 commits \n @Xipas 5 commits \n @pdelaby 4 commits \n @Chris-Greaves 3 commits \n @mreithub 3 commits \n @massimeddu 3 commits \n @LinuxSuRen 3 commits \n @dptelecom 3 commits \n @willwade 3 commits \n @diemol 2 commits \n @denisvm 2 commits \n @gpospelov 2 commits \n @hucste 2 commits \n @jamesbooker 2 commits \n @tanzaho 2 commits \n @wikijm 2 commits \n @lfalin 2 commits \n @alexvargasbenamburg 1 commits \n @afs2015 1 commits \n @arifpedia 1 commits \n @berryp 1 commits \n @MrMoio 1 commits \n @ChrisLasar 1 commits \n @IEvangelist 1 commits \n @geoffreybauduin 1 commits \n @giuliov 1 commits \n @haitch 1 commits \n @ImgBotApp 1 commits \n @zeegin 1 commits \n @RealOrangeOne 1 commits \n @JohnBlood 1 commits \n @JohnAllen2tgt 1 commits \n @kamilchm 1 commits \n @lloydbenson 1 commits \n @massimocireddu 1 commits \n @sykesm 1 commits \n @nvasudevan 1 commits \n @owulveryck 1 commits \n @654wak654 1 commits \n @PierreAdam 1 commits \n @ripienaar 1 commits \n @pocc 1 commits \n @EnigmaCurry 1 commits \n @taiidani 1 commits \n @exKAZUu 1 commits \n @Oddly 1 commits \n @shelane 1 commits \n @tedyoung 1 commits \n @Thiht 1 commits \n @editicalu 1 commits \n @fossabot 1 commits \n @kamar535 1 commits \n @nonumeros 1 commits \n @pgorod 1 commits \n @proelbtn 1 commits \n\nAnd a special thanks to @vjeantet for his work on docdock, a fork of hugo-theme-learn. v2.0.0 of this theme is inspired by his work.\nPackages and libraries  mermaid - generation of diagram and flowchart from text in a similar manner as markdown font awesome - the iconic font and CSS framework jQuery - The Write Less, Do More, JavaScript Library lunr - Lunr enables you to provide a great search experience without the need for external, server-side, search services\u0026hellip; horsey - Progressive and customizable autocomplete component clipboard.js - copy text to clipboard highlight.js - Javascript syntax highlighter modernizr - A JavaScript toolkit that allows web developers to use new CSS3 and HTML5 features while maintaining a fine level of control over browsers that don\u0026rsquo;t support  Tooling  Netlify - Continuous deployement and hosting of this documentation Hugo  "
},
{
	"uri": "/shortcodes/expand/",
	"title": "Expand",
	"tags": [],
	"description": "Displays an expandable/collapsible section of text on your page",
	"content": " The Expand shortcode displays an expandable/collapsible section of text on your page. Here is an example\n  Expand me...   Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  Usage this shortcode takes exactly one optional parameter to define the text that appears next to the expand/collapse icon. (default is \u0026ldquo;Expand me\u0026hellip;\u0026rdquo;)\n{{%expand \u0026quot;Is this learn theme rocks ?\u0026quot; %}}Yes !.{{% /expand%}}    Is this learn theme rocks ?   Yes !   Demo {{%expand%}} Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. {{% /expand%}}    Expand me...   Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  "
},
{
	"uri": "/shortcodes/expand.fr/",
	"title": "Expand",
	"tags": [],
	"description": "Affiche une section de texte qui se plie et se dÃ©plie",
	"content": " Le shortcode Expand affiche une section de texte qui se plie et se dÃ©plie. Ci-dessous un exemple.\n  Expand me...   Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  Utilisation Ce shortcode prends exactement un paramÃ¨tre optionel pour dÃ©finir le texte Ã  cÃ´tÃ© de l\u0026rsquo;icone. (valeur par dÃ©faut est \u0026ldquo;DÃ©roulez-moi\u0026hellip;\u0026rdquo;)\n{{%expand \u0026quot;Est-ce que ce thÃ¨me envoie du pÃ¢tÃ© ?\u0026quot; %}}Oui !.{{% /expand%}}    Est-ce que ce thÃ¨me envoie du pÃ¢tÃ© ?   Oui !   Demo {{%expand%}} Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. {{% /expand%}}    Expand me...   Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  "
},
{
	"uri": "/shortcodes/mermaid/",
	"title": "Mermaid",
	"tags": [],
	"description": "Generation of diagram and flowchart from text in a similar manner as markdown",
	"content": " Mermaid is a library helping you to generate diagram and flowcharts from text, in a similar manner as Markdown.\nJust insert your mermaid code in the mermaid shortcode and that\u0026rsquo;s it.\nFlowchart example {{\u0026lt;mermaid align=\u0026quot;left\u0026quot;\u0026gt;}} graph LR; A[Hard edge] --\u0026gt;|Link text| B(Round edge) B --\u0026gt; C{Decision} C --\u0026gt;|One| D[Result one] C --\u0026gt;|Two| E[Result two] {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngraph LR; A[Hard edge] --|Link text| B(Round edge) B -- C{Decision} C --|One| D[Result one] C --|Two| E[Result two]  or you can use this alternative syntax:\n ```mermaid graph LR; A[Hard edge] --|Link text| B(Round edge) B -- C{Decision} C --|One| D[Result one] C --|Two| E[Result two] ```  renders as\ngraph LR; A[Hard edge] --\u0026gt;|Link text| B(Round edge) B --\u0026gt; C{Decision} C --\u0026gt;|One| D[Result one] C --\u0026gt;|Two| E[Result two]  Sequence example {{\u0026lt;mermaid\u0026gt;}} sequenceDiagram participant Alice participant Bob Alice-\u0026gt;\u0026gt;John: Hello John, how are you? loop Healthcheck John-\u0026gt;John: Fight against hypochondria end Note right of John: Rational thoughts \u0026lt;br/\u0026gt;prevail... John--\u0026gt;Alice: Great! John-\u0026gt;Bob: How about you? Bob--\u0026gt;John: Jolly good! {{\u0026lt; /mermaid \u0026gt;}}  renders as\nsequenceDiagram participant Alice participant Bob Alice-John: Hello John, how are you? loop Healthcheck John-John: Fight against hypochondria end Note right of John: Rational thoughts prevail... John--Alice: Great! John-Bob: How about you? Bob--John: Jolly good!  or you can use this alternative syntax:\n ```mermaid sequenceDiagram participant Alice participant Bob Alice-John: Hello John, how are you? loop Healthcheck John-John: Fight against hypochondria end Note right of John: Rational thoughts prevail... John--Alice: Great! John-Bob: How about you? Bob--John: Jolly good! ```  renders as\nsequenceDiagram participant Alice participant Bob Alice-\u0026gt;\u0026gt;John: Hello John, how are you? loop Healthcheck John-\u0026gt;John: Fight against hypochondria end Note right of John: Rational thoughts \u0026lt;br/\u0026gt;prevail... John--\u0026gt;Alice: Great! John-\u0026gt;Bob: How about you? Bob--\u0026gt;John: Jolly good!  GANTT Example {{\u0026lt;mermaid\u0026gt;}} gantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d Future task : des3, after des2, 5d Future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and jison :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to mermaid :1d {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d Future task : des3, after des2, 5d Future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and jison :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to mermaid :1d  or you can use this alternative syntax:\n ```mermaid gantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d Future task : des3, after des2, 5d Future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and jison :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to mermaid :1d ```  renders as\ngantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d Future task : des3, after des2, 5d Future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and jison :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to mermaid :1d  Class example  ```mermaid classDiagram Class01 C2 : Where am i? Class09 --* C3 Class09 --| Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08  C2: Cool label ```  renders as\nclassDiagram Class01 \u0026lt;|-- AveryLongClass : Cool Class03 *-- Class04 Class05 o-- Class06 Class07 .. Class08 Class09 --\u0026gt; C2 : Where am i? Class09 --* C3 Class09 --|\u0026gt; Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08 \u0026lt;--\u0026gt; C2: Cool label  Git example  ```mermaid gitGraph: options { \"nodeSpacing\": 150, \"nodeRadius\": 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch ```  renders as\ngitGraph: options { \u0026quot;nodeSpacing\u0026quot;: 150, \u0026quot;nodeRadius\u0026quot;: 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch  "
},
{
	"uri": "/shortcodes/mermaid.fr/",
	"title": "Mermaid",
	"tags": [],
	"description": "GÃ©nÃ©ration de diagrammes Ã  partir de texte, dans le mÃªme style que Markdown",
	"content": " Mermaid est une bibliothÃ¨que Javascript qui permet de gÃ©nÃ©rer des diagrammes (sÃ©quence, Ã©tat, gantt, etc.) Ã  partir de texte, dans le mÃªme style que Markdown.\nInsÃ©rer votre code Mermaid dans un shortcode mermaid et c\u0026rsquo;est tout.\nFlowchart example {{\u0026lt;mermaid align=\u0026quot;left\u0026quot;\u0026gt;}} graph LR; A[Bords droits] --\u0026gt;|Lien texte| B(Bords arondis) B --\u0026gt; C{DÃ©cision} C --\u0026gt;|Un| D[RÃ©sultat un] C --\u0026gt;|Deux| E[RÃ©sultat deux] {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngraph LR; A[Bords droits] --|Lien texte| B(Bords arondis) B -- C{DÃ©cision} C --|Un| D[RÃ©sultat un] C --|Deux| E[RÃ©sultat deux]  or you can use this alternative syntax:\n ```mermaid graph LR; A[Bords droits] --|Lien texte| B(Bords arondis) B -- C{DÃ©cision} C --|Un| D[RÃ©sultat un] C --|Deux| E[RÃ©sultat deux] ```  renders as\ngraph LR; A[Bords droits] --\u0026gt;|Lien texte| B(Bords arondis) B --\u0026gt; C{DÃ©cision} C --\u0026gt;|Un| D[RÃ©sultat un] C --\u0026gt;|Deux| E[RÃ©sultat deux]  Sequence example {{\u0026lt;mermaid\u0026gt;}} sequenceDiagram participant Alice participant Bob Alice-\u0026gt;\u0026gt;John: Salut John, comment vas-tu? loop VÃ©rification John-\u0026gt;John: Se bat contre l'hyponcodrie. end Note right of John: Les pensÃ©es rationnelles\u0026lt;br/\u0026gt;prÃ©dominent... John--\u0026gt;Alice: Super! John-\u0026gt;Bob: Et toi? Bob--\u0026gt;John: Au top! {{\u0026lt; /mermaid \u0026gt;}}  renders as\nsequenceDiagram participant Alice participant Bob Alice-John: Salut John, comment vas-tu? loop VÃ©rification John-John: Se bat contre l'hyponcodrie. end Note right of John: Les pensÃ©es rationnellesprÃ©dominent... John--Alice: Super! John-Bob: Et toi? Bob--John: Au top!  or you can use this alternative syntax:\n ```mermaid sequenceDiagram participant Alice participant Bob Alice-John: Salut John, comment vas-tu? loop VÃ©rification John-John: Se bat contre l'hyponcodrie. end Note right of John: Les pensÃ©es rationnellesprÃ©dominent... John--Alice: Super! John-Bob: Et toi? Bob--John: Au top! ```  renders as\nsequenceDiagram participant Alice participant Bob Alice-\u0026gt;\u0026gt;John: Salut John, comment vas-tu? loop VÃ©rification John-\u0026gt;John: Se bat contre l'hyponcodrie. end Note right of John: Les pensÃ©es rationnelles\u0026lt;br/\u0026gt;prÃ©dominent... John--\u0026gt;Alice: Super! John-\u0026gt;Bob: Et toi? Bob--\u0026gt;John: Au top!  GANTT Example {{\u0026lt;mermaid\u0026gt;}} gantt dateFormat YYYY-MM-DD title Ajout de la fonctionnalitÃ© de GANTT Ã  Mermaid section Une section TÃ¢che complÃ©tÃ©e :done, des1, 2014-01-06,2014-01-08 TÃ¢che en cours :active, des2, 2014-01-09, 3d Future tÃ¢che : des3, after des2, 5d Future tÃ¢che 2 : des4, after des3, 5d section TÃ¢ches critiques TÃ¢che complÃ©tÃ©e dans le chemin critique :crit, done, 2014-01-06,24h ImplÃ©menter le parser et jison :crit, done, after des1, 2d CrÃ©er des tests pour le parser :crit, active, 3d Future tÃ¢che dans le chemin critique :crit, 5d CrÃ©er des tests pour le renderer :2d Ajout Ã  Mermaid :1d {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngantt dateFormat YYYY-MM-DD title Ajout de la fonctionnalitÃ© de GANTT Ã  Mermaid section Une section TÃ¢che complÃ©tÃ©e :done, des1, 2014-01-06,2014-01-08 TÃ¢che en cours :active, des2, 2014-01-09, 3d Future tÃ¢che : des3, after des2, 5d Future tÃ¢che 2 : des4, after des3, 5d section TÃ¢ches critiques TÃ¢che complÃ©tÃ©e dans le chemin critique :crit, done, 2014-01-06,24h ImplÃ©menter le parser et jison :crit, done, after des1, 2d CrÃ©er des tests pour le parser :crit, active, 3d Future tÃ¢che dans le chemin critique :crit, 5d CrÃ©er des tests pour le renderer :2d Ajout Ã  Mermaid :1d  or you can use this alternative syntax:\n ```mermaid gantt dateFormat YYYY-MM-DD title Ajout de la fonctionnalitÃ© de GANTT Ã  Mermaid section Une section TÃ¢che complÃ©tÃ©e :done, des1, 2014-01-06,2014-01-08 TÃ¢che en cours :active, des2, 2014-01-09, 3d Future tÃ¢che : des3, after des2, 5d Future tÃ¢che 2 : des4, after des3, 5d section TÃ¢ches critiques TÃ¢che complÃ©tÃ©e dans le chemin critique :crit, done, 2014-01-06,24h ImplÃ©menter le parser et jison :crit, done, after des1, 2d CrÃ©er des tests pour le parser :crit, active, 3d Future tÃ¢che dans le chemin critique :crit, 5d CrÃ©er des tests pour le renderer :2d Ajout Ã  Mermaid :1d ```  renders as\ngantt dateFormat YYYY-MM-DD title Ajout de la fonctionnalitÃ© de GANTT Ã  Mermaid section Une section TÃ¢che complÃ©tÃ©e :done, des1, 2014-01-06,2014-01-08 TÃ¢che en cours :active, des2, 2014-01-09, 3d Future tÃ¢che : des3, after des2, 5d Future tÃ¢che 2 : des4, after des3, 5d section TÃ¢ches critiques TÃ¢che complÃ©tÃ©e dans le chemin critique :crit, done, 2014-01-06,24h ImplÃ©menter le parser et jison :crit, done, after des1, 2d CrÃ©er des tests pour le parser :crit, active, 3d Future tÃ¢che dans le chemin critique :crit, 5d CrÃ©er des tests pour le renderer :2d Ajout Ã  Mermaid :1d  Class example  ```mermaid classDiagram Class01 C2 : Where am i? Class09 --* C3 Class09 --| Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08  C2: Cool label ```  renders as\nclassDiagram Class01 \u0026lt;|-- AveryLongClass : Cool Class03 *-- Class04 Class05 o-- Class06 Class07 .. Class08 Class09 --\u0026gt; C2 : Where am i? Class09 --* C3 Class09 --|\u0026gt; Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08 \u0026lt;--\u0026gt; C2: Cool label  Git example  ```mermaid gitGraph: options { \"nodeSpacing\": 150, \"nodeRadius\": 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch ```  renders as\ngitGraph: options { \u0026quot;nodeSpacing\u0026quot;: 150, \u0026quot;nodeRadius\u0026quot;: 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch  "
},
{
	"uri": "/shortcodes/notice/",
	"title": "Notice",
	"tags": [],
	"description": "Disclaimers to help you structure your page",
	"content": " The notice shortcode shows 4 types of disclaimers to help you structure your page.\nNote {{% notice note %}} A notice disclaimer {{% /notice %}}  renders as\nA notice disclaimer\n Info {{% notice info %}} An information disclaimer {{% /notice %}}  renders as\nAn information disclaimer\n Tip {{% notice tip %}} A tip disclaimer {{% /notice %}}  renders as\nA tip disclaimer\n Warning {{% notice warning %}} A warning disclaimer {{% /notice %}}  renders as\nA warning disclaimer\n "
},
{
	"uri": "/shortcodes/notice.fr/",
	"title": "Notice",
	"tags": [],
	"description": "Message pour vous aider Ã  structurer votre contenu",
	"content": " Le shortcode Notice permet d\u0026rsquo;afficher 4 types de message pour vous aider Ã  structurer votre contenu.\nNote {{% notice note %}} Une notice de type *note* {{% /notice %}}  s\u0026rsquo;affiche comme\nUne notice de type note\n Info {{% notice info %}} Une notice de type *info* {{% /notice %}}  s\u0026rsquo;affiche comme\nUne notice de type info\n Tip {{% notice tip %}} Une notice de type *tip* {{% /notice %}}  s\u0026rsquo;affiche comme\nUne notice de type tip\n Warning {{% notice warning %}} Une notice de type *warning* {{% /notice %}}  s\u0026rsquo;affiche comme\nUne notice de type warning\n "
},
{
	"uri": "/shortcodes/children/children-1/",
	"title": "page 1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "/shortcodes/children/children-1/children-1-1/",
	"title": "page 1-1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "/shortcodes/children/children-1/children-1-1/children-1-1-1/",
	"title": "page 1-1-1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/",
	"title": "page 1-1-1-1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/",
	"title": "page 1-1-1-1-1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "/shortcodes/children/children-2/",
	"title": "page 2",
	"tags": [],
	"description": "",
	"content": "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n"
},
{
	"uri": "/shortcodes/children/children-3/",
	"title": "page 3",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page, not displayed in the menu\n"
},
{
	"uri": "/shortcodes/children/children-4/",
	"title": "page 4",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page, not displayed in the menu\n"
},
{
	"uri": "/shortcodes/children/test/",
	"title": "page test",
	"tags": [],
	"description": "This is a page test",
	"content": "This is a test demo child page\n"
},
{
	"uri": "/shortcodes/children/test.fr/",
	"title": "page test",
	"tags": [],
	"description": "Ceci est une page test",
	"content": "Ceci est une page de demo\n"
},
{
	"uri": "/shortcodes/children/children-2/test3/",
	"title": "page test 3",
	"tags": [],
	"description": "This is a page test",
	"content": "This is a test 3 demo child page\n"
},
{
	"uri": "/shortcodes/children/children-2/test3.fr/",
	"title": "page test 3",
	"tags": [],
	"description": "Ceci est une page test",
	"content": "Ceci est une page de demo test 3\n"
},
{
	"uri": "/showcase/",
	"title": "Showcase",
	"tags": [],
	"description": "",
	"content": " TAT by OVH Tshark.dev by Ross Jacobs "
},
{
	"uri": "/shortcodes/siteparam/",
	"title": "Site param",
	"tags": [],
	"description": "Get value of site params variables in your page.",
	"content": "siteparam shortcode is used to help you print values of site params.\nFor instance, in this current site, the editURL variable is used in config.toml\n[params] editURL = \u0026quot;https://github.com/matcornic/hugo-theme-learn/edit/master/exampleSite/content/\u0026quot;  Use the siteparam shortcode to display its value.\n`editURL` Value : {{% siteparam \u0026quot;editURL\u0026quot; %}}  is displayed as\neditURL Value :\n"
},
{
	"uri": "/shortcodes/siteparam.fr/",
	"title": "Site param",
	"tags": [],
	"description": "Afficher la valeur d&#39;un paramÃ¨tre global du site dans votre page",
	"content": "Les shortcode siteparam est utilisÃ© pour vous aider Ã  afficher des valeurs provenant des paramÃ¨tres globaux du site.\nPar exemple, dans ce site, le paramÃ¨tre editURL est utilisÃ© dans le fichier config.toml\n[params] editURL = \u0026quot;https://github.com/matcornic/hugo-theme-learn/edit/master/exampleSite/content/\u0026quot;  Utilisez le shortcode siteparam pour affichier sa valeur.\nValeur de `editURL` : {{% siteparam \u0026quot;editURL\u0026quot; %}}  s\u0026rsquo;affiche comme\nValeur de editURL :\n"
}]